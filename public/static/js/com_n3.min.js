function getTimestampFromDTime(n){n||(n=new Date);var t=Date.parse(n);return t/1e3}function getDateFromTimestamp(n){var t=new Date;return t.setTime(n*1e3),t.Format("yyyy-MM-dd")}function judgmentimgsrcFn(n,t,i){var u,r;if(n){for(u=n.length,r=0;r<u;r++)n[r].sv_p_images2!=""&&n[r].sv_p_images2!=null&&n[r].sv_p_images2!=undefined?n[r].sv_p_images2.indexOf(t)>-1?(thisimgsrc=n[r].sv_p_images2.replace(t,i),thisImgArrySrc.push(thisimgsrc)):n[r].sv_p_images2.indexOf(i)>-1?(thisimgsrc=n[r].sv_p_images2,thisImgArrySrc.push(thisimgsrc)):(thisimgsrc=_g_res_images_url+n[r].sv_p_images2,thisImgArrySrc.push(thisimgsrc)):(thisimgsrc="/images/002.png",thisImgArrySrc.push(thisimgsrc));return thisImgArrySrc}}function getNowFormatDate(n,t){var u=new Date,i=u.getMonth()+1,r=u.getDate(),f,e;i>=1&&i<=9&&(i="0"+i);r>=0&&r<=9&&(r="0"+r);f=u.getFullYear()+"/"+i+"/"+r+" 23:59:59";e=u.getFullYear()+"/"+i+"/"+r+" 00:00:00";$("#"+n).val(e);$("#"+t).val(f)}function uploadNewPhotoSrcFn(n){var t,i;return n&&n.attr("src")?(t=n.attr("src"),t.indexOf("http://")>-1||t.indexOf("https://")>-1||t.indexOf("//res.decerp.cc")>-1?(i=t.indexOf("/UploadImg"),t=n.attr("src").substr(i)):t=n.attr("src")):t="",newphotosrcarray.push(t)}function setAvailableIntegralSwitch(n){var u,f,t,i,r,e;PreferentialTopUpGivingConfigList("availableIntegralSwitch","availableIntegralSwitch");Preferential_TopUpGiving_ConfigList!=null&&Preferential_TopUpGiving_ConfigList.length>0&&(f=Preferential_TopUpGiving_ConfigList[0].sv_detail_value,t=Preferential_TopUpGiving_ConfigList[0].sv_user_config_id,i=Preferential_TopUpGiving_ConfigList[0].sv_user_module_id,u=Preferential_TopUpGiving_ConfigList[0].sv_user_configdetail_id);sv_user_module_config!=null&&(t=sv_user_module_config.sv_user_config_id,i=sv_user_module_config.sv_user_module_id);r=[];e={sv_user_configdetail_id:u,sv_detail_value:f,sv_user_config_id:t,sv_user_module_id:i,sv_detail_is_enable:n,sv_user_configdetail_name:"\u662f\u5426\u6309\u53ef\u7528\u79ef\u5206\u664b\u5347",sv_remark:"\u662f\u5426\u6309\u53ef\u7528\u79ef\u5206\u664b\u5347"};r.push(e);$.postAsyncContentJson("/UserModuleConfig/SaveConfigdetailList?moduleCode=MembershipGradeGrouping",r,function(t){t&&(t==1?(availableIntegralSwitch=n,layer.msg("\u4fdd\u5b58\u6210\u529f"),getPrintSetingInfo()):t==-2?layer.msg("\u4f60\u6ca1\u6709\u8be5\u64cd\u4f5c\u6743\u9650\uff01"):layer.msg("\u4fdd\u5b58\u5931\u8d25"))})}function saveBackSelectLabel(n){$.postAsyncContentJson("/UserModuleConfig/SaveConfigdetailList?moduleCode=SetTardware",n,function(n){n&&(n==1?(layer.msg("\u4fdd\u5b58\u6210\u529f"),getPrintSetingInfo()):n==-2?layer.msg("\u4f60\u6ca1\u6709\u8be5\u64cd\u4f5c\u6743\u9650\uff01"):layer.msg("\u4fdd\u5b58\u5931\u8d25"))})}function printSetEnable(n,t,i){$.postAsyncJson("/UserModuleConfig/ConfigdetailOperatePrintSet",{moduleId:n,configId:t,enable:i==!0?!1:!0},function(n){n==!0?(i?$(".PrintSet_network_enable").removeClass("open"):$(".PrintSet_network_enable").addClass("open"),layer.msg("\u4fdd\u5b58\u8bbe\u7f6e\u6210\u529f\uff01")):layer.msg("\u4fdd\u5b58\u8bbe\u7f6e\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01")})}function savePrintSet(){var n=[],r=new RegExp("^[0-5]*$"),u=new RegExp("^[1-5]*$"),t=$("#PrintSet_network").val().trim(),i=$("#PrintSet_default").val().trim(),f=$(".printSet_enable").hasClass("open"),e=$("#PrintSet_default_device").val(),o=$("#PrintSet_network_device").val();if(!r.test(t)||t>5){layer.msg("\u8bf7\u8f93\u5165\u6570\u5b57\uff0c\u5e76\u4e14\u6700\u591a\u53ea\u80fd\u6253\u53705\u4efd");$("#PrintSet_network").focus();return}if(!u.test(i)||i>5){layer.msg("\u8bf7\u8f93\u5165\u6570\u5b57\uff0c\u524d\u53f0\u6253\u5370\u673a\u53ea\u80fd\u8f93\u51651\u52305\u4efd");$("#PrintSet_default").focus();return}$(".form-txtPrint").each(function(){var t={sv_user_configdetail_id:parseInt($(this).attr("data-id")||0),sv_detail_value:$(this).val(),sv_user_config_id:parseInt($(this).attr("data-configid")||0),sv_user_module_id:parseInt($(this).attr("data-moduleid")||0),sv_detail_is_enable:!0,sv_user_configdetail_name:$(this).attr("data-name"),sv_remark:"\u6253\u5370\u673a\u8bbe\u7f6e"};t.sv_user_config_id!=0&&n.push(t)});n.length!=0&&$.postAsyncContentJson("/UserModuleConfig/SaveConfigdetailList?moduleCode=SetTardware",n,function(n){n&&(n==1?(layer.msg("\u4fdd\u5b58\u6210\u529f"),getPrintSetingInfo()):n==-2?layer.msg("\u4f60\u6ca1\u6709\u8be5\u64cd\u4f5c\u6743\u9650\uff01"):layer.msg("\u4fdd\u5b58\u5931\u8d25"))})}function getPrintSetingInfo(){$.getJSON("/UserModuleConfig/GetUserModuleConfigList?module_code=PrintSeting",function(n){var i,r,t;if(n!=null&&(i=n.childInfolist,i!=null&&i.length>0))for(r=0;r<i.length;r++)$("#"+i[r].sv_user_config_code).attr("data-id",0).attr("data-moduleid",n.sv_user_module_id).attr("data-configid",i[r].sv_user_config_id),i[r].childDetailList&&i[r].childDetailList.length>0&&(t=i[r].childDetailList[0],t!=null&&($("#"+i[r].sv_user_config_code).attr("data-id",t.sv_user_configdetail_id),t.sv_detail_value&&$("#"+i[r].sv_user_config_code).val(t.sv_detail_value),i[r].sv_user_config_code=="PrintSet_network_enable"&&(t.sv_detail_is_enable&&$(".PrintSet_network_enable").addClass("open"),$(".PrintSet_network_enable").attr("data-moduleid",n.sv_user_module_id).attr("data-configid",i[r].sv_user_config_id)),i[r].sv_user_config_code=="PrintSet_default_device"&&t.sv_detail_value!=null&&t.sv_detail_value!=""&&($("#PrintSet_default_device").html()!=null&&$("#PrintSet_default_device").html()!=""?$("#PrintSet_default_device").val(t.sv_detail_value):$("#"+i[r].sv_user_config_code).html('<option value="'+t.sv_detail_value+'">'+t.sv_detail_value+"<\/option>")),i[r].sv_user_config_code=="PrintSet_network_device"&&t.sv_detail_value!=null&&t.sv_detail_value!=""&&($("#PrintSet_network_device").html()!=null&&$("#PrintSet_network_device").html()!=""?$("#PrintSet_network_device").val(t.sv_detail_value):$("#"+i[r].sv_user_config_code).html('<option value="'+t.sv_detail_value+'">'+t.sv_detail_value+"<\/option>")),i[r].sv_user_config_code=="PrintSet_network_device_font_islabel"&&t.sv_detail_value!=null&&t.sv_detail_value!=""&&t.sv_detail_is_enable==!0&&$("#PrintSet_network_device_font_islabel").addClass("on"),i[r].sv_user_config_code=="PrintSet_network_device_back_islabel"&&t.sv_detail_value!=null&&t.sv_detail_value!=""&&t.sv_detail_is_enable==!0&&$("#PrintSet_network_device_back_islabel").addClass("on")))})}function saveSetHardware(){if($("#SetTardware_type").val()=="2"){layer.msg("\u6682\u4e0d\u652f\u6301");return}var n=[];$(".form-setTardware").each(function(){var t={sv_user_configdetail_id:parseInt($(this).attr("data-id")),sv_detail_value:$(this).val(),sv_user_config_id:parseInt($(this).attr("data-configid")),sv_user_module_id:parseInt($(this).attr("data-moduleid")),sv_detail_is_enable:!0,sv_user_configdetail_name:$(this).attr("data-name"),sv_remark:"IC\u5361\u8bbe\u7f6e"};n.push(t)});n.length!=0&&$.postAsyncContentJson("/UserModuleConfig/SaveConfigdetailList?moduleCode=SetTardware",n,function(n){n&&(n==1?(layer.msg("\u4fdd\u5b58\u6210\u529f"),_g_is_ic_pwd=$("#SetTardware_pwd").val(),getUserModuleConfigList()):n==-2?layer.msg("\u4f60\u6ca1\u6709\u8be5\u64cd\u4f5c\u6743\u9650\uff01"):layer.msg("\u4fdd\u5b58\u5931\u8d25"))})}function saveSetHardware_CusDisplay(){var n=[];$(".form-setHardwareCusDisplay").each(function(){var t={sv_user_configdetail_id:parseInt($(this).attr("data-id")),sv_detail_value:$(this).val(),sv_user_config_id:parseInt($(this).attr("data-configid")),sv_user_module_id:parseInt($(this).attr("data-moduleid")),sv_detail_is_enable:!0,sv_user_configdetail_name:$(this).attr("data-name"),sv_remark:"\u5ba2\u663e\u914d\u7f6e"};n.push(t)});n.length!=0&&$.postAsyncContentJson("/UserModuleConfig/SaveConfigdetailList?moduleCode=Set_Hardware_CusDisplay",n,function(n){n&&(n==1?(layer.msg("\u4fdd\u5b58\u6210\u529f"),getUserModuleConfigList()):n==-2?layer.msg("\u4f60\u6ca1\u6709\u8be5\u64cd\u4f5c\u6743\u9650\uff01"):layer.msg("\u4fdd\u5b58\u5931\u8d25"))})}function saveSetHardware_Scale(){var n=[];$(".form-Set_Hareware_Scale").each(function(){var t={sv_user_configdetail_id:parseInt($(this).attr("data-id")),sv_detail_value:$(this).val(),sv_user_config_id:parseInt($(this).attr("data-configid")),sv_user_module_id:parseInt($(this).attr("data-moduleid")),sv_detail_is_enable:!0,sv_user_configdetail_name:$(this).attr("data-name"),sv_remark:"\u7535\u5b50\u79e4\u8bbe\u7f6e"};n.push(t)});n.length!=0&&$.postAsyncContentJson("/UserModuleConfig/SaveConfigdetailList?moduleCode=Set_Hareware_Scale",n,function(n){n&&(n==1?(layer.msg("\u4fdd\u5b58\u6210\u529f"),getUserModuleConfigList()):n==-2?layer.msg("\u4f60\u6ca1\u6709\u8be5\u64cd\u4f5c\u6743\u9650\uff01"):layer.msg("\u4fdd\u5b58\u5931\u8d25"))})}function saveSetHardware_SecondScreen(){var n=[];$(".form-Set_Hardware_SecondScreen").each(function(){var t,i,r;$(this).attr("src")&&(t=$(this).attr("src"),t.indexOf("http://")>-1||t.indexOf("https://")>-1||t.indexOf("//res.decerp.cc")>-1?(i=$(this).attr("src").indexOf("/UploadImg"),t=$(this).attr("src").substr(i)):t=$(this).attr("src"));r={sv_user_configdetail_id:parseInt($(this).attr("data-id")),sv_detail_value:t,sv_user_config_id:parseInt($(this).attr("data-configid")),sv_user_module_id:parseInt($(this).attr("data-moduleid")),sv_detail_is_enable:!0,sv_user_configdetail_name:$(this).attr("data-name"),sv_remark:"\u5206\u5c4f\u8bbe\u7f6e"};n.push(r)});n.length!=0&&$.postAsyncContentJson("/UserModuleConfig/SaveConfigdetailList?moduleCode=Set_Hardware_SecondScreen",n,function(n){n&&(n==1?(layer.msg("\u4fdd\u5b58\u6210\u529f"),getUserModuleConfigList()):n==-2?layer.msg("\u4f60\u6ca1\u6709\u8be5\u64cd\u4f5c\u6743\u9650\uff01"):layer.msg("\u4fdd\u5b58\u5931\u8d25"))})}function saveSetHardware_T1SecondScreen(){var t=layer.load(1,{shade:[.1,"#000"]}),i=[],r,n;if($("#Set_Pos_T1_SecondScreen_Size").attr("data-value",$("#Set_Pos_T1_SecondScreen_Size1").is(":checked")),$("#Set_Pos_T1_SecondScreen_Style").attr("data-value",$(".displayblockphoto li.active").index()),r="",$("#uploadfileboxsunmi .photoimagesbox")&&$("#uploadfileboxsunmi .photoimagesbox").length>0)for(n=0;n<$("#uploadfileboxsunmi .photoimagesbox").length;n++)r+=n==$("#uploadfileboxsunmi .photoimagesbox").length-1?$("#uploadfileboxsunmi .photoimagesbox").eq(n).children("img").attr("src"):$("#uploadfileboxsunmi .photoimagesbox").eq(n).children("img").attr("src")+",";$("#Set_Pos_T1_SecondScreen_Images").attr("data-value",r);$("#Set_Pos_T1_SecondScreen_Video").attr("data-value",$("#Set_Pos_T1_SecondScreen_Video").val());$(".form-Set_Hardware_T1SecondScreen").each(function(){var n={sv_user_configdetail_id:parseInt($(this).attr("data-id")),sv_detail_value:$(this).attr("data-value"),sv_user_config_id:parseInt($(this).attr("data-configid")),sv_user_module_id:parseInt($(this).attr("data-moduleid")),sv_detail_is_enable:!0,sv_user_configdetail_name:$(this).attr("data-name"),sv_remark:"\u5b89\u5353\u5546\u7c73T1\u5206\u5c4f\u8bbe\u7f6e"};i.push(n)});i.length!=0&&$.postAsyncContentJson("/UserModuleConfig/SaveConfigdetailList?moduleCode=Set_Pos_T1_SecondScreen",i,function(n){n&&(n==1?(layer.close(t),layer.msg("\u4fdd\u5b58\u6210\u529f"),getUserModuleConfigList()):n==-2?(layer.close(t),layer.msg("\u4f60\u6ca1\u6709\u8be5\u64cd\u4f5c\u6743\u9650\uff01")):(layer.close(t),layer.msg("\u4fdd\u5b58\u5931\u8d25")))})}function getUserModuleConfigList(){$.getJSON("/UserModuleConfig/GetUserModuleConfigList?module_code=SetTardware",function(n){var t,i,r;if(n!=null&&(t=n.childInfolist,t!=null&&t.length>0))for(i=0;i<t.length;i++)t[i].childDetailList&&t[i].childDetailList.length>0&&(r=t[i].childDetailList[0],r!=null?r.sv_detail_is_enable?($("#"+t[i].sv_user_config_code).val(r.sv_detail_value).attr("data-id",r.sv_user_configdetail_id).attr("data-moduleid",n.sv_user_module_id).attr("data-configid",t[i].sv_user_config_id),$(".setTardware").addClass("open"),$("#show_setTardware").css("display","block")):$("#show_setTardware").css("display","none"):$("#"+t[i].sv_user_config_code).attr("data-id",0).attr("data-moduleid",n.sv_user_module_id).attr("data-configid",t[i].sv_user_config_id))})}function getUserModuleConfigList_CusDisplay(){$.getJSON("/UserModuleConfig/GetUserModuleConfigList?module_code=Set_Hardware_CusDisplay",function(n){var t,i,r;if(n!=null&&(t=n.childInfolist,t!=null&&t.length>0))for(i=0;i<t.length;i++)t[i].childDetailList&&t[i].childDetailList.length>0&&(r=t[i].childDetailList[0],r!=null?r.sv_detail_is_enable?($("#"+t[i].sv_user_config_code).val(r.sv_detail_value).attr("data-id",r.sv_user_configdetail_id).attr("data-moduleid",n.sv_user_module_id).attr("data-configid",t[i].sv_user_config_id),$(".setHardwareCusDisplay").addClass("open"),$("#show_setHardwareCusDisplay").css("display","block")):$("#show_setHardwareCusDisplay").css("display","none"):$("#"+t[i].sv_user_config_code).attr("data-id",0).attr("data-moduleid",n.sv_user_module_id).attr("data-configid",t[i].sv_user_config_id))})}function getUserModuleConfigList_Scale(){$.getJSON("/UserModuleConfig/GetUserModuleConfigList?module_code=Set_Hareware_Scale",function(n){var t,i,r;if(n!=null&&(t=n.childInfolist,t!=null&&t.length>0))for(i=0;i<t.length;i++)t[i].childDetailList&&t[i].childDetailList.length>0&&(r=t[i].childDetailList[0],r!=null?r.sv_detail_is_enable?($("#"+t[i].sv_user_config_code).val(r.sv_detail_value).attr("data-id",r.sv_user_configdetail_id).attr("data-moduleid",n.sv_user_module_id).attr("data-configid",t[i].sv_user_config_id),$(".Set_Hareware_Scale").addClass("open"),$("#show_Set_Hareware_Scale").css("display","block")):$("#show_Set_Hareware_Scale").css("display","none"):$("#"+t[i].sv_user_config_code).attr("data-id",0).attr("data-moduleid",n.sv_user_module_id).attr("data-configid",t[i].sv_user_config_id))})}function getUserModuleConfigList_SecondScreen(){$.getJSON("/UserModuleConfig/GetUserModuleConfigList?module_code=Set_Hardware_SecondScreen",function(n){var t,i,r;if(n!=null&&(t=n.childInfolist,t!=null&&t.length>0))for(i=0;i<t.length;i++)t[i].childDetailList&&t[i].childDetailList.length>0&&(r=t[i].childDetailList[0],r!=null?r.sv_detail_is_enable?($("#"+t[i].sv_user_config_code).val(r.sv_detail_value).attr("data-id",r.sv_user_configdetail_id).attr("data-moduleid",n.sv_user_module_id).attr("data-configid",t[i].sv_user_config_id),$("#"+t[i].sv_user_config_code).attr("src",_g_res_images_url+r.sv_detail_value),$(".Set_Hardware_SecondScreen").addClass("open"),$("#show_Set_Hardware_SecondScreen").css("display","block")):$("#show_Set_Hardware_SecondScreen").css("display","none"):$("#"+t[i].sv_user_config_code).attr("data-id",0).attr("data-moduleid",n.sv_user_module_id).attr("data-configid",t[i].sv_user_config_id))})}function getUserModuleConfigList_T1SecondScreen(){$.getJSON("/UserModuleConfig/GetUserModuleConfigList?module_code=Set_Pos_T1_SecondScreen",function(n){var t,r,i,e,u,f;if(n!=null&&(t=n.childInfolist,t!=null&&t.length>0))for(r=0;r<t.length;r++)if(t[r].childDetailList&&t[r].childDetailList.length>0)if(i=t[r].childDetailList[0],i!=null)if(i.sv_detail_is_enable){if($("#"+t[r].sv_user_config_code).val(i.sv_detail_value).attr("data-id",i.sv_user_configdetail_id).attr("data-moduleid",n.sv_user_module_id).attr("data-configid",t[r].sv_user_config_id),$("#"+t[r].sv_user_config_code).attr("data-value",i.sv_detail_value),$(".Set_Pos_T1_SecondScreen_Enable").addClass("open"),$("#androiddisplay").parent("span").addClass("open"),$("#androiddisplay").show(0),t[r].sv_user_config_code=="Set_Pos_T1_SecondScreen_Size"&&(i.sv_detail_value=="true"?($("#Set_Pos_T1_SecondScreen_Size0").removeAttr("checked"),$("#Set_Pos_T1_SecondScreen_Size1").attr("checked",!0),$(".displayblockphoto li:eq(0)").children().children("img").attr("src","../../images/Size14.png")):($("#Set_Pos_T1_SecondScreen_Size0").attr("checked",!0),$("#Set_Pos_T1_SecondScreen_Size1").removeAttr("checked"),$(".displayblockphoto li.siez14").hide())),t[r].sv_user_config_code=="Set_Pos_T1_SecondScreen_Style"&&(i.sv_detail_value>=0&&$(".displayblockphoto li").eq(i.sv_detail_value).addClass("active"),i.sv_detail_value==2||i.sv_detail_value==3?($("#uploadfileboxvideo").hide(),$("#uploadfileboxsunmi").show()):i.sv_detail_value==4||i.sv_detail_value==5?($("#uploadfileboxsunmi").hide(),$("#uploadfileboxvideo").show()):($("#uploadfileboxsunmi").hide(),$("#uploadfileboxvideo").hide())),t[r].sv_user_config_code=="Set_Pos_T1_SecondScreen_Images"&&i.sv_detail_value){for(e=i.sv_detail_value.split(","),u="",$("#uploadfileboxsunmi .photoimagesbox").remove(),f=0;f<e.length;f++)u+='<div class="photoimagesbox displayimg fl">',u+='<img src="'+e[f]+'"><button class="deletethisimg btn">\u5220\u9664<\/button>',u+="<\/div>";$("#uploadfileboxsunmi").prepend(u)}t[r].sv_user_config_code=="Set_Pos_T1_SecondScreen_Video"&&$("#Set_Pos_T1_SecondScreen_Video").val(i.sv_detail_value||"")}else $(".Set_Pos_T1_SecondScreen_Enable").removeClass("open"),$("#androiddisplay").parent("span").removeClass("open"),$("#androiddisplay").hide(0);else $("#"+t[r].sv_user_config_code).attr("data-id",0).attr("data-moduleid",n.sv_user_module_id).attr("data-configid",t[r].sv_user_config_id)})}function isNullOrWhiteSpace(n){try{return(n!=null||n!=undefined)&&(n=n.replace(/\ +/g,"")),n==null||n==""||n==undefined?!1:!0}catch(t){return!1}}function isNullOrEmpty(n){return n==null||n.trim()==null||n.trim()==""||n.trim()==undefined?!1:!0}function jisuqi(n,t,i){money=n;isNullOrWhiteSpace(t)&&$(t).click(function(){Deke.DeKe_dialog.show_Url2(i,"/html/cash/jishu.html?v=25",huidiao,["310px",""])});$("#jishukuan").val($("#jishukuan").val())}function huidiao(){$(".calui li").click(function(){$("#jishukuan").val($("#jishukuan").val()+$(this).data("val"))});$("#jishukuan").val("");$("#jishukuan").focus();$(".posia").click(function(){$("#jishukuan").val("");$("#jishukuan").focus()});$("#woquren").click(function(){$(money).val($("#jishukuan").val());layer.close(index)});$("#quxiao i").click(function(){layer.close(index)});$("#jishukuan").keydown(function(n){n.keyCode=="13"?$("#woquren").click():n.keyCode=="27"&&layer.close(index)})}function provincialCity(n,t,i){$.get("/Ajaxdata/GetPCD/1",function(t){if(t.length>0){for(var i in t)$(n).append('<option value="'+t[i].code+'">'+t[i].name+"<\/option>");$(n).val($(n).val()).change()}});$(n).change(function(){$(i).empty();$.get("/Ajaxdata/GetCityInterlock/"+$(n).val(),function(n){$(t).empty();for(var i in n)$(t).append('<option value="'+n[i].code+'">'+n[i].name+"<\/option>");$(t).val($(t).val());$(t).change()})});$(t).change(function(){$.get("/Ajaxdata/GetDistrictInterlock/"+$(t).val(),function(n){if(n.length>0){$(i).empty();for(var t in n)$(i).append('<option value="'+n[t].code+'">'+n[t].name+"<\/option>");$(i).val($(i).val())}})})}function checkboxAll(n,t){var r=document.getElementById(n),i=document.getElementsByName(t);$("#"+n+"").click(function(){var n;if(r.checked)for(n=0;n<i.length;n++)i[n].checked=!0;else for(n=0;n<i.length;n++)i[n].checked=!1});$(i).click(function(){$(this).prop("checked")?setTimeout(function(){$("input[name="+t+"]:checked").length==$("input[name="+t+"]").length&&$(r).prop("checked",!0)},200):$(r).prop("checked",!1)})}function checkBoxSon(n,t){$("#"+n).click(function(){var i=document.getElementById(n),r=$("#"+t+" input:checkbox");i.checked?$("#"+t+" input:checkbox").each(function(){$(this).prop("checked",!0)}):$("#"+t+" input:checkbox").each(function(){$(this).prop("checked",!1)})});$("#"+t+" input:checkbox").click(function(){$(this).prop("checked")&&$("#"+n).prop("checked",!0)})}function changePwd(){$("#btnSaveChangePwd").click(function(){var t=$("#oldPassword").val(),n=$("#newPassword").val(),i=$("#confirmPassword").val();isNullOrWhiteSpace(t)?isNullOrWhiteSpace(n)?n==t?(layer.msg("\u65b0\u5bc6\u7801\u4e0d\u80fd\u548c\u65e7\u5bc6\u7801\u76f8\u540c\uff01"),$("#newPassword").focus()):/^[\@A-Za-z0-9\!\#\$\%\^\&\*\.\~]{6,15}$/.test(n)?isNullOrWhiteSpace(i)?n!=i?(layer.msg("\u4e24\u6b21\u8f93\u5165\u7684\u65b0\u5bc6\u7801\u4e0d\u4e00\u81f4\uff01"),$("#confirmPassword").focus()):$.postAsyncJson("/AjaxUser/ChangePwd",{oldPassword:t,newPassword:n},function(n){n==1?(layer.msg("\u5bc6\u7801\u4fee\u6539\u6210\u529f,\u8bf7\u91cd\u65b0\u7528\u65b0\u5bc6\u7801\u767b\u5f55\uff01"),layer.close(index),setTimeout(function(){$.post("/AjaxUser/LogOut",null,function(){location.href=_g_is_distributor_customer||verify_distributor_id==100?"../Login":"../Login"})},2e3)):n==-3?($("#oldPassword").focus(),layer.msg("\u539f\u5bc6\u7801\u8f93\u5165\u9519\u8bef\uff01")):n==-5?(layer.msg("\u4f60\u6ca1\u6709\u8be5\u64cd\u4f5c\u6743\u9650\uff01"),layer.close(index)):(layer.msg("\u5bc6\u7801\u4fee\u6539\u5931\u8d25,\u8bf7\u5237\u65b0\u540e\u518d\u91cd\u8bd5\uff01"),layer.close(index))}):(layer.msg("\u786e\u8ba4\u65b0\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"),$("#confirmPassword").focus()):(layer.msg("\u65b0\u5bc6\u7801\u8f93\u5165\u5fc5\u987b\u662f6-15\u4f4d\u5b57\u6bcd\u3001\u6570\u5b57\u6216\u7279\u6b8a\u7b26\u53f7\u7ec4\u6210\uff01"),$("#newPassword").focus()):(layer.msg("\u65b0\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a\uff01"),$("#newPassword").focus()):(layer.msg("\u539f\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a\uff01"),$("#oldPassword").focus())})}function systemPwd(n){if(!isNullOrWhiteSpace(n))return alert("\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a\uff01"),$("#newPassword").focus(),!1;$.ajax({type:"GET",url:"/AjaxUser/CheckPwd?passWord="+n,dataType:"json",success:function(n){n=="0"?alert("\u8f93\u5165\u5bc6\u7801\u4e0d\u6b63\u786e"):layer.confirm("\u521d\u59cb\u5316\u5e97\u94fa\u6570\u636e\u5c06\u65e0\u6cd5\u6062\u590d\uff0c\u786e\u8ba4\u521d\u59cb\u5316\uff1f",{btn:["\u786e\u8ba4","\u53d6\u6d88"]},function(){var n="";$(".uikslx.on").each(function(){n+=$(this).data("id")+","});layer.close(layer.index);n&&n.indexOf("1")>=0?$.get("/System/GetClearDataRowCount",{seid:n},function(t){var u;if(t>0){layer.close();var f=parseInt(t/100||0)+1,r=parseInt(f/100)+1,i=0;$("#progress_clear_userdata_text").html("\u6b63\u5728\u521d\u59cb\u5316\u6570\u636e");u=setInterval(function(){i=parseFloat(parseFloat(i)+1/r).toFixed(2);$("#progress_clear_userdata").css("width",i+"%");$.post("/System/ClearDataBySize",{seid:n,pageSize:100},function(){});console.log("\u6b63\u5728\u6e05\u7406\uff1a"+r);$("#progress_clear_userdata_text").html("\u6b63\u5728\u521d\u59cb\u5316\u6570\u636e "+i+"%");i>=100&&(clearInterval(u),$("#progress_clear_userdata_text").html("\u6e05\u7406\u6210\u529f"),layer.close(),layer.msg("\u6e05\u9664\u6210\u529f"))},5e3)}else t==-2||t==-5?(layer.close(),layer.msg("\u4f60\u6ca1\u6709\u8be5\u64cd\u4f5c\u6743\u9650\uff01")):(layer.close(),layer.msg("\u5220\u9664\u5931\u8d25"))}):n!=""?$.post("/System/UpdatedataClor",{seid:n},function(n){loggin.chklogn(n);n==!0?(layer.close(),layer.msg("\u6e05\u9664\u6210\u529f")):n==-2||n==-5?(layer.close(),layer.msg("\u4f60\u6ca1\u6709\u8be5\u64cd\u4f5c\u6743\u9650\uff01")):(layer.close(),layer.msg("\u5220\u9664\u5931\u8d25"))}):layer.msg("\u8bf7\u9009\u62e9\u8981\u6e05\u9664\u7684\u5bf9\u8c61")})}})}function addUserFeedback(){$("#btnAddUserFeedback").click(function(){var n;isNullOrWhiteSpace($("#userfeedback_content").val())&&$("#userfeedback_content").val().trim().length>=8?$.post("/AjaxData/AddUserFeedback",{userfeedback_content:$("#userfeedback_content").val().trim(),picture:n},function(n){n&&(n.imgurl==!1?($("#userfeedback_content").val(""),$("#upFeedbackImg").val(""),$(".am-p1").html(""),layer.msg("\u4e0a\u4f20\u56fe\u7247\u5931\u8d25")):n.imgurl==-3?layer.msg("\u60a8\u4e0a\u4f20\u7684\u56fe\u7247\u8fc7\u5927\uff0c\u8bf7\u9009\u62e9\u5c0f\u4e8e500kb\u4ee5\u4e0b\u7684\u56fe\u7247"):n.imgurl&&($("#userfeedback_content").val(""),$("#upFeedbackImg").val(""),$(".am-p1").html(""),layer.msg("\u6570\u636e\u5df2\u63d0\u4ea4\uff0c\u611f\u8c22\u60a8\u7684\u53cd\u9988\uff01")))}):($("#userfeedback_content").focus(),layer.msg("\u63d0\u4ea4\u5185\u5bb9\u4e0d\u80fd\u5c11\u4e8e8\u4e2a\u5b57\uff01"))})}function getTimeStamp(){var n=new Date,t=n.getFullYear(),i=n.getMonth(),r=n.getDate(),u=n.getHours(),f=n.getMinutes(),e=n.getSeconds();return t+""+fnW(i+1)+""+fnW(r)+""+fnW(u)+""+fnW(f)+""+fnW(e)}function fnW(n){return n>=10?n:"0"+n}function enabledButton(n){$("#"+n).removeClass("disabled").removeAttr("disabled","disabled")}function disableButton(n){$("#"+n).addClass("disabled").attr("disabled","disabled")}function enabledButtonByClass(n){$("."+n).removeClass("disabled").removeAttr("disabled","disabled")}function disableButtonByClass(n){$("."+n).addClass("disabled").attr("disabled","disabled")}function enabledLinkButtonById(n){$("#"+n).attr("href","javascript:void(0);");$("#"+n).removeAttr("disabed")}function disableButtonById(n){$("#"+n).removeAttr("onclick");$("#"+n).attr("disabed",!0);$("#"+n).removeAttr("href")}function setCookie(n,t,i){var r=new Date;r.setDate(r.getDate()+i);document.cookie=n+"="+escape(t)+(i==null?"":";expires="+r.toGMTString())}function getCookie(n){var t,i=new RegExp("(^| )"+n+"=([^;]*)(;|$)");return(t=document.cookie.match(i))?t[2]:null}function delCookie(n){var t=new Date,i;t.setTime(t.getTime()-1);i=getCookie(n);i!=null&&(document.cookie=n+"="+i+";expires="+t.toGMTString())}function setLocalStorage(n,t){if(window.localStorage){var i=window.localStorage;i.setItem(n,t)}else return!1}function getLocalStorage(n){if(window.localStorage){var t=window.localStorage;return t.getItem(n)}return!1}function removeLocalStorage(n){if(window.localStorage){if(n!=null&&n!=""&&n!=undefined){var t=window.localStorage;t.removeItem(n)}}else return!1}function GetProductConfig(n){var i=!1,t;$(".detailinfo").html("");t=' <div class="makstbox mat15"  id="detailinfo">';t+=' <h3 class="timsl">  <span>\u4ea7\u54c1\u81ea\u5b9a\u4e49\u5c5e\u6027\u8bbe\u7f6e<\/span>';t+='<i type="button" class="tikxm icon-question-sign tips" data-content="\u53ef\u8bbe\u7f6e\u5546\u54c1\u81ea\u5b9a\u4e49\u5c5e\u6027\u5982\uff1a\u989c\u8272(\u7ea2\u8272\uff0c\u84dd\u8272...)\uff0c\u89c4\u683c(S165/155,M170/160...)..."><\/i>';t+="<\/h3>";$.getJSON("/ProductCustomProperties/GetProductAttributeConfiglist",function(r){var u,f;if(r!=null&&r.length>=1)for(i=!0,u=0;u<r.length;u++){if($("#Configinfotext").append(n.replace("@name",r[u].sv_configname).replace("@id",r[u].sv_productconfigid).replace("@name",r[u].sv_configname)),t+='<div class="makstbox mat15" id="configid_'+r[u].sv_productconfigid+'">',t+=' <h3 class="timsl"><span>'+r[u].sv_configname+"<\/span>",t+=r[u].sv_is_open?'<span class="swtith configopen open" style="float:none" data-configid="'+r[u].sv_productconfigid+'"><i><\/i><\/span>':'<span class="swtith configopen" style="float:none" data-configid="'+r[u].sv_productconfigid+'"><i><\/i><\/span>',t+="<\/h3>",t+='<div class="monfot">',t+='<text id="attributedetailtext'+r[u].sv_productconfigid+'">',r[u].childList!=null)for(f=0;f<r[u].childList.length;f++)t+='<a href="javascript:void(0)" class="klisos" data-detailid="'+r[u].childList[f].sv_producdetailid+'" data-name="'+r[u].childList[f].sv_productattributename+'" data-code="'+r[u].childList[f].sv_productattributecode+'" data-configid="'+r[u].sv_productconfigid+'">',t+="<span>"+r[u].childList[f].sv_productattributename+"<\/span>",t+='<i class="poriss  icon-edit updatedetai"><\/i><em class="porvv icon-trash detaidelete"  ><\/em><\/a>';t+="<\/text>";t+='<a href="javascript:void(0)" class="kkadd attributedetail" data-configid='+r[u].sv_productconfigid+'  id="attributedetail'+r[u].sv_productconfigid+'"><i class="icon-plus"><\/i><\/a>';t+="<\/div><\/div>"}t+=" <\/div>";i&&$(".detailinfo").append(t)})}function GetProductAttributeDetail(n){$("#attributedetailtext"+n).html("");var t="";$.getJSON("/ProductCustomProperties/GetProductAttributeDetaillist",{configid:n},function(i){if(i!=null&&i.length>=1)for(var r=0;r<i.length;r++)t+='<a href="javascript:void(0)" class="klisos" data-detailid="'+i[r].sv_producdetailid+'" data-name="'+i[r].sv_productattributename+'" data-code="'+i[r].sv_productattributecode+'" data-configid="'+i[r].sv_productconfigid+'">',t+="<span>"+i[r].sv_productattributename+"<\/span>",t+='<i class="poriss  icon-edit updatedetai" ><\/i><em class="porvv icon-trash detaidelete"  ><\/em><\/a>';$("#attributedetailtext"+n).html(t)})}function getstrlength(n){return n.replace(/[^\x00-\xFF]/g,"**").length}function convertImgToBase64(n,t,i){var u=document.createElement("CANVAS"),f=u.getContext("2d"),r=new Image;r.crossOrigin="Anonymous";r.onload=function(){u.height=r.height;u.width=r.width;f.drawImage(r,0,0);var n=u.toDataURL(i||"image/png");t.call(this,n);u=null};r.src=n}function round(n,t){for(var i=1;t>0;i*=10,t--);for(;t<0;i/=10,t++);return Math.round(n*i)/i}function btnknowFn(){$('<button class="btn-success btn btn_know" style="font-size: 12px;margin-left: 10px;background-color:#eaead6;color:#666666;border:none;">\u7ed3\u675f\u6f14\u793a<\/button>').appendTo(".layui-layer-content")}function btn_newuserFn(){$('<button class="btn-success btn nex1" style="font-size: 12px;background:#7cd97f;color:#ffffff;border:none;">\u2460 \u4e0b\u4e00\u6b65<\/button>').appendTo(".layui-layer-content")}function nexbtn_newuserFn(){$('<button class="btn-success btn nex2" style="font-size: 12px;background-color:#7cd97f;color:#ffffff;border:none;">\u2461 \u4e0b\u4e00\u6b65<\/button>').appendTo(".layui-layer-content")}function nexbtn3_newuserFn(){$('<button class="btn-success btn nex3" style="font-size: 12px;color:#ffffff;border:none;float: right;">\u2462 \u4e0b\u4e00\u6b65<\/button>').appendTo(".layui-layer-content")}function closeFn_end(){$(".btn_know").click(function(){localStorage.clear("update_demo");$(".box-black2 ,.box-black").css("display","none");$(".demo_3,.demo_2,.demo_4").removeClass("more_demo");$(".layui-layer-content").addClass("active_none")})}function layerMsg(n,t){layer.msg(t,{icon:n,time:2e3},function(){layer.closeAll()})}function setDemoItem(){localStorage.setItem("decerp_demo_result",switch0)}function getDemoItem(){localStorage.getItem("decerp_demo_result")}function PreferentialTopUpGivingConfigList(n,t){var u,r,i;if(Preferential_TopUpGiving_ConfigList="",typeof moduleConfigList!="undefined"&&moduleConfigList!=null&&moduleConfigList.length>0)for(u=0;u<moduleConfigList.length;u++)if(moduleConfigList[u].sv_user_module_code==n)if(typeof moduleConfigList[u].ChildInfolist!="undefined"){if(moduleConfigList[u].ChildInfolist!=null&&moduleConfigList[u].ChildInfolist.length>0)for(r=moduleConfigList[u].ChildInfolist,i=0;i<r.length;i++)r[i].sv_user_config_code==t&&(sv_user_module_config=r[i],r[i].ChildDetailList!=null&&r[i].ChildDetailList.length>0&&(is_exist_Preferential_TopUpGiving_ConfigList=!0,Preferential_TopUpGiving_ConfigList=r[i].ChildDetailList))}else if(typeof moduleConfigList[u].childInfolist!="undefined"&&moduleConfigList[u].childInfolist!=null&&moduleConfigList[u].childInfolist.length>0)for(r=moduleConfigList[u].childInfolist,i=0;i<r.length;i++)r[i].sv_user_config_code==t&&(sv_user_module_config=r[i],r[i].childDetailList!=null&&r[i].childDetailList.length>0&&(is_exist_Preferential_TopUpGiving_ConfigList=!0,Preferential_TopUpGiving_ConfigList=r[i].childDetailList))}function PreferentialTopUpGivingConfigListWithIgnore(n,t){var u,r,i;if(Preferential_TopUpGiving_ConfigList="",typeof moduleConfigListIgnore!="undefined"&&moduleConfigListIgnore!=null&&moduleConfigListIgnore.length>0){for(u=0;u<moduleConfigListIgnore.length;u++)if(typeof moduleConfigListIgnore[u].ChildInfolist!="undefined"){if(moduleConfigListIgnore[u].ChildInfolist!=null&&moduleConfigListIgnore[u].ChildInfolist.length>0)for(r=moduleConfigListIgnore[u].ChildInfolist,i=0;i<r.length;i++)r[i].sv_user_config_code==t&&(sv_user_module_config=r[i],r[i].ChildDetailList!=null&&r[i].ChildDetailList.length>0&&(is_exist_Preferential_TopUpGiving_ConfigList=!0,Preferential_TopUpGiving_ConfigList=r[i].ChildDetailList))}else if(typeof moduleConfigListIgnore[u].childInfolist!="undefined"&&moduleConfigListIgnore[u].childInfolist!=null&&moduleConfigListIgnore[u].childInfolist.length>0)for(r=moduleConfigListIgnore[u].childInfolist,i=0;i<r.length;i++)r[i].sv_user_config_code==t&&(sv_user_module_config=r[i],r[i].childDetailList!=null&&r[i].childDetailList.length>0&&(is_exist_Preferential_TopUpGiving_ConfigList=!0,Preferential_TopUpGiving_ConfigList=r[i].childDetailList))}else $.getJSON("/UserModuleConfig/GetMarketingUserModuleConfigList",{module_code:n},function(i){if(i){var r=[];r.push(i);moduleConfigListIgnore=r;PreferentialTopUpGivingConfigListWithIgnore(n,t)}})}function GetConfigStatusInfo(n){if(typeof moduleConfigList!="undefined"&&moduleConfigList!=null&&moduleConfigList.length>0)for(var t=0;t<moduleConfigList.length;t++)if(moduleConfigList[t].sv_user_module_code==n)return moduleConfigList[t].sv_detail_is_enable;return!1}function Timedelay(n,t,i,r,u){var f,e;u>0?(f='<input id="TimedelayDate" style="margin-top:40px;margin-left:30px" type="text" class="laydate-icon" value="">',f+="<\/div>",f+='<div class="layui-layer-btn">',f+='<button type="button" class="button  button-primary button-rounded button-small" data-loading-text="\u6b63\u5728\u64cd\u4f5c\u4e2d.." id="saveimedelay">\u786e\u5b9a<\/button>',f+='<button type="button" class="button  button-default button-rounded button-small" id="cancel">\u53d6\u6d88<\/button>',layer.open({type:1,title:"\u8fc7\u671f\u4ea7\u54c1\u5ef6\u671f",area:["220px","180px"],content:f}),laydate({elem:"#TimedelayDate",format:"YYYY-MM-DD",festival:!0,min:laydate.now()}),laydate.skin("molv"),e=new Date,e.setMonth(e.getMonth()+1),$("#TimedelayDate").val(e.Format("yyyy-MM-dd")),$("#cancel").click(function(){layer.closeAll("page")}),$("#saveimedelay").click(function(){var u={member_id:n,product_id:t,userecord_id:i,user_id:r,validity_date:$("#TimedelayDate").val()};$.ajax({url:"/Ajaxdata/UpdateTimedelayDate",data:JSON.stringify(u),type:"POST",contentType:"application/json",success:function(n){n==!0?(layer.closeAll("page"),layer.msg("\u5ef6\u65f6\u6210\u529f\uff01"),page()):n==-1?(layer.closeAll("page"),layer.msg("\u64cd\u4f5c\u5931\u8d25\uff0c\u65f6\u95f4\u6709\u8bef\uff01")):(layer.closeAll("page"),layer.msg("\u64cd\u4f5c\u5931\u8d25\uff0c\u4ea7\u54c1\u6709\u8bef\uff01"))}})})):(layer.close(),layer.msg("\u5f53\u524d\u4ea7\u54c1\u5df2\u6ca1\u6709\u53ef\u7528\u6b21\u6570\uff01"))}function textBoxNumberVerification(n,t){if(n!=null&&n!=""&&n!=undefined)return t==1?n.value.replace(/^\d+(\.\d+)?$/i,""):n.value.replace(/^\d+$/,"")}function getGlobalValue(){if(typeof moduleConfigList=="undefined"&&(moduleConfigList=parent.moduleConfigList),typeof Is_open_commission=="undefined"&&(Is_open_commission=parent.Is_open_commission),typeof _g_is_ic_flag=="undefined"&&(_g_is_ic_flag=parent._g_is_ic_flag),typeof g_AutomaticallyGenerateMemberId=="undefined"&&(g_AutomaticallyGenerateMemberId=parent.g_AutomaticallyGenerateMemberId),typeof user_id=="undefined")try{user_id=parent.user_id}catch(n){}}function clearNoNumber_input(n){n!=null&&n!=""&&n!=undefined&&n.value!=null&&n.value!=""&&n.value!=undefined&&($(n).data("sv_pricing_method")=="0"?(n.value=parseFloat(n.value||0),n.value=n.value.replace(/[^\-\d]/g,"")):(n.value=n.value.replace(/[^\-\d\.]/g,""),n.value=n.value.replace(/^\./g,""),n.value=n.value.replace(/\.{2,}/g,"."),n.value=n.value.replace(".","$#$").replace(/\./g,"").replace("$#$","."),n.value=n.value.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3")))}function strPlaceholder(n){var i="",t;if(n>0)for(t=0;t<n;t++)i+="&emsp;";return i}function clearInputSpace(n){n!=null&&n!=""&&n!=undefined&&n.value!=null&&n.value!=""&&n.value!=undefined&&(n.value=n.value.replace(/\s/g,""))}function minusSelectDate(n,t){var i=new Date(n),r,u;return i.setDate(i.getDate()-t),r=i.getMonth()+1,u=i.getDate(),r<10&&(r="0"+r),u<10&&(u="0"+u),i.getFullYear()+"/"+r+"/"+u+" 00:00:00"}function addSelectDate(n,t){var i=new Date(n),r,u;return i.setDate(i.getDate()+t),r=i.getMonth()+1,u=i.getDate(),r<10&&(r="0"+r),u<10&&(u="0"+u),i.getFullYear()+"/"+r+"/"+u+" 00:00:00"}function commonOpenLoading(){return layer.load(1,{shade:[.1,"#000"]})}function commonCloseLoading(n){layer.close(n)}function commondResultMsg(n,t,i){layer.msg(n,{icon:t||1,time:i||800},function(){layer.closeAll()})}function minuteByDateTime(n){var r=Date.parse(new Date(n)),t,i,n;return n=r/1e3,t=(new Date).getTime(),t=parseInt((t-n*1e3)/1e3),t<60?"\u521a\u521a":t<3600?(i=Math.floor(t/60),i+"\u5206\u949f"):t<86400&&t>=3600?(i=Math.floor(t/3600),i+"\u5c0f\u65f6"):t<259200&&t>=86400?(i=Math.floor(t/86400),i+"\u5929"):(n=new Date(parseInt(n)*1e3),n.getFullYear()+"/"+(n.getMonth()+1)+"/"+n.getDate())}function minuteByDateTimeTemp(n){var i=Date.parse(new Date(n)),t;return n=i/1e3,t=(new Date).getTime(),t=parseInt((t-n*1e3)/1e3),t<60?"\u521a\u521a":Math.floor(t/60)+"\u5206\u949f"}function getQueryString(n){var r=new RegExp("(^|&)"+n+"=([^&]*)(&|$)","i"),i=window.location.search.substr(1).match(r),t="";return i!=null&&(t=i[2]),r=null,i=null,t==null||t==""||t=="undefined"?"":t}function stopDefault(n){return n&&n.preventDefault?n.preventDefault():window.event.returnValue=!1,!1}function PrintSuccessionInfo(){var p,nt,s,w,b,f,l,k,u,a,d,e,v,g,o,y,i,r,h,et,st;if(successionPrintModel!=null){var c={HeaderList:[],BodyList:[],TitleList:[],FooterList:[],LogoData:null,QRCodeData:null,Action:1,PageType:0},t=0,n=[],ut="\u7ba1\u7406\u5458";if(_g_user_config&&_g_user_config.order_operator&&_g_user_config.sv_ul_name&&(ut=_g_user_config.sv_ul_name),p=$("#selectDate-money").val()||$("#begindateval2").val(),p+="\u81f3\r\n",p+=$("#selectDate-money2").val()||$("#enddateval2").val(),n.push({Content:"\u4ea4\u63a5\u73ed\u8d26\u5355",Columns:1,RowNum:1,Align:1,FontStyleType:1,Width:t,TextFontSize:9}),n.push({Content:"\u4ea4\u63a5\u4eba\uff1a         "+ut,Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),n.push({Content:p,Columns:1,RowNum:1,Align:0,FontStyleType:1,Width:t,TextFontSize:9}),n.push({Content:"-------------------------------------",Columns:1,RowNum:1,Align:0,FontStyleType:1,Width:t,TextFontSize:9}),(successionPrintModel.individual>0||successionPrintModel.userindividual>0)&&(n.push({Content:"\u4eba\u6570\u7b49\u7ea7\u6c47\u603b",Columns:1,RowNum:1,Align:1,TextFont:0,Width:t,TextFontSize:9,FontStyleType:1}),n.push({Content:"-------------------------------------",Columns:1,RowNum:1,Align:0,FontStyleType:1,Width:t,TextFontSize:9}),successionPrintModel.individual>0&&(n.push({Content:"\u6563\u5ba2\u6d88\u8d39\uff1a",Columns:1,RowNum:1,Align:0,FontStyleType:1,Width:188,TextFontSize:9}),n.push({Content:"       "+successionPrintModel.individual+" \u4eba",Columns:3,RowNum:1,Align:2,FontStyleType:1,Width:t,TextFontSize:9})),successionPrintModel.userindividual>0&&(n.push({Content:"\u4f1a\u5458\u6d88\u8d39\uff1a",Columns:1,RowNum:1,Align:0,FontStyleType:1,Width:t,TextFontSize:9}),n.push({Content:"       "+successionPrintModel.userindividual+" \u4eba",Columns:3,RowNum:1,Align:2,FontStyleType:1,Width:188,TextFontSize:9})),n.push({Content:"-------------------------------------",Columns:1,RowNum:2,Align:0,FontStyleType:1,Width:t,TextFontSize:9})),nt=0,successionPrintModel&&successionPrintModel.live&&(nt=successionPrintModel.live.Count),nt>0&&(s=successionPrintModel.live,!isNullOrWhiteSpace(s)&&s.length>0)){for(w=0,i=0;i<s.length;i++)s[i].count>0&&(w<=0&&n.push({Content:"\u65b0\u589e\u4f1a\u5458\u6c47\u603b",Columns:1,RowNum:1,Align:1,TextFont:0,Width:t,TextFontSize:9,FontStyleType:1}),w++,n.push({Content:""+s[i].name+"\uff1a",Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),n.push({Content:"         "+s[i].count+"\u4e2a",Columns:2,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}));w>0&&n.push({Content:"-------------------------------------",Columns:1,RowNum:1,Align:0,FontStyleType:1,Width:t,TextFontSize:9})}if(b=(successionPrintModel.xmoney+successionPrintModel.wmoney+successionPrintModel.wxjzmoney+successionPrintModel.ymoney+successionPrintModel.zmoney+successionPrintModel.zjzmoney).toFixed("2"),f="",successionPrintModel.topUpCustormPayment&&(f=successionPrintModel.topUpCustormPayment),l=0,f&&$.each(f,function(n,t){l+=t.amount}),l>0&&(b=(successionPrintModel.xmoney+successionPrintModel.wmoney+successionPrintModel.wxjzmoney+successionPrintModel.ymoney+successionPrintModel.zmoney+successionPrintModel.zjzmoney+l).toFixed("2")),b>0){if(n.push({Content:"\u4f1a\u5458\u5145\u503c\u6c47\u603b",Columns:1,RowNum:1,Align:1,TextFont:0,Width:t,TextFontSize:9,FontStyleType:1}),successionPrintModel.xmoney>0&&n.push({Content:"\u73b0\u91d1\uff1a           \u00a5"+successionPrintModel.xmoney.toFixed("2"),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.wmoney>0&&n.push({Content:"\u5fae\u4fe1\uff1a           \u00a5"+successionPrintModel.wmoney.toFixed("2"),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.wxjzmoney>0&&n.push({Content:"\u5fae\u4fe1\u8bb0\u8d26\uff1a       \u00a5"+successionPrintModel.wxjzmoney.toFixed("2"),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.ymoney>0&&n.push({Content:"\u94f6\u884c\u5361\uff1a         \u00a5"+successionPrintModel.ymoney.toFixed("2"),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.zmoney>0&&n.push({Content:"\u652f\u4ed8\u5b9d\uff1a         \u00a5"+successionPrintModel.zmoney.toFixed("2"),Columns:1,Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.zjzmoney>0&&n.push({Content:"\u652f\u4ed8\u5b9d\u8bb0\u8d26\uff1a     \u00a5"+successionPrintModel.zjzmoney.toFixed("2"),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),f&&f.length>0)for(i=0;i<f.length;i++)r="\uff1a           \u00a5",f[i].payment.length==3&&(r="\uff1a         \u00a5"),f[i].payment.length==4&&(r="\uff1a       \u00a5"),f[i].payment.length==5&&(r="\uff1a     \u00a5"),f[i].payment.length>=6&&(r="\uff1a   \u00a5"),n.push({Content:f[i].payment+r+f[i].amount,Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0});n.push({Content:"\u5408\u8ba1\uff1a           \u00a5"+b,Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0});n.push({Content:"-------------------------------------",Columns:1,RowNum:1,Align:0,FontStyleType:1,Width:t,TextFontSize:9})}if(k=(successionPrintModel.qxmoney+successionPrintModel.qwxmoney+successionPrintModel.qwxjzmoney+successionPrintModel.qymoney+successionPrintModel.qzmoney+successionPrintModel.qzjzmoney).toFixed("2"),u="",successionPrintModel.ChargeCustormPayment&&(u=successionPrintModel.ChargeCustormPayment),a=0,u&&u.chargeCustormPayment.Count>0&&$.each(u.chargeCustormPayment,function(n,t){a+=t.amount}),a>0&&(k=(successionPrintModel.qxmoney+successionPrintModel.qwxmoney+successionPrintModel.qwxjzmoney+successionPrintModel.qymoney+successionPrintModel.qzmoney+successionPrintModel.qzjzmoney+a).toFixed("2")),k>0){if(n.push({Content:"\u4f1a\u5458\u5145\u6b21\u6c47\u603b",Columns:1,RowNum:1,Align:1,TextFont:0,Width:t,TextFontSize:9,FontStyleType:1}),successionPrintModel.qxmoney>0&&n.push({Content:"\u73b0\u91d1\uff1a           \u00a5"+successionPrintModel.qxmoney.toFixed("2"),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.qwxmoney>0&&n.push({Content:"\u5fae\u4fe1\uff1a           \u00a5"+successionPrintModel.qwxjzmoney.toFixed("2"),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.qwxjzmoney>0&&n.push({Content:"\u5fae\u4fe1\u8bb0\u8d26\uff1a       \u00a5"+successionPrintModel.qwxjzmoney.toFixed("2"),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.qymoney>0&&n.push({Content:"\u94f6\u884c\u5361\uff1a         \u00a5"+successionPrintModel.qymoney.toFixed("2"),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.qzmoney>0&&n.push({Content:"\u652f\u4ed8\u5b9d\uff1a         \u00a5"+successionPrintModel.qzmoney.toFixed("2"),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.qzjzmoney>0&&n.push({Content:"\u652f\u4ed8\u5b9d\u8bb0\u8d26\uff1a     \u00a5"+successionPrintModel.qzjzmoney.toFixed("2"),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),u&&u.length>0)for(i=0;i<u.length;i++)r="\uff1a           \u00a5",u[i].payment.length==3&&(r="\uff1a         \u00a5"),u[i].payment.length==4&&(r="\uff1a       \u00a5"),u[i].payment.length==5&&(r="\uff1a     \u00a5"),u[i].payment.length>=6&&(r="\uff1a   \u00a5"),n.push({Content:u[i].payment+r+u[i].amount,Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0});n.push({Content:"\u5408\u8ba1\uff1a           \u00a5"+k,Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0});n.push({Content:"-------------------------------------",Columns:1,RowNum:1,Align:0,FontStyleType:1,Width:t,TextFontSize:9})}if(d=successionPrintModel.hy_receivable.toFixed("2"),e="",successionPrintModel.memberSalesCustormPaymen!=null&&(e=successionPrintModel.memberSalesCustormPaymen),v=0,e&&$.each(e,function(n,t){v+=t.amount}),v>0&&(d=(successionPrintModel.hy_receivable+v).toFixed("2")),d>0){if(n.push({Content:"\u4f1a\u5458\u6d88\u8d39\u6c47\u603b",Columns:1,Columns:1,RowNum:1,Align:1,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.xreceivable>0&&n.push({Content:"\u73b0\u91d1\uff1a           \u00a5"+successionPrintModel.xreceivable.toFixed(2),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.wreceivable>0&&n.push({Content:"\u5fae\u4fe1\uff1a           \u00a5"+successionPrintModel.wreceivable.toFixed(2),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.wjzreceivable>0&&n.push({Content:"\u5fae\u4fe1\u8bb0\u8d26\uff1a       \u00a5"+successionPrintModel.wjzreceivable.toFixed(2),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.yreceivable>0&&n.push({Content:"\u94f6\u884c\u5361\uff1a         \u00a5"+successionPrintModel.yreceivable.toFixed(2),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.creceivable>0&&n.push({Content:"\u50a8\u503c\u5361\uff1a         \u00a5"+successionPrintModel.creceivable.toFixed(2),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.zreceivable>0&&n.push({Content:"\u652f\u4ed8\u5b9d\uff1a         \u00a5"+successionPrintModel.zreceivable.toFixed(2),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.zjzreceivable>0&&n.push({Content:"\u652f\u4ed8\u5b9d\u8bb0\u8d26\uff1a     \u00a5"+successionPrintModel.zjzreceivable.toFixed(2),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.mreceivable>0&&n.push({Content:"\u7f8e\u56e2\uff1a           \u00a5"+successionPrintModel.mreceivable.toFixed(2),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.kreceivable>0&&n.push({Content:"\u53e3\u7891\uff1a           \u00a5"+successionPrintModel.kreceivable.toFixed(2),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.sreceivable>0&&n.push({Content:"\u95ea\u60e0\uff1a           \u00a5"+successionPrintModel.sreceivable.toFixed(2),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.sszreceivable>0&&n.push({Content:"\u8d4a\u8d26\uff1a           \u00a5"+successionPrintModel.sszreceivable.toFixed(2),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),e&&e.length>0)for(i=0;i<e.length;i++)r="\uff1a           \u00a5",e[i].payment.length==3&&(r="\uff1a         \u00a5"),e[i].payment.length==4&&(r="\uff1a       \u00a5"),e[i].payment.length==5&&(r="\uff1a     \u00a5"),e[i].payment.length>=6&&(r="\uff1a   \u00a5"),n.push({Content:e[i].payment+r+e[i].amount,Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0});n.push({Content:"\u5408\u8ba1\uff1a           \u00a5"+d,Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0});n.push({Content:"-------------------------------------",Columns:1,RowNum:1,Align:0,FontStyleType:1,Width:t,TextFontSize:9})}if(g=successionPrintModel.xk_receivable.toFixed("2"),o="",successionPrintModel.freeSalesCustormPayment&&(o=successionPrintModel.freeSalesCustormPayment),y=0,o&&$.each(o,function(n,t){y+=t.amount}),y>0&&(g=(successionPrintModel.xk_receivable+y).toFixed("2")),g>0){if(n.push({Content:"\u6563\u5ba2\u6d88\u8d39\u6c47\u603b",Columns:1,RowNum:1,Align:1,TextFont:0,Width:t,TextFontSize:9,FontStyleType:1}),successionPrintModel.sxreceivable>0&&n.push({Content:"\u73b0\u91d1\uff1a           \u00a5"+successionPrintModel.sxreceivable.toFixed(2),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.swreceivable>0&&n.push({Content:"\u5fae\u4fe1\uff1a           \u00a5"+successionPrintModel.swreceivable.toFixed(2),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.swjzreceivable>0&&n.push({Content:"\u5fae\u4fe1\u8bb0\u8d26\uff1a       \u00a5"+successionPrintModel.swjzreceivable.toFixed(2),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.syreceivable>0&&n.push({Content:"\u94f6\u884c\u5361\uff1a         \u00a5"+successionPrintModel.syreceivable.toFixed(2),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.szreceivable>0&&n.push({Content:"\u652f\u4ed8\u5b9d\uff1a         \u00a5"+successionPrintModel.szreceivable.toFixed(2),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.szjzreceivable>0&&n.push({Content:"\u652f\u4ed8\u5b9d\u8bb0\u8d26\uff1a     \u00a5"+successionPrintModel.szjzreceivable.toFixed(2),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.smreceivable>0&&n.push({Content:"\u7f8e\u56e2\uff1a           \u00a5"+successionPrintModel.smreceivable.toFixed(2),Columns:1,Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.skreceivable>0&&n.push({Content:"\u53e3\u7891\uff1a           \u00a5"+successionPrintModel.skreceivable.toFixed(2),Columns:1,Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),successionPrintModel.ssreceivable>0&&n.push({Content:"\u95ea\u60e0\uff1a           \u00a5"+successionPrintModel.ssreceivable.toFixed(2),Columns:1,Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),o&&o.length>0)for(i=0;i<o.length;i++)r="\uff1a           \u00a5",o[i].payment.length==3&&(r="\uff1a         \u00a5"),o[i].payment.length==4&&(r="\uff1a       \u00a5"),o[i].payment.length==5&&(r="\uff1a     \u00a5"),o[i].payment.length>=6&&(r="\uff1a   \u00a5"),n.push({Content:o[i].payment+r+o[i].amount,Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0});n.push({Content:"\u5408\u8ba1\uff1a           \u00a5"+g,Columns:1,Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0});n.push({Content:"-------------------------------------",Columns:1,RowNum:1,Align:0,FontStyleType:1,Width:t,TextFontSize:9})}if(successionPrintModel.bulkguestrefund_Total+successionPrintModel.memberrefund_Total>0){if(n.push({Content:"\u9000\u8d27\u91d1\u989d\u7edf\u8ba1",Columns:1,RowNum:1,Align:1,TextFont:0,Width:t,TextFontSize:9,FontStyleType:1}),successionPrintModel.bulkguestRefund_list&&successionPrintModel.bulkguestRefund_list.length>0){for(n.push({Content:"\u6563\u5ba2\u9000\u8d27\u91d1\u989d\u7edf\u8ba1",Columns:1,RowNum:1,Align:1,TextFont:0,Width:t,TextFontSize:9,FontStyleType:1}),i=0;i<successionPrintModel.bulkguestRefund_list.length;i++)r="\uff1a           \u00a5",successionPrintModel.bulkguestRefund_list[i].payment.length==3&&(r="\uff1a         \u00a5"),successionPrintModel.bulkguestRefund_list[i].payment.length==4&&(r="\uff1a       \u00a5"),successionPrintModel.bulkguestRefund_list[i].payment.length==5&&(r="\uff1a     \u00a5"),successionPrintModel.bulkguestRefund_list[i].payment.length>=6&&(r="\uff1a   \u00a5"),n.push({Content:successionPrintModel.bulkguestRefund_list[i].payment+r+successionPrintModel.bulkguestRefund_list[i].amount,Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0});n.push({Content:"\u6563\u5ba2\u9000\u8d27\u603b\u989d\uff1a   \u00a5"+successionPrintModel.bulkguestrefund_Total,Columns:1,Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0});n.push({Content:"-------------------------------------",Columns:1,RowNum:1,Align:0,FontStyleType:1,Width:t,TextFontSize:9})}if(successionPrintModel.memberfund&&successionPrintModel.memberfund.length>0){for(n.push({Content:"\u4f1a\u5458\u9000\u8d27\u91d1\u989d\u7edf\u8ba1",Columns:1,RowNum:1,Align:1,TextFont:0,Width:t,TextFontSize:9,FontStyleType:1}),i=0;i<successionPrintModel.memberfund.length;i++)r="\uff1a           \u00a5",successionPrintModel.memberfund[i].payment.length==3&&(r="\uff1a         \u00a5"),successionPrintModel.memberfund[i].payment.length==4&&(r="\uff1a       \u00a5"),successionPrintModel.memberfund[i].payment.length==5&&(r="\uff1a     \u00a5"),successionPrintModel.memberfund[i].payment.length>=6&&(r="\uff1a   \u00a5"),n.push({Content:successionPrintModel.memberfund[i].payment+r+successionPrintModel.memberfund[i].amount,Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0});n.push({Content:"\u4f1a\u5458\u9000\u8d27\u603b\u989d\uff1a   \u00a5"+successionPrintModel.memberrefund_Total,Columns:1,Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0});n.push({Content:"-------------------------------------",Columns:1,RowNum:1,Align:0,FontStyleType:1,Width:t,TextFontSize:9})}}var tt=successionPrintModel.xk_receivable+(successionPrintModel.xmoney+successionPrintModel.wmoney+successionPrintModel.wxjzmoney+successionPrintModel.ymoney+successionPrintModel.zmoney+successionPrintModel.zjzmoney+successionPrintModel.qxmoney+successionPrintModel.qwxmoney+successionPrintModel.qwxjzmoney+successionPrintModel.qymoney+successionPrintModel.qzmoney+successionPrintModel.qzjzmoney+successionPrintModel.xreceivable+successionPrintModel.wreceivable+successionPrintModel.wjzreceivable+successionPrintModel.yreceivable+successionPrintModel.zreceivable+successionPrintModel.zjzreceivable+y+a+v+l),it=successionPrintModel.xmoney+successionPrintModel.qxmoney+successionPrintModel.sxreceivablebalance+successionPrintModel.xreceivablebalance,ft=successionPrintModel.bulkguestrefund_Total+(successionPrintModel.memberrefund_Total-successionPrintModel.memberStoredvalue),rt=successionPrintModel.memberrefund_new+successionPrintModel.bulkguestrefund_new;(tt>0||it>0||successionPrintModel.jici>0||ft>0||successionPrintModel.memberStoredvalue!=0||rt!=0)&&(n.push({Content:"\u7efc\u5408\u6c47\u603b",Columns:1,RowNum:1,Align:1,TextFont:0,Width:t,TextFontSize:9,FontStyleType:1}),rt&&n.push({Content:"\u73b0\u91d1\u9000\u8d27\u5408\u8ba1\uff1a   \u00a5"+rt,Columns:1,Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),tt>0&&(n.push({Content:"\u7efc\u5408\u603b\u6536\u5165\uff1a ",Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),n.push({Content:"    \u00a5"+(tt-ft).toFixed(2),Columns:3,RowNum:1,Align:2,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0})),it>0&&(n.push({Content:"\u73b0\u91d1\u7ed3\u4f59\uff1a",Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),n.push({Content:"      \u00a5"+it.toFixed(2),Columns:3,RowNum:1,Align:2,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0})),successionPrintModel.jici>0&&(n.push({Content:"\u8ba1\u6b21\u6d88\u8d39\u603b\u6b21\uff1a ",Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),n.push({Content:"   ("+successionPrintModel.jici+")\u4eba",Columns:3,RowNum:1,Align:2,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0})),n.push({Content:"-------------------------------------",Columns:1,RowNum:1,Align:0,FontStyleType:1,Width:t,TextFontSize:9}));(successionPrintModel.free_amount>0||successionPrintModel.discount_amount>0||successionPrintModel.round_amount>0||successionPrintModel.presenter_amount>0||successionPrintModel.ase_expenditure_money>0)&&(n.push({Content:"\u4f18\u60e0\u6c47\u603b",Columns:1,RowNum:1,Align:1,TextFont:0,Width:t,TextFontSize:9,FontStyleType:1}),successionPrintModel.free_amount>0&&(n.push({Content:"\u514d\u5355\u91d1\u989d\uff1a",Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),n.push({Content:"      \u00a5"+successionPrintModel.free_amount.toFixed(2),Columns:3,RowNum:1,Align:2,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0})),successionPrintModel.discount_amount>0&&(n.push({Content:"\u6298\u6263\u91d1\u989d\uff1a",Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),n.push({Content:"      \u00a5"+successionPrintModel.discount_amount.toFixed(2),Columns:3,RowNum:1,Align:2,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0})),successionPrintModel.round_amount>0&&(n.push({Content:"\u62b9\u96f6\u91d1\u989d\uff1a",Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),n.push({Content:"      \u00a5"+successionPrintModel.round_amount.toFixed(2),Columns:3,RowNum:1,Align:2,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0})),successionPrintModel.presenter_amount>0&&(n.push({Content:"\u8d60\u9001\u91d1\u989d\uff1a",Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),n.push({Content:"      \u00a5"+successionPrintModel.presenter_amount.toFixed(2),Columns:3,RowNum:1,Align:2,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0})),successionPrintModel.ase_expenditure_money>0&&(n.push({Content:"\u95e8\u5e97\u652f\u51fa\uff1a",Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0}),n.push({Content:"     \u00a5"+successionPrintModel.ase_expenditure_money.toFixed(2),Columns:3,RowNum:1,Align:2,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0})),n.push({Content:"--------------------------------------",Columns:1,RowNum:1,Align:0,FontStyleType:1,Width:t,TextFontSize:9}));$("#sv_store_cashmoney_enable_div").css("display")=="table-row"&&$("#sv_store_cashmoney_enable_span").html()&&n.push({Content:"\u5907\u7528\u91d1\uff1a"+parseFloat($("#sv_store_cashmoney_enable_span").html()||0).toFixed(2),Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0});n.push({Content:"\u4ea4\u63a5\u7b7e\u5b57\uff1a",Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0});n.push({Content:"\u5e97\u957f\u7b7e\u5b57\uff1a",Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0});h=new Date;et=h.getFullYear()+"-"+(h.getMonth()+1)+"-"+h.getDate()+"  "+h.getHours()+":"+h.getMinutes()+":"+h.getSeconds();n.push({Content:"\u6253\u5370\u65f6\u95f4\uff1a "+et+"",Columns:1,RowNum:1,Align:0,TextFont:0,Width:t,TextFontSize:9,FontStyleType:0});n.push({Content:"-------------------------------------",Columns:1,RowNum:1,Align:0,FontStyleType:1,Width:t,TextFontSize:9});c.HeaderList=n;try{typeof Cef!="undefined"?c.HeaderList.length>8?Cef.CustormPrint(JSON.stringify(c)):alert("\u65e0\u5bf9\u8d26\u6570\u636e\u53ef\u6253\u5370 "):decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android?c.HeaderList.length>8&&(c.PageType=1,cordova.plugins.barcodeScanner.print(function(){},function(n){alert("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(c)})):alert("\u65e0\u4ea4\u63a5\u6570\u636e\u53ef\u6253\u5370 ")}catch(ot){console.log(ot.message);layer.msg("\u8bf7\u53bb\u5b98\u7f51\u4e0b\u8f7d\u6700\u65b0\u5ba2\u6237\u7aef"+ot.message)}st=$.ajax({url:"/AjaxUser/LogOut",timeout:5e3,type:"post",data:{order_operator:_g_user_config.order_operator,startDate:$("#selectDate-money").val(),endDate:$("#selectDate-money2").val(),flag:"exit"},dataType:"json",success:function(){location.href=_g_is_distributor_customer||verify_distributor_id==100?"../Login":"../Login"},complete:function(n,t){t=="timeout"&&(st.abort(),layer.msg("\u4ea4\u63a5\u73ed\u8bf7\u6c42\u8d85\u65f6"),preventTheRepeatClick=!0)}})}}function employeeHandover(){var n={elem:"#selectDate-money",format:"YYYY/MM/DD hh:mm:ss",min:laydate.now(-365),max:laydate.now(),istime:!0,istoday:!1,choose:function(n){t.min=n;t.start=n}},t={elem:"#selectDate-money2",format:"YYYY/MM/DD hh:mm:ss",min:laydate.now(),max:laydate.now(),istime:!0,istoday:!1,choose:function(t){n.max=t;n.min=minusSelectDate(t,365)}};laydate(n);laydate(t);laydate.skin("molv");SuccessionMethods("","")}function SuccessionMethods(n,t){var i=commonOpenLoading();$.getJSON("/intelligent/Succession",{order_operator:_g_user_config.order_operator,startDate:n,endDate:t},function(n){var o,s,e,t,u,f,r,h,c;if(commonCloseLoading(i),n!=null){if(successionPrintModel=n,n.individual>0?($("#Succession_individual").parent().parent().show(),$("#Succession_individual").html(n.individual)):$("#Succession_individual").parent().parent().hide(),n.userindividual>0?($("#Succession_userindividual").parent().parent().show(),$("#Succession_userindividual").html(n.userindividual)):$("#Succession_userindividual").parent().parent().hide(),n.xmoney&&n.xmoney!=0?($("#Succession_xmoney").parent().parent().show(),$("#Succession_xmoney").html(n.xmoney)):$("#Succession_xmoney").parent().parent().hide(),n.wxjzmoney&&n.wxjzmoney!=0?($("#Succession_wxjzmoney").parent().parent().show(),$("#Succession_wxjzmoney").html(n.wxjzmoney)):$("#Succession_wxjzmoney").parent().parent().hide(),n.wmoney&&n.wmoney!=0?($("#Succession_wmoney").parent().parent().show(),$("#Succession_wmoney").html(n.wmoney)):$("#Succession_wmoney").parent().parent().hide(),n.ymoney&&n.ymoney!=0?($("#Succession_ymoney").parent().parent().show(),$("#Succession_ymoney").html(n.ymoney)):$("#Succession_ymoney").parent().parent().hide(),n.zmoney&&n.zmoney!=0?($("#Succession_zmoney").parent().parent().show(),$("#Succession_zmoney").html(n.zmoney)):$("#Succession_zmoney").parent().parent().hide(),n.zjzmoney&&n.zjzmoney!=0?($("#Succession_zjzmoney").parent().parent().show(),$("#Succession_zjzmoney").html(n.zjzmoney)):$("#Succession_zjzmoney").parent().parent().hide(),n.qxmoney&&n.qxmoney!=0?($("#Succession_qxmoney").parent().parent().show(),$("#Succession_qxmoney").html(n.qxmoney)):$("#Succession_qxmoney").parent().parent().hide(),n.qwxjzmoney&&n.qwxjzmoney!=0?($("#Succession_qwxjzmoney").parent().parent().show(),$("#Succession_qwxjzmoney").html(n.qwxjzmoney)):$("#Succession_qwxjzmoney").parent().parent().hide(),n.qwxmoney&&n.qwxmoney!=0?($("#Succession_qwxmoney").parent().parent().show(),$("#Succession_qwxmoney").html(n.qwxmoney)):$("#Succession_qwxmoney").parent().parent().hide(),n.qymoney&&n.qymoney!=0?($("#Succession_qymoney").parent().parent().show(),$("#Succession_qymoney").html(n.qymoney)):$("#Succession_qymoney").parent().parent().hide(),n.qzmoney&&n.qzmoney!=0?($("#Succession_qzmoney").parent().parent().show(),$("#Succession_qzmoney").html(n.qzmoney)):$("#Succession_qzmoney").parent().parent().hide(),n.qzjzmoney&&n.qzjzmoney!=0?($("#Succession_qzjzmoney").parent().parent().show(),$("#Succession_qzjzmoney").html(n.qzjzmoney)):$("#Succession_qzjzmoney").parent().parent().hide(),n.deposit&&n.deposit!=0?($("#Succession_deposit").parent().parent().show(),$("#Succession_deposit").html(n.deposit)):$("#Succession_deposit").parent().parent().hide(),n.xreceivable!=0?($("#Succession_xreceivable").parent().parent().show(),$("#Succession_xreceivable").html(n.xreceivable)):$("#Succession_xreceivable").parent().parent().hide(),n.wreceivable!=0?($("#Succession_wreceivable").parent().parent().show(),$("#Succession_wreceivable").html(n.wreceivable)):$("#Succession_wreceivable").parent().parent().hide(),n.wjzreceivable!=0?($("#Succession_wjzreceivable").parent().parent().show(),$("#Succession_wjzreceivable").html(n.wjzreceivable)):$("#Succession_wjzreceivable").parent().parent().hide(),n.yreceivable!=0?($("#Succession_yreceivable").parent().parent().show(),$("#Succession_yreceivable").html(n.yreceivable)):$("#Succession_yreceivable").parent().parent().hide(),n.creceivable!=0?($("#Succession_creceivable").parent().parent().show(),$("#Succession_creceivable").html(n.creceivable)):$("#Succession_creceivable").parent().parent().hide(),n.zreceivable!=0?($("#Succession_zreceivable").parent().parent().show(),$("#Succession_zreceivable").html(n.zreceivable)):$("#Succession_zreceivable").parent().parent().hide(),n.zjzreceivable!=0?($("#Succession_zjzreceivable").parent().parent().show(),$("#Succession_zjzreceivable").html(n.zjzreceivable)):$("#Succession_zjzreceivable").parent().parent().hide(),n.mreceivable!=0?($("#Succession_mreceivable").parent().parent().show(),$("#Succession_mreceivable").html(n.mreceivable)):$("#Succession_mreceivable").parent().parent().hide(),n.kreceivable!=0?($("#Succession_kreceivable").parent().parent().show(),$("#Succession_kreceivable").html(n.kreceivable)):$("#Succession_kreceivable").parent().parent().hide(),n.sreceivable!=0?($("#Succession_sreceivable").parent().parent().show(),$("#Succession_sreceivable").html(n.sreceivable)):$("#Succession_sreceivable").parent().parent().hide(),n.sszreceivable!=0?($("#Succession_sszreceivable").parent().parent().show(),$("#Succession_sszreceivable").html(n.sszreceivable)):$("#Succession_sszreceivable").parent().parent().hide(),n.memberrefund!=0?($("#Succession_memberrefund").parent().parent().show(),$("#Succession_memberrefund").html(n.memberrefund)):$("#Succession_memberrefund").parent().parent().hide(),n.sxreceivable!=0?($("#Succession_sxreceivable").parent().parent().show(),$("#Succession_sxreceivable").html(n.sxreceivable)):$("#Succession_sxreceivable").parent().parent().hide(),n.swreceivable!=0?($("#Succession_swreceivable").parent().parent().show(),$("#Succession_swreceivable").html(n.swreceivable)):$("#Succession_swreceivable").parent().parent().hide(),n.swjzreceivable!=0?($("#Succession_swjzreceivable").parent().parent().show(),$("#Succession_swjzreceivable").html(n.swjzreceivable)):$("#Succession_swjzreceivable").parent().parent().hide(),n.syreceivable!=0?($("#Succession_syreceivable").parent().parent().show(),$("#Succession_syreceivable").html(n.syreceivable)):$("#Succession_syreceivable").parent().parent().hide(),n.szreceivable!=0?($("#Succession_szreceivable").parent().parent().show(),$("#Succession_szreceivable").html(n.szreceivable)):$("#Succession_szreceivable").parent().parent().hide(),n.szjzreceivable!=0?($("#Succession_szjzreceivable").parent().parent().hide(),$("#Succession_szjzreceivable").html(n.szjzreceivable)):$("#Succession_szjzreceivable").parent().parent().hide(),n.smreceivable!=0?($("#Succession_smreceivable").parent().parent().show(),$("#Succession_smreceivable").html(n.smreceivable)):$("#Succession_smreceivable").parent().parent().hide(),n.skreceivable!=0?($("#Succession_skreceivable").parent().parent().show(),$("#Succession_skreceivable").html(n.skreceivable)):$("#Succession_skreceivable").parent().parent().hide(),n.ssreceivable!=0?($("#Succession_ssreceivable").parent().parent().hide(),$("#Succession_ssreceivable").html(n.ssreceivable)):$("#Succession_ssreceivable").parent().parent().hide(),n.bulkguestrefund_Total!=0?($("#Succession_bulkguestrefund").parent().parent().show(),$("#Succession_bulkguestrefund").html(n.bulkguestrefund_Total)):$("#Succession_bulkguestrefund").parent().parent().hide(),o=0,n&&n.freeSalesCustormPayment&&n.freeSalesCustormPayment.length>0){for(e="",t=0;t<n.freeSalesCustormPayment.length;t++)o+=n.freeSalesCustormPayment[t].amount||0,e+='<tr class="freeSalesCustormlist"><td>'+n.freeSalesCustormPayment[t].payment+"<\/td>",e+='<td colspan="2" style="text-align: right;">\u00a5 <span>'+(n.freeSalesCustormPayment[t].amount||0)+"<\/span><\/td><\/tr>";$(e).insertBefore($("#Succession_xk_receivable").parent().parent());r=$("#Succession_xk_receivable").parent().parent().children("td").eq(0);r.attr("rowspan",parseInt(r.attr("rowspan"))+n.freeSalesCustormPayment.length)}if(s=0,n&&n.memberSalesCustormPayment&&n.memberSalesCustormPayment.length>0){for(e="",t=0;t<n.memberSalesCustormPayment.length;t++)s+=n.memberSalesCustormPayment[t].amount||0,e+='<tr class="freeSalesCustormlist"><td>'+n.memberSalesCustormPayment[t].payment+"<\/td>",e+='<td colspan="2" style="text-align: right;">\u00a5 <span>'+(n.memberSalesCustormPayment[t].amount||0)+"<\/span><\/td><\/tr>";$(e).insertBefore($("#Succession_hy_receivable").parent().parent());r=$("#Succession_hy_receivable").parent().parent().children("td").eq(0);r.attr("rowspan",parseInt(r.attr("rowspan"))+n.memberSalesCustormPayment.length)}if(n&&n.bulkguestRefund_list&&n.bulkguestRefund_list.length>0||n&&n.memberfund&&n.memberfund.length>0){if(n&&n.bulkguestRefund_list&&n.bulkguestRefund_list.length>0){for($(".Succession_bulkguestrefund").show(),$("#bulkguestRefund_return").remove(),$(".bulkguestRefund_returnlist").remove(),u="",u+='<tr id="bulkguestRefund_return"><td colspan="3" style="border-top:1px #aaa dashed;vertical-align: middle; text-align: center; ">\u6563\u5ba2\u9000\u8d27<\/td>',f=0;f<n.bulkguestRefund_list.length;f++)u+='<tr class="bulkguestRefund_returnlist"><td>'+n.bulkguestRefund_list[f].payment+"<\/td>",u+='<td colspan="2" style="text-align: right;">\u00a5 <span>'+(n.bulkguestRefund_list[f].amount||0)+"<\/span><\/td><\/tr>";$("#Succession_bulkguestrefund").html(n.bulkguestrefund_Total);$(u).insertBefore($("#Succession_bulkguestrefund").parent().parent());r=$("#Succession_bulkguestrefund").parent().parent().children("td").eq(0);r.attr("rowspan",parseInt(r.attr("rowspan"))+n.bulkguestRefund_list.length)}else $("#bulkguestRefund_return").remove(),$(".bulkguestRefund_returnlist").remove(),$(".Succession_bulkguestrefund").hide(0);if(n&&n.memberfund&&n.memberfund.length>0){for($(".Succession_memberrefund").show(),$("#Member_return").remove(),$(".Member_returnlist").remove(),u="",u+='<tr id="Member_return"><td colspan="3" style="border-top:1px #aaa dashed;vertical-align: middle; text-align: center; ">\u4f1a\u5458\u9000\u8d27<\/td>',f=0;f<n.memberfund.length;f++)u+='<tr class="Member_returnlist"><td>'+n.memberfund[f].payment+"<\/td>",u+='<td colspan="2" style="text-align: right;">\u00a5 <span>'+(n.memberfund[f].amount||0)+"<\/span><\/td><\/tr>";$("#Succession_memberrefund").html(n.memberrefund_Total);$(u).insertBefore($("#Succession_memberrefund").parent().parent());r=$("#Succession_memberrefund").parent().parent().children("td").eq(0);r.attr("rowspan",parseInt(r.attr("rowspan"))+n.memberfund.length)}else $("#Member_return").remove(),$(".Member_returnlist").remove(),$(".Succession_memberrefund").hide()}else $(".Succession_memberrefund,.Succession_bulkguestrefund").hide(),$("#Member_return,#bulkguestRefund_return").remove(),$(".Member_returnlist,.bulkguestRefund_returnlist").remove();n.hy_receivable+s!=0?($("#Membership_Consumption").show(),$("#Succession_hy_receivable").parent().parent().show(),$("#Succession_hy_receivable").html(n.hy_receivable+s)):($("#Membership_Consumption").hide(),$("#Succession_hy_receivable").parent().parent().hide());n.xk_receivable+o!=0?($("#Individual_consumption").show(),$("#Succession_xk_receivable").parent().parent().show(),$("#Succession_xk_receivable").html(parseFloat(n.xk_receivable+o).toFixed(2))):($("#Individual_consumption").hide(),$("#Succession_xk_receivable").parent().parent().hide());n.jici>0?($("#Subsidiary_amount").show(),$("#Succession_jici").parent().parent().show(),$("#Succession_jici").html(n.jici)):($("#Subsidiary_amount").hide(),$("#Succession_jici").parent().parent().hide());n.hy_receivable+s+n.xk_receivable+o==0?$("#Consumption_statistics").hide():$("#Consumption_statistics").show();h=n.bulkguestrefund_Total+(n.memberrefund_Total-n.memberStoredvalue);c=n.xk_receivable+(n.xmoney+n.wmoney+n.wxjzmoney+n.ymoney+n.zmoney+n.zjzmoney+n.qxmoney+n.qwxmoney+n.qwxjzmoney+n.qymoney+n.qzmoney+n.qzjzmoney+n.xreceivable+n.wreceivable+n.wjzreceivable+n.yreceivable+n.zreceivable+n.zjzreceivable+o+s);$("#Succession_totalRevenue").html((c-h).toFixed(2));$("#successionStartTime").html(n.startTime);$("#successionEndTime").html(n.endTime);$("#selectDate-money").val(n.startTime);$("#selectDate-money2").val(n.endTime);n.free_amount!=0?($("#Succession_free_amount").parent().parent().show(0),$("#Succession_free_amount").html(n.free_amount.toFixed(2))):$("#Succession_free_amount").parent().parent().hide();n.discount_amount!=0?($("#Succession_discount_amount").parent().parent().show(),$("#Succession_discount_amount").html(n.discount_amount.toFixed(2))):$("#Succession_discount_amount").parent().parent().hide();n.round_amount!=0?($("#Succession_discount_amount").parent().parent().show(),$("#Succession_round_amount").html(n.round_amount.toFixed(2))):$("#Succession_round_amount").parent().parent().hide();n.round_amount!=0?($("#Succession_discount_amount").parent().parent().show(0),$("#Succession_presenter_amount").html(n.presenter_amount.toFixed(2))):$("#Succession_presenter_amount").parent().parent().hide();n.sv_store_cashmoney_enable&&($("#sv_store_cashmoney_enable_div").show(0),$("#sv_store_cashmoney_enable_span").html(n.sv_store_cashmoney.toFixed(2)))}})}function GetDailySerialNumber(n){var i,g,y,p,nt=!1,u,v,f,h,e,s,o,w,b,l,k,r,a,c,d,tt;try{if(PreferentialTopUpGivingConfigList("EveryDaySerialNumber","EveryDaySerialNumber"),Preferential_TopUpGiving_ConfigList!=null&&Preferential_TopUpGiving_ConfigList.length>0){if(y=Preferential_TopUpGiving_ConfigList[0].sv_user_config_id,p=Preferential_TopUpGiving_ConfigList[0].sv_user_module_id,g=Preferential_TopUpGiving_ConfigList[0].sv_user_configdetail_id,nt=Preferential_TopUpGiving_ConfigList[0].sv_detail_is_enable,!nt)return"";c=Preferential_TopUpGiving_ConfigList[0].sv_detail_value;c&&(i=JSON.parse(c),i&&(i.datetime&&parseInt(i.datetime,10)+""===i.datetime?i.datetime!=(new Date).getDate().toString()&&liushuihaoDate!=(new Date).getDate().toString()&&(liushuihaoDate=(new Date).getDate().toString(),g_liushuihao="1"):(a=new Date(i.datetime),a.getDate()!=(new Date).getDate().toString()&&liushuihaoDate!=(new Date).getDate().toString()&&(liushuihaoDate=(new Date).getDate().toString(),g_liushuihao="1"))))}var t=serialNumberOfDailyExpressions,it=["0","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],rt=["0","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];if(t.indexOf("{")>=0)for(u="",v=!1,r=0;r<t.length;r++){if(t[r]=="}"){if(f="",v=!1,u.indexOf("now")>=0&&(h=new Date,u.indexOf("now.m")>=0&&(f=h.getMonth()+1),u.indexOf("now.y")>=0&&(f=h.getFullYear()),u.indexOf("now.d")>=0&&(f=h.getDate())),u.indexOf("week")>=0&&(h=new Date,f=h.getDay()),u.indexOf(".toABC")>=0){for(e=parseInt(f),s="";e>0;)o=e%26,o==0&&(o=26),s=it[o]+s,e=(e-o)/26;f=s}if(u.indexOf(".toabc")>=0){for(e=parseInt(f),s="";e>0;)o=e%26,o==0&&(o=26),s=rt[o]+s,e=(e-o)/26;f=s}t=t.replace("{"+u+"}",f+"");u="";r=0}v&&(u+=t[r]);t[r]=="{"&&(v=!0)}if(t.indexOf("[")>=0){for(w=g_liushuihao.toString(),b=0,r=0;r<t.length;r++)t[r]=="["&&b++;for(l="",k=0,r=0;r<t.length;r++)if(t[r]!="["&&t[r]!="]")l+=t[r];else if(k++,(b-w.length)*2<=k)break;l+=w;t.lastIndexOf("]")!=-1&&(l+=t.substr(t.lastIndexOf("]")+1));t=l}return n&&(g_liushuihao=parseInt(g_liushuihao)+1,t=g_liushuihao,i&&(i.SerialNumber=g_liushuihao,i.datetime&&parseInt(i.datetime,10)+""===i.datetime?i.datetime!=(new Date).getDate().toString()&&(i.datetime=(new Date).getDate().toString(),i.SerialNumber=g_liushuihao):(a=new Date(i.datetime),a.getDate()!=(new Date).getDate().toString()&&liushuihaoDate!=(new Date).getDate().toString()&&(i.datetime=(new Date).getDate().toString(),i.SerialNumber=g_liushuihao)),c=JSON.stringify(i),sv_user_module_config!=null&&(y=sv_user_module_config.sv_user_config_id,p=sv_user_module_config.sv_user_module_id),d=[],tt={sv_user_configdetail_id:g,sv_detail_value:c,sv_user_config_id:y,sv_user_module_id:p,sv_detail_is_enable:_g_everyDaySerialNumber,sv_user_configdetail_name:"\u662f\u5426\u542f\u7528\u6bcf\u65e5\u6d41\u6c34\u53f7",sv_remark:"\u662f\u5426\u542f\u7528\u6bcf\u65e5\u6d41\u6c34\u53f7"},d.push(tt),$.postAsyncContentJson("/UserModuleConfig/SaveConfigdetailList?moduleCode=EveryDaySerialNumber",d,function(n){n&&(n==1||(n==-2?layer.msg("\u6bcf\u65e5\u6d41\u6c34\u53f7\u4f60\u6ca1\u6709\u8be5\u64cd\u4f5c\u6743\u9650\uff01"):layer.msg("\u6bcf\u65e5\u6d41\u6c34\u53f7\u81ea\u589e\u957f\u4fdd\u5b58\u5931\u8d25\uff01")))}))),t}catch(ut){}return""}function commonDownloadFile(n){if(typeof Cef!="undefined")Cef.Download(n);else if(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android)try{cordova.plugins.barcodeScanner.dwonloadexcel(function(){},function(){layer.msg("\u4e0b\u8f7d\u5931\u8d25\uff01")},{myPrintImg:n})}catch(t){layer.msg("\u4e0b\u8f7d\u5931\u8d25!")}else location.href=n}function S4(){return((1+Math.random())*65536|0).toString(16).substring(1)}function NewGuid(){return S4()+S4()+"-"+S4()+"-"+S4()+"-"+S4()+"-"+S4()+S4()+S4()}function hex_md5(n){return binl2hex(core_md5(str2binl(n),n.length*chrsz))}function b64_md5(n){return binl2b64(core_md5(str2binl(n),n.length*chrsz))}function str_md5(n){return binl2str(core_md5(str2binl(n),n.length*chrsz))}function hex_hmac_md5(n,t){return binl2hex(core_hmac_md5(n,t))}function b64_hmac_md5(n,t){return binl2b64(core_hmac_md5(n,t))}function str_hmac_md5(n,t){return binl2str(core_hmac_md5(n,t))}function md5_vm_test(){return hex_md5("abc")=="900150983cd24fb0d6963f7d28e17f72"}function core_md5(n,t){var e;n[t>>5]|=128<<t%32;n[(t+64>>>9<<4)+14]=t;var i=1732584193,r=-271733879,u=-1732584194,f=271733878;for(e=0;e<n.length;e+=16){var o=i,s=r,h=u,c=f;i=md5_ff(i,r,u,f,n[e+0],7,-680876936);f=md5_ff(f,i,r,u,n[e+1],12,-389564586);u=md5_ff(u,f,i,r,n[e+2],17,606105819);r=md5_ff(r,u,f,i,n[e+3],22,-1044525330);i=md5_ff(i,r,u,f,n[e+4],7,-176418897);f=md5_ff(f,i,r,u,n[e+5],12,1200080426);u=md5_ff(u,f,i,r,n[e+6],17,-1473231341);r=md5_ff(r,u,f,i,n[e+7],22,-45705983);i=md5_ff(i,r,u,f,n[e+8],7,1770035416);f=md5_ff(f,i,r,u,n[e+9],12,-1958414417);u=md5_ff(u,f,i,r,n[e+10],17,-42063);r=md5_ff(r,u,f,i,n[e+11],22,-1990404162);i=md5_ff(i,r,u,f,n[e+12],7,1804603682);f=md5_ff(f,i,r,u,n[e+13],12,-40341101);u=md5_ff(u,f,i,r,n[e+14],17,-1502002290);r=md5_ff(r,u,f,i,n[e+15],22,1236535329);i=md5_gg(i,r,u,f,n[e+1],5,-165796510);f=md5_gg(f,i,r,u,n[e+6],9,-1069501632);u=md5_gg(u,f,i,r,n[e+11],14,643717713);r=md5_gg(r,u,f,i,n[e+0],20,-373897302);i=md5_gg(i,r,u,f,n[e+5],5,-701558691);f=md5_gg(f,i,r,u,n[e+10],9,38016083);u=md5_gg(u,f,i,r,n[e+15],14,-660478335);r=md5_gg(r,u,f,i,n[e+4],20,-405537848);i=md5_gg(i,r,u,f,n[e+9],5,568446438);f=md5_gg(f,i,r,u,n[e+14],9,-1019803690);u=md5_gg(u,f,i,r,n[e+3],14,-187363961);r=md5_gg(r,u,f,i,n[e+8],20,1163531501);i=md5_gg(i,r,u,f,n[e+13],5,-1444681467);f=md5_gg(f,i,r,u,n[e+2],9,-51403784);u=md5_gg(u,f,i,r,n[e+7],14,1735328473);r=md5_gg(r,u,f,i,n[e+12],20,-1926607734);i=md5_hh(i,r,u,f,n[e+5],4,-378558);f=md5_hh(f,i,r,u,n[e+8],11,-2022574463);u=md5_hh(u,f,i,r,n[e+11],16,1839030562);r=md5_hh(r,u,f,i,n[e+14],23,-35309556);i=md5_hh(i,r,u,f,n[e+1],4,-1530992060);f=md5_hh(f,i,r,u,n[e+4],11,1272893353);u=md5_hh(u,f,i,r,n[e+7],16,-155497632);r=md5_hh(r,u,f,i,n[e+10],23,-1094730640);i=md5_hh(i,r,u,f,n[e+13],4,681279174);f=md5_hh(f,i,r,u,n[e+0],11,-358537222);u=md5_hh(u,f,i,r,n[e+3],16,-722521979);r=md5_hh(r,u,f,i,n[e+6],23,76029189);i=md5_hh(i,r,u,f,n[e+9],4,-640364487);f=md5_hh(f,i,r,u,n[e+12],11,-421815835);u=md5_hh(u,f,i,r,n[e+15],16,530742520);r=md5_hh(r,u,f,i,n[e+2],23,-995338651);i=md5_ii(i,r,u,f,n[e+0],6,-198630844);f=md5_ii(f,i,r,u,n[e+7],10,1126891415);u=md5_ii(u,f,i,r,n[e+14],15,-1416354905);r=md5_ii(r,u,f,i,n[e+5],21,-57434055);i=md5_ii(i,r,u,f,n[e+12],6,1700485571);f=md5_ii(f,i,r,u,n[e+3],10,-1894986606);u=md5_ii(u,f,i,r,n[e+10],15,-1051523);r=md5_ii(r,u,f,i,n[e+1],21,-2054922799);i=md5_ii(i,r,u,f,n[e+8],6,1873313359);f=md5_ii(f,i,r,u,n[e+15],10,-30611744);u=md5_ii(u,f,i,r,n[e+6],15,-1560198380);r=md5_ii(r,u,f,i,n[e+13],21,1309151649);i=md5_ii(i,r,u,f,n[e+4],6,-145523070);f=md5_ii(f,i,r,u,n[e+11],10,-1120210379);u=md5_ii(u,f,i,r,n[e+2],15,718787259);r=md5_ii(r,u,f,i,n[e+9],21,-343485551);i=safe_add(i,o);r=safe_add(r,s);u=safe_add(u,h);f=safe_add(f,c)}return Array(i,r,u,f)}function md5_cmn(n,t,i,r,u,f){return safe_add(bit_rol(safe_add(safe_add(t,n),safe_add(r,f)),u),i)}function md5_ff(n,t,i,r,u,f,e){return md5_cmn(t&i|~t&r,n,t,u,f,e)}function md5_gg(n,t,i,r,u,f,e){return md5_cmn(t&r|i&~r,n,t,u,f,e)}function md5_hh(n,t,i,r,u,f,e){return md5_cmn(t^i^r,n,t,u,f,e)}function md5_ii(n,t,i,r,u,f,e){return md5_cmn(i^(t|~r),n,t,u,f,e)}function core_hmac_md5(n,t){var r=str2binl(n),u,f,i,e;for(r.length>16&&(r=core_md5(r,n.length*chrsz)),u=Array(16),f=Array(16),i=0;i<16;i++)u[i]=r[i]^909522486,f[i]=r[i]^1549556828;return e=core_md5(u.concat(str2binl(t)),512+t.length*chrsz),core_md5(f.concat(e),640)}function safe_add(n,t){var i=(n&65535)+(t&65535),r=(n>>16)+(t>>16)+(i>>16);return r<<16|i&65535}function bit_rol(n,t){return n<<t|n>>>32-t}function str2binl(n){for(var i=Array(),r=(1<<chrsz)-1,t=0;t<n.length*chrsz;t+=chrsz)i[t>>5]|=(n.charCodeAt(t/chrsz)&r)<<t%32;return i}function binl2str(n){for(var i="",r=(1<<chrsz)-1,t=0;t<n.length*32;t+=chrsz)i+=String.fromCharCode(n[t>>5]>>>t%32&r);return i}function binl2hex(n){for(var i=hexcase?"0123456789ABCDEF":"0123456789abcdef",r="",t=0;t<n.length*4;t++)r+=i.charAt(n[t>>2]>>t%4*8+4&15)+i.charAt(n[t>>2]>>t%4*8&15);return r}function binl2b64(n){for(var u,i,r="",t=0;t<n.length*4;t+=3)for(u=(n[t>>2]>>8*(t%4)&255)<<16|(n[t+1>>2]>>8*((t+1)%4)&255)<<8|n[t+2>>2]>>8*((t+2)%4)&255,i=0;i<4;i++)r+=t*8+i*6>n.length*32?b64pad:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(u>>6*(3-i)&63);return r}function g_cashPaymentMethodConfigFunc(){}function checkSubmit(){if(checkSubmitFlg==!0)return!1}function IntegralToNow(){var n,i;if(_g_uc_dixian!=null){if($("#jiFenDiXian").attr("checked",jifendixiankaiguan),n=_g_sumorigprice,i=parseInt($("#memberintegral").text()),_g_uc_dixian.whether&&i>0&&_g_uc_dixian.auto>0){var t=parseInt($("#exchange_value").val())||i,r='<input  readonly  style="outline:none; font-size:14px;font-weight:500px; width:64px;border-radius: 8px;border: 1px solid #ccc; padding-left: 8px" type="text" id="exchange_value" value="'+t+'"><a href="javascript:void(0);" id="Integral_adjustment" style="color: #2196f3;" > \u8c03\u6574<\/a>',u="\u53ef\u4f7f\u7528"+r+" \u79ef\u5206\u62b5"+parseInt(t/_g_uc_dixian.auto)+"\u5143";$(".jiFenDiXian").find("#jifendixiantishi").html(u);$(".jiFenDiXian").show();jifendixiankaiguan==!1&&(t=0);parseInt(n)-parseInt(t/_g_uc_dixian.auto)<0?(_g_deductIntegral=parseInt(n)*parseInt(_g_uc_dixian.auto),$("#yinshou").val((n-parseInt(n)).toFixed(2)),$("#yinshou").change()):(_g_deductIntegral=parseInt(_g_uc_dixian.auto)*parseInt(t/_g_uc_dixian.auto),$("#yinshou").val((n-parseInt(t/_g_uc_dixian.auto)).toFixed(2)),$("#yinshou").change())}$("#Integral_adjustment").click(function(){layer.prompt({title:"\u8f93\u5165\u62b5\u6263\u79ef\u5206\uff0c\u5e76\u786e\u8ba4",formType:0},function(n,t){n<=0?layer.msg("\u62b5\u6263\u79ef\u5206\u4e0d\u80fd\u4f4e\u4e8e0"):parseInt($("#memberintegral").text())<n?layer.msg("\u6b64\u4f1a\u5458\u6700\u591a\u53ea\u80fd\u62b5\u6263"+parseInt($("#memberintegral").text())+"\u79ef\u5206"):($("#exchange_value").val(n),onchange_exchange_value());layer.close(t)})})}}function onchange_exchange_value(){var n=parseInt($("#memberintegral").text());if(n<parseInt($("#exchange_value").val())&&jifendixiankaiguan||parseInt($("#exchange_value").val())<=0)return parseInt($("#exchange_value").val())<=0?layer.msg("\u62b5\u6263\u79ef\u5206\u4e0d\u80fd\u4f4e\u4e8e0"):layer.msg("\u6b64\u4f1a\u5458\u6700\u591a\u53ea\u80fd\u62b5\u6263"+n+"\u79ef\u5206"),!1;jifendixiankaiguan&&IntegralToNow()}function cliskgetuser(n,t){var i=!1,r;$("#memberlevel_id").val()!=null&&$("#memberlevel_id").val()!=""&&$("#memberlevel_id").val()>=1&&(i=!0);t||(t=$("#query_user").val());$("#query_user").val()!=""&&(r=n!=null&&n!=""?n:user_id,$.get("/Ajaxdata/QueryUserModel?id="+t+"&userid="+r,function(n){var t,r,u;if(n==null){layer.msg("\u627e\u4e0d\u5230\u8be5\u4f1a\u5458\uff0c\u8bf7\u67e5\u8bc1\u518d\u67e5\u8be2");$(".sv_ml_name").text("");$(".sv_mw_availableamount").text("");$(".sv_mw_availablepoint").text("");$(".sv_ml_commondiscount").text("");$(".sv_mr_birthday").text("");$(".sv_mr_mobile").text("");$("#query_user").data("id","");sv_discount_config=[];$("#sv_mr_cardno").val("").data("level_id","");$("#memberlevel_id").val("-1");zhonger();regroupsettlementdata();automaticChangeMoney();onloadcardshop();return}if(n.type==1)Deke.DeKe_dialog.show_Url3("\u9009\u62e9\u4f1a\u5458","/html/cash/xianzhehuiy.html?v=42",f4,["730px",""],"shoyin2"),$("#userid").val(""),memberlist=n.list;else{if(n.isOverdue)return layer.msg("\u6b64\u5361\u5df2\u8fc7\u671f"),$(".sv_ml_name,.sv_mr_name").text(""),$(".sv_mw_availableamount").text(""),$(".sv_mw_availablepoint").text(""),$(".sv_ml_commondiscount").text(""),$(".sv_mr_birthday").text(""),$(".sv_mr_mobile").text(""),$("#query_user").data("id",""),sv_discount_config=[],$("#sv_mr_cardno").val("").data("level_id",""),$("#memberlevel_id").val("-1"),zhonger(),regroupsettlementdata(),automaticChangeMoney(),onloadcardshop(),!1;if(n.sv_mr_status==1)return layer.msg("\u6b64\u5361\u5df2\u6302\u5931"),$(".sv_ml_name,sv_mr_name").text(""),$(".sv_mw_availableamount").text(""),$(".sv_mw_availablepoint").text(""),$(".sv_ml_commondiscount").text(""),$(".sv_mr_birthday").text(""),$(".sv_mr_mobile").text(""),$("#query_user").data("id",""),sv_discount_config=[],$("#sv_mr_cardno").val("").data("level_id",""),$("#memberlevel_id").val("-1"),zhonger(),regroupsettlementdata(),automaticChangeMoney(),onloadcardshop(),!1;_cache_memberinfo_json=n;$("#user_descount").text(_member_discount);for(t in n)t=="sv_mr_birthday"?(r=new Date(n[t]).Format("yyyy-MM-dd"),r=="1-01-01"&&(r=""),$("."+t).text(r)):(t=="member_id"?($("#"+t).val(n[t]),$("#query_user").data("id",n[t]),onloadcardshop(n[t])):(t=="user_id"&&($("#"+t).val(n[t]),$("#userid").val(n[t])),t=="sv_recommended_peopleid"?$("#"+t).val(n[t]):t=="memberlevel_id"?$("#"+t).val(n[t]):$("."+t).text(n[t])),t=="sv_mr_name"&&($("#Cashxzhy").find("input").val(n[t]),$("#query_user").data("name",n[t])),t=="sv_ml_commondiscount"&&(parseFloat(n[t])!=0?($("#yinshou").val(returnFloat(parseFloat($("#yinshou").data("val"))*(parseFloat(n[t])/10))),$("#xianjin").val($("#yinshou").val()).change(),$("#order_discount").val(parseFloat(n[t]))):(_member_discount=100,$("#user_descount").text(100),$("#yinshou").val(returnFloat(parseFloat($("#yinshou").data("val"))*1)),$("#xianjin").val($("#yinshou").val()).change(),$("#order_discount").val(10))));i||$("#memberlevel_id").val()==null||$("#memberlevel_id").val()==""||(GetConfigdataBylevel($("#memberlevel_id").val()),GetUserLevelDiscount_Config($("#memberlevel_id").val()));$("#memberlevel_id").val()!=null&&$("#memberlevel_id").val()!=""&&$("#memberlevel_id").val()>=1&&(PreferentialTopUpGivingConfigListWithIgnore("Preferential","TopUpGiving"),u=$("#userid").val(),$("#memberlevel_id").val()!=null&&$("#memberlevel_id").val()!=""&&GetConfigdataTopConfigBylevel($("#memberlevel_id").val()));GetUserLevelDiscount_Config($("#memberlevel_id").val())}}))}function clickSinglegetuser(n,t){var i=!1;$("#memberlevel_id").val()!=null&&$("#memberlevel_id").val()!=""&&$("#memberlevel_id").val()>=1&&(i=!0);$("#query_user").val()!=""&&$.get("/Ajaxdata/GetUserModel",{id:t},function(n){var t,r,u;if(n==null){layer.msg("\u627e\u4e0d\u5230\u8be5\u4f1a\u5458\uff0c\u8bf7\u67e5\u8bc1\u518d\u67e5\u8be2");$(".sv_ml_name").text("");$(".sv_mw_availableamount").text("");$(".sv_mw_availablepoint").text("");$(".sv_ml_commondiscount").text("");$(".sv_mr_birthday").text("");$(".sv_mr_mobile").text("");$("#query_user").data("id","");return}_cache_memberinfo_json=n;$("#user_descount").text(_member_discount);for(t in n)t=="sv_mr_birthday"?(r=new Date(n[t]).Format("yyyy-MM-dd"),r=="1-01-01"&&(r=""),$("."+t).text(r)):(t=="member_id"?($("#"+t).val(n[t]),$("#query_user").data("id",n[t])):(t=="user_id"&&($("#"+t).val(n[t]),$("#userid").val(n[t])),t=="sv_recommended_peopleid"?$("#"+t).val(n[t]):t=="memberlevel_id"?$("#"+t).val(n[t]):$("."+t).text(n[t])),t=="sv_mr_name"&&($("#Cashxzhy").find("input").val(n[t]),$("#query_user").data("name",n[t])),t=="sv_ml_commondiscount"&&(parseFloat(n[t])!=0?($("#yinshou").val(returnFloat(parseFloat($("#yinshou").data("val"))*(parseFloat(n[t])/10))),$("#xianjin").val($("#yinshou").val()).change(),$("#order_discount").val(parseFloat(n[t]))):(_member_discount=100,$("#user_descount").text(100),$("#yinshou").val(returnFloat(parseFloat($("#yinshou").data("val"))*1)),$("#xianjin").val($("#yinshou").val()).change(),$("#order_discount").val(10))));i||$("#memberlevel_id").val()==null||$("#memberlevel_id").val()==""?(GetConfigdataBylevel(-1),GetUserLevelDiscount_Config(-1)):(GetConfigdataBylevel($("#memberlevel_id").val()),GetUserLevelDiscount_Config($("#memberlevel_id").val()));$("#memberlevel_id").val()!=null&&$("#memberlevel_id").val()!=""&&$("#memberlevel_id").val()>=1&&(PreferentialTopUpGivingConfigListWithIgnore("Preferential","TopUpGiving"),u=$("#userid").val(),$("#memberlevel_id").val()!=null&&$("#memberlevel_id").val()!=""&&GetConfigdataTopConfigBylevel($("#memberlevel_id").val()));GetUserLevelDiscount_Config($("#memberlevel_id").val())})}function f11(){var n="",t;overdue_userecord_id="";t="";member_product_overdue_id="";$("#Cashlefsit > li").each(function(){if($(this).hasClass("product_type"))n+=' <tr class="MouseMobile" data-id="'+this.id+'" id="Overdue_tr_'+this.id+'"><td>'+$(this).find(".nn1").text()+"<\/td><td>"+$(this).find(".nump").text()+"<\/td><td>"+$(this).find(".jiage").text()+"<\/td> <td>-"+$(this).find(".nump").text()+'\u6b21<\/td><td>\u50a8\u503c\u5361<\/td><td> <a id="Overdue_'+this.id+'"  href="javascript:void(0);" style="display:none" ><span onclick="DeleteOverdue('+this.id+')" data-id="'+this.id+'" class="icon-remove"><\/span><\/a><\/td><\/tr>';else{var i=parseFloat($(this).find(".jiage").text())*(parseFloat(_member_discount)/100),r=i*parseFloat($(this).find(".nump").text());n+=" <tr ><td>"+$(this).find(".nn1").text()+"<\/td><td>"+$(this).find(".nump").text()+"<\/td><td>"+i+"<\/td> <td>"+r+"<\/td><td>\u5f85\u9009\u62e9<\/td><\/tr>"}t+=this.id});$("#liulist").html(n);$("#yinfu").text($("#jieshuajie2").text());n="";$.getJSON("/Ajaxdata/GetCharge/"+$("#huiyuan_id").attr("data-id"),{clas:0,page:-1},function(n){for(var r,i=0;i<n.length;i++)n[i].sv_mcc_leftcount>0&&(r="",isNullOrWhiteSpace(n[i].validity_date)&&(r=new Date(n[i].validity_date).Format("yyyy-MM-dd")),n[i].getvalidity?member_product_overdue_id.indexOf(n[i].product_id)<0&&(member_product_overdue_id+=n[i].product_id+",",t.indexOf(n[i].product_id)>=0&&(overdue_userecord_id+=n[i].product_id+","),$(".diaobox").append('<li calss="toptop_'+n[i].product_id+'" style="background:#f2c210"><div class="toptop"><span>'+n[i].sv_p_name+"<\/span> <a href=\"javascript:void(0)\" onclick=\"chsaisi2($('#sv_mr_cardno').text(),'"+n[i].product_id+"','"+n[i].sv_p_name+'\')" class="milefts">\u5145\u6b21<\/a> <\/div><div class="botbot"><p>\u5269\u4f59\u6b21\u6570 <span>'+n[i].sv_mcc_leftcount+'\u6b21<\/span><\/p><p>\u6709\u6548\u65e5\u671f <span style="background: #ff6668; color: #fff;">'+r+"(\u5df2\u903e\u671f)<\/span><\/p><\/div><\/li>")):$(".diaobox").append('<li><div class="toptop"><span>'+n[i].sv_p_name+"<\/span> <a href=\"javascript:void(0)\" onclick=\"chsaisi2($('#sv_mr_cardno').text(),'"+n[i].product_id+"','"+n[i].sv_p_name+'\')" class="milefts">\u5145\u6b21<\/a> <\/div><div class="botbot"><p>\u5269\u4f59\u6b21\u6570 <span>'+n[i].sv_mcc_leftcount+"\u6b21<\/span><\/p><p>\u6709\u6548\u65e5\u671f <span>"+r+"<\/span><\/p><\/div><\/li>"));overdue_userecord_id=overdue_userecord_id.replace(/,$/gi,"")});$("#CAshjsuan").click(function(){var n=!0,t;if(jifendixiankaiguan=!1,isNullOrWhiteSpace(overdue_userecord_id))return layer.msg("\u5f53\u524d\u8ba2\u5355\u5b58\u5728\u903e\u671f\u4fe1\u606f\uff01"),!1;$("#Cashlefsit li:not('.product_type')").length==0?layer.confirm("\u60a8\u786e\u8ba4\u5e10\u5355\u6ca1\u6709\u95ee\u9898\u4e86\u5417\uff1f",{btn:["\u786e\u5b9a","\u53d6\u6d88"]},function(){if(n)if($("#liulist .MouseMobile").length>=1)if(_g_sv_uit_cache_name=="cache_name_cosmetology"||_g_sv_uit_cache_name=="cache_name_massage_regimen"||_g_sv_uit_cache_name=="cache_name_maternal_supplies"||_g_sv_uit_cache_name=="cache_name_auto_beauty"){var t=$(window).width();t>1366?Deke.DeKe_dialog.getShowMaxBtnPage("","/html/cash/jieshuan3.html?v="+getTimeStamp(),f2,["1300px","768px"],"","auto"):Deke.DeKe_dialog.getShowMaxBtnPage("","/html/cash/jieshuan3.html?v="+getTimeStamp(),f2,["100%","100%"],"","46px")}else Deke.DeKe_dialog.show_Url3("","/html/cash/jieshuan2.html?v="+getTimeStamp(),f2,["877px",""],"shoyin2");else layer.msg("\u8bf7\u9009\u62e9\u60a8\u8981\u7ed3\u7b97\u7684\u8ba2\u5355\uff01")}):n&&($("#liulist .MouseMobile").length>=1?_g_sv_uit_cache_name=="cache_name_cosmetology"||_g_sv_uit_cache_name=="cache_name_massage_regimen"||_g_sv_uit_cache_name=="cache_name_maternal_supplies"||_g_sv_uit_cache_name=="cache_name_auto_beauty"?(t=$(window).width(),t>1366?Deke.DeKe_dialog.getShowMaxBtnPage("","/html/cash/jieshuan3.html?v="+getTimeStamp(),f2,["1300px","768px"],"","auto"):Deke.DeKe_dialog.getShowMaxBtnPage("","/html/cash/jieshuan3.html?v="+getTimeStamp(),f2,["100%","100%"],"","46px")):Deke.DeKe_dialog.show_Url3("","/html/cash/jieshuan2.html?v="+getTimeStamp(),f2,["877px",""],"shoyin2"):layer.msg("\u8bf7\u9009\u62e9\u60a8\u8981\u7ed3\u7b97\u7684\u8ba2\u5355\uff01"))});$(".MouseMobile").each(function(){this.onmouseover=function(){$("#Overdue_"+$(this).data("id")).show()};this.onmouseout=function(){$("#Overdue_"+$(this).data("id")).hide()}})}function f10(){$(".removelistp").remove();$(".product_type").remove();$("#query_user").data("id")==undefined||$("#query_user").data("id")==""?($("#huiyuan_id").text("").data("id","0").data("jiekou","100"),$("#yuecount").text("0.00").attr("data-money",0),$("#sv_mr_cardno").val("").data("level_id",""),$("#memberlevel_id").val(-1),$("#user_descount").text(100),sv_discount_config=[],new_cache_memberinfo_json=null,_cache_memberinfo_json=null,_member_discount=100,zhonger()):$.getJSON("/Ajaxdata/branchrelation",{userid:$("#userid").val()},function(n){var i,r,f,h,t,u;if(n==-3)$("#userid").val(""),layer.msg("\u5f53\u524d\u4f1a\u5458\u4e0d\u652f\u6301\u8de8\u5e97\u6d88\u8d39"),setTimeout(function(){layer.closeAll()},800);else{if(i=$("#query_user").val(),$("#sv_mr_cardno").val($("#query_user").val()),$("#sv_mr_cardno").attr("data-level_id",$("#memberlevel_id").val()),i&&i!=""&&i!=undefined&&i!=null)i=i.length>4?"**"+i.slice(-4):i;else{layer.msg("\u672a\u83b7\u53d6\u5230\u4f1a\u5458\u4fe1\u606f\uff0c\u8bf7\u5237\u65b0\u91cd\u8bd5");return}if(member_product_overdue_id="",r=$(".sv_mr_name").text(),r=r.length>3?r.slice(0,2)+"*"+r.slice(-1):r,$("#huiyuan_id").text(r+"("+i+")").attr("data-id",$("#query_user").data("id")).data("jiekou",$(".sv_ml_commondiscount").text()),$("#yuecount").text(returnFloat($(".sv_mw_availableamount").text())).attr("data-money",returnFloat($(".sv_mw_availableamount").text())),f=100,$(".sv_ml_commondiscount").text()!=null&&$(".sv_ml_commondiscount").text()!=undefined&&$(".sv_ml_commondiscount").text()!=""&&(f=parseFloat($(".sv_ml_commondiscount").text())*10),$("#user_descount").text(f),f>0&&(_member_discount=f),h=parseFloat($(".sv_ml_commondiscount").text()),(h==0||$(".sv_ml_commondiscount").text()=="")&&(h=10),$("#user_descount").text(returnFloat(h*10)),Judgingindustry()){if(Itemdetailarr&&Itemdetailarr.length>0)for(t=0;t<Itemdetailarr.length;t++)if(Itemdetailarr[t].sv_mcc_leftcount>0&&!Itemdetailarr[t].Getvalidity){$("#"+Itemdetailarr[t].product_id).remove();u="";Itemdetailarr[t].validity_date&&(u=getTimestampFromDTime(Itemdetailarr[t].validity_date));var e=!1,o=0,s=0;Itemdetailarr[t].setup&&(e=Itemdetailarr[t].setup.sv_is_monthly_performance,o=Itemdetailarr[t].setup.project_config_value,s=Itemdetailarr[t].setup.project_config_type);Itemdetailarr[t].sv_p_memberprice>0?$("#Cashlefsit").prepend('<li class="removelistp" data-sv_mcc_leftcount="'+Itemdetailarr[t].sv_mcc_leftcount+'" data-sv_serialnumber="'+Itemdetailarr[t].sv_serialnumber+'" data-userecord_id="'+Itemdetailarr[t].userecord_id+'" data-sv_product_type="'+Itemdetailarr[t].sv_product_type+'" data-sv_order_guid="'+NewGuid()+'" data-sv_is_monthly_performance="'+e+'" data-project_config_value="'+o+'" data-project_config_type="'+s+'" p_validity_date="'+u+'" id="'+Itemdetailarr[t].product_id+'" data-prname="'+Itemdetailarr[t].sv_p_name+'" data-categoryid="'+Itemdetailarr[t].productcategory_id+'" data-smallcategoryid="'+Itemdetailarr[t].productsubcategory_id+'" data-mindiscount="'+Itemdetailarr[t].sv_p_mindiscount+'" data-minunitprice="'+Itemdetailarr[t].sv_p_minunitprice+'" data-memberprice="'+Itemdetailarr[t].sv_p_memberprice+'" data-untprice="'+Itemdetailarr[t].sv_p_unitprice+'" data-pricingmethod="0"  data-salesmode="0"><div class="naerigh">  <p class="nn1">'+Itemdetailarr[t].sv_p_name+'<\/p><p class="nn2"><span class="fl" style="display:none;">'+Itemdetailarr[t].product_id+'<\/span><span class="fl">'+Itemdetailarr[t].sv_p_barcode+'<\/span><span class="fr">\u6570\u91cf <text class="nump" data-cnum="'+Itemdetailarr[t].sv_mcc_leftcount+'">1<\/text><\/span><\/p> <p class="nn3"><span class="fl">\u4f1a\u5458\u5355\u4ef7\uff1a\u00a5<text class="jiage memberprice" data-rjia="'+Itemdetailarr[t].sv_p_unitprice+'" data-orgprice="'+Itemdetailarr[t].sv_p_unitprice+'">'+Itemdetailarr[t].sv_p_memberprice+'<\/text><\/span><span class="fr">\u00a5 <text class="zhong" data-zhekou="1" data-sv_p_originalprice="0"> '+Itemdetailarr[t].sv_p_memberprice+"<\/span><\/p><\/div> <\/li>"):Itemdetailarr[t].sv_p_minunitprice>0?$("#Cashlefsit").prepend('<li class="removelistp" data-sv_mcc_leftcount="'+Itemdetailarr[t].sv_mcc_leftcount+'" data-sv_serialnumber="'+Itemdetailarr[t].sv_serialnumber+'" data-userecord_id="'+Itemdetailarr[t].userecord_id+'" data-sv_product_type="'+Itemdetailarr[t].sv_product_type+'" data-sv_order_guid="'+NewGuid()+'" data-sv_is_monthly_performance="'+e+'" data-project_config_value="'+o+'" data-project_config_type="'+s+'" p_validity_date="'+u+'" id="'+Itemdetailarr[t].product_id+'" data-prname="'+Itemdetailarr[t].sv_p_name+'" data-categoryid="'+Itemdetailarr[t].productcategory_id+'" data-smallcategoryid="'+Itemdetailarr[t].productsubcategory_id+'" data-mindiscount="'+Itemdetailarr[t].sv_p_mindiscount+'" data-minunitprice="'+Itemdetailarr[t].sv_p_minunitprice+'" data-memberprice="'+Itemdetailarr[t].sv_p_memberprice+'" data-untprice="'+Itemdetailarr[t].sv_p_unitprice+'" data-pricingmethod="0"  data-salesmode="0"><div class="naerigh">  <p class="nn1">'+Itemdetailarr[t].sv_p_name+'<\/p><p class="nn2"><span class="fl" style="display:none;">'+Itemdetailarr[t].product_id+'<\/span><span class="fl">'+Itemdetailarr[t].sv_p_barcode+'<\/span><span class="fr">\u6570\u91cf <text class="nump" data-cnum="'+Itemdetailarr[t].sv_mcc_leftcount+'">1<\/text><\/span><\/p> <p class="nn3"><span class="fl">\u6700\u4f4e\u5355\u4ef7\uff1a\u00a5<text class="jiage minunitprice" data-rjia="'+Itemdetailarr[t].sv_p_minunitprice+'" data-orgprice="'+Itemdetailarr[t].sv_p_unitprice+'">'+Itemdetailarr[t].sv_p_minunitprice+'<\/text><\/span><span class="fr">\u00a5 <text class="zhong" data-zhekou="1" data-sv_p_originalprice="0"> '+Itemdetailarr[t].sv_p_memberprice+"<\/span><\/p><\/div> <\/li>"):Itemdetailarr[t].sv_p_minunitprice>0?$("#Cashlefsit").prepend('<li class="removelistp" data-sv_mcc_leftcount="'+Itemdetailarr[t].sv_mcc_leftcount+'" data-sv_serialnumber="'+Itemdetailarr[t].sv_serialnumber+'" data-userecord_id="'+Itemdetailarr[t].userecord_id+'" data-sv_product_type="'+Itemdetailarr[t].sv_product_type+'" data-sv_order_guid="'+NewGuid()+'" data-sv_is_monthly_performance="'+e+'" data-project_config_value="'+o+'" data-project_config_type="'+s+'" p_validity_date="'+u+'" id="'+Itemdetailarr[t].product_id+'" data-prname="'+Itemdetailarr[t].sv_p_name+'" data-categoryid="'+Itemdetailarr[t].productcategory_id+'" data-smallcategoryid="'+Itemdetailarr[t].productsubcategory_id+'" data-mindiscount="'+Itemdetailarr[t].sv_p_mindiscount+'" data-minunitprice="'+Itemdetailarr[t].sv_p_minunitprice+'" data-memberprice="'+Itemdetailarr[t].sv_p_memberprice+'" data-untprice="'+Itemdetailarr[t].sv_p_unitprice+'" data-pricingmethod="0"  data-salesmode="0"><div class="naerigh">  <p class="nn1">'+Itemdetailarr[t].sv_p_name+'<\/p><p class="nn2"><span class="fl" style="display:none;">'+Itemdetailarr[t].product_id+'<\/span><span class="fl">'+Itemdetailarr[t].sv_p_barcode+'<\/span><span class="fr">\u6570\u91cf <text class="nump" data-cnum="'+Itemdetailarr[t].sv_mcc_leftcount+'">1<\/text><\/span><\/p> <p class="nn3"><span class="fl">\u6700\u4f4e\u5355\u4ef7\uff1a\u00a5<text class="jiage mindiscount" data-rjia="'+Itemdetailarr[t].sv_p_mindiscount*10+'" data-orgprice="'+Itemdetailarr[t].sv_p_mindiscount*10+'">'+Itemdetailarr[t].sv_p_mindiscount*10+'%<\/text><\/span><span class="fr">\u00a5 <text class="zhong" data-zhekou="1" data-sv_p_originalprice="0"> '+Itemdetailarr[t].sv_p_memberprice+"<\/span><\/p><\/div> <\/li>"):$("#Cashlefsit").prepend('<li class="removelistp" data-sv_mcc_leftcount="'+Itemdetailarr[t].sv_mcc_leftcount+'" data-sv_serialnumber="'+Itemdetailarr[t].sv_serialnumber+'" data-userecord_id="'+Itemdetailarr[t].userecord_id+'" data-sv_product_type="'+Itemdetailarr[t].sv_product_type+'" data-sv_order_guid="'+NewGuid()+'" data-sv_is_monthly_performance="'+e+'" data-project_config_value="'+o+'" data-project_config_type="'+s+'" p_validity_date="'+u+'" id="'+Itemdetailarr[t].product_id+'" data-prname="'+Itemdetailarr[t].sv_p_name+'" data-categoryid="'+Itemdetailarr[t].productcategory_id+'" data-smallcategoryid="'+Itemdetailarr[t].productsubcategory_id+'" data-mindiscount="'+Itemdetailarr[t].sv_p_mindiscount+'" data-minunitprice="'+Itemdetailarr[t].sv_p_minunitprice+'" data-memberprice="'+Itemdetailarr[t].sv_p_memberprice+'" data-untprice="'+Itemdetailarr[t].sv_p_unitprice+'" data-pricingmethod="0"  data-salesmode="0"><div class="naerigh">  <p class="nn1">'+Itemdetailarr[t].sv_p_name+'<\/p><p class="nn2"><span class="fl" style="display:none;">'+Itemdetailarr[t].product_id+'<\/span><span class="fl">'+Itemdetailarr[t].sv_p_barcode+'<\/span><span class="fr">\u6570\u91cf <text class="nump" data-cnum="'+Itemdetailarr[t].sv_mcc_leftcount+'">1<\/text><\/span><\/p> <p class="nn3"><span class="fl">\u00a5<text class="jiage" data-rjia="'+Itemdetailarr[t].sv_p_unitprice+'" data-orgprice="'+Itemdetailarr[t].sv_p_unitprice+'">'+Itemdetailarr[t].sv_p_unitprice+'<\/text><\/span><span class="fr">\u00a5 <text class="zhong" data-zhekou="1" data-sv_p_originalprice="0"> '+Itemdetailarr[t].sv_p_unitprice+"<\/span><\/p><\/div> <\/li>");inspectCommodityWhetherZeroStock();osd++}zhonger()}else $.getJSON("/Ajaxdata/GetCharge/"+$("#query_user").data("id"),{clas:0,page:-1},function(n){var t,i;if(n)for(t=0;t<n.length;t++)if(n[t].sv_mcc_leftcount>0&&!n[t].Getvalidity){$("#"+n[t].product_id).remove();i="";n[t].validity_date&&(i=getTimestampFromDTime(n[t].validity_date));var r=!1,u=0,f=0;n[t].setup&&(r=n[t].setup.sv_is_monthly_performance,u=n[t].setup.project_config_value,f=n[t].setup.project_config_type);$("#Cashlefsit").prepend('<li data-sv_order_guid="'+NewGuid()+'" data-sv_is_monthly_performance="'+r+'" data-project_config_value="'+u+'" data-project_config_type="'+f+'" p_validity_date="'+i+'" id="'+n[t].product_id+'" data-prname="'+n[t].sv_p_name+'" data-untprice="0" data-pricingmethod="0" class="product_type" data-salesmode="0"><div class="naerigh">  <p class="nn1">'+n[t].sv_p_name+'<\/p><p class="nn2"><span class="fl" style="display:none;">'+n[t].product_id+'<\/span><span class="fl">'+n[t].sv_p_barcode+'<\/span><span class="fr">\u6570\u91cf <text class="nump" data-cnum="'+n[t].sv_mcc_leftcount+'">1<\/text>('+n[t].sv_mcc_leftcount+')<\/span><\/p> <p class="nn3"><span class="fl">\u00a5<text class="jiage" data-rjia="0" data-orgprice="0">0<\/text><\/span><span class="fr">\u00a5 <text class="zhong" data-zhekou="1" data-sv_p_originalprice="0"> 0<\/span><\/p><\/div> <\/li>');inspectCommodityWhetherZeroStock();osd++}zhonger();regroupsettlementdata()});_cache_memberinfo_json&&_cache_memberinfo_json.member_id!=$("#query_user").data("id")?$.get("/Ajaxdata/GetUserModel",{id:$("#query_user").data("id")},function(n){n&&(new_cache_memberinfo_json=n)}):new_cache_memberinfo_json=_cache_memberinfo_json;$("#memberlevel_id").val()!=null&&$("#memberlevel_id").val()!=""&&$("#huiyuan_id").data("id")!=null&&$("#huiyuan_id").data("id")!=""&&GetUserLevelDiscount_Config($("#memberlevel_id").val());layer.closeAll()}})}function fukuanfashi(){$(".opgol.open").length==0||$(".paywaylist").find(".selectpaytype.active").length<2?($("#xianjinname").html($(".paywaylist").find(".selectpaytype.active span").eq(0).html()),$("#daoshouname").html("\u5f85\u6536")):$(".paywaylist").find(".selectpaytype.active").each(function(n){n==0?$("#xianjinname").html($(this).children("span").html()):$("#daoshouname").html($(this).children("span").html())})}function onloadcardshop(n){$.get("/ajaxdata/GetCardSetmealProductInfo/",{memberid:n},function(n){var i,t;if(n&&n.length>0){for(i="",t=0;t<n.length;t++)i+="<li class='selectcardfo' data-combination_new='"+n[t].combination_new+"'> <div class='redycardin' data-pid='"+n[t].product_id+"'>",i+='<p class="recardname">'+n[t].sv_p_name+"<\/p> <div>",i+='<span style="width:38%;display:inline-block">\u59d3\u540d\uff1a<i>'+n[t].sv_mr_name+"<\/i><\/span>",i+="<span>\u624b\u673a\u53f7\uff1a<i>"+(n[t].sv_mr_mobile||"")+"<\/i><\/span><\/div> <\/div> <\/li>";$("#searchdata").html(i);Itemdetailarr=[];checkedProductId={}}else $("#searchdata").html("")})}function deleteCheckedProduct(n){for(var t=0;t<Itemdetailarr.length;t++)Itemdetailarr[t].userecord_id==n&&Itemdetailarr.splice(t,1)}function GetList(n){$.get("/ajaxdata/GetMemberList/1",{key:n,pageSize:30},function(n){for(var r,i="",t=0;t<n.length;t++)i+=' <tr data-user_id="'+n[t].user_id+'" data-sv_mr_cardno="'+n[t].sv_mr_cardno+'" data-id="'+n[t].member_id+'" data-name="'+n[t].sv_mr_name+'" data-isoverdue="'+n[t].isOverdue+'" >',i+="    <td><span>"+n[t].sv_mr_cardno+"<\/span><\/td>",isNullOrWhiteSpace(n[t].sv_mr_name)?(r="",r=n[t].sv_mr_name.length>=6?n[t].sv_mr_name.substr(0,6)+'...<i id="content" type="button" class="tikxm icon-question-sign tips tipss" data-content="\u540d\u79f0\uff1a'+n[t].sv_mr_name+'"><\/i>':n[t].sv_mr_name,i+="<td><span>"+r+"<\/span><\/td>"):i+="<td><span><\/span><\/td>",i+="    <td><span>"+n[t].sv_mr_mobile+"<\/span><\/td>",i+="   <td><i>\u00a5"+n[t].sv_mw_availableamount+"<\/i><\/td>",i+=n[t]!=null&&n[t].sv_mw_credit!=null?"  <td><i>\u00a5"+n[t].sv_mw_credit+"<\/i><\/td>":"  <td><i>\u00a50.00<\/i><\/td>",i+=isNullOrWhiteSpace(n[t].sv_ml_name)?"  <td><span>"+n[t].sv_ml_name+"<\/span><\/td>":"  <td><span><\/span><\/td>",i+="  <td><span>"+n[t].sv_mw_availablepoint+"<\/span><\/td>",i+='   <td id="'+n[t].sv_mr_status+'"><a href="javascript:void(0);" class="xianzhehuiyan" id="'+n[t].sv_mr_status+'" data-isoverdue="'+n[t].isOverdue+'">\u9009\u62e9<\/a><\/td>',i+="   <\/tr>";$("#usercoutn").html(n.length);$("#userlist").html(i);$(".check-box").click(function(){$(".check-box").removeClass("checkedBox");$(this).addClass("checkedBox")})});$("#guanbinimab").click(function(){layer.close(index)});$("#userlist").on("dblclick","tr",function(){$(this).data("isoverdue")?layer.msg("\u6b64\u5361\u5df2\u8fc7\u671f"):$(this).find("td").eq(6).attr("id")==1?layer.msg("\u6b64\u5361\u5df2\u6302\u5931"):($("#userid").val($(this).data("user_id")),$("#query_user").val($(this).data("sv_mr_cardno")).data("id",$(this).data("id")).data("name",$(this).data("name")),cliskgetuser($(this).data("user_id")),layer.close(index))})}function Getmemberlist(n){var i,t;for($("#layerclose_hidden").val(layer.index),i="",t=0;t<n.length;t++)i+=' <tr data-user_id="'+n[t].user_id+'" data-sv_mr_cardno="'+n[t].sv_mr_cardno+'" data-id="'+n[t].member_id+'" data-name="'+n[t].sv_mr_name+'" data-isoverdue="'+n[t].isOverdue+'">',i+="    <td><span>"+n[t].sv_mr_cardno+"<\/span><\/td>",i+="    <td><span>"+n[t].sv_mr_name+"<\/span><\/td>",i+="    <td><span>"+n[t].sv_mr_mobile+"<\/span><\/td>",i+="   <td><i>\u00a5"+n[t].sv_mw_availableamount+"<\/i><\/td>",i+=n[t]!=null&&n[t].sv_mw_credit!=null?"  <td><i>\u00a5"+n[t].sv_mw_credit+"<\/i><\/td>":"  <td><i>\u00a50.00<\/i><\/td>",i+=isNullOrWhiteSpace(n[t].sv_ml_name)?"  <td><span>"+n[t].sv_ml_name+"<\/span><\/td>":"  <td><span><\/span><\/td>",i+='   <td id="'+n[t].sv_mr_status+'"><a href="javascript:void(0);" class="xianzhehuiyan" id="'+n[t].sv_mr_status+'" data-isoverdue="'+n[t].isOverdue+'">\u9009\u62e9<\/a><\/td>',i+="   <\/tr>";$("#usercoutn").html(n.length);$("#userlist").html(i);$(".check-box").click(function(){$(".check-box").removeClass("checkedBox");$(this).addClass("checkedBox")});$("#guanbinimab").click(function(){layer.close(index)});$("#userlist").on("click",".xianzhehuiyan",function(){$(this).data("isoverdue")?layer.msg("\u6b64\u5361\u5df2\u8fc7\u671f"):this.id==1?layer.msg("\u6b64\u5361\u5df2\u6302\u5931"):($("#userid").val($(this).parent().parent().data("user_id")),$("#query_user").val($(this).parent().parent().data("sv_mr_cardno")).data("id",$(this).parent().parent().data("id")),clickSinglegetuser($(this).parent().parent().data("user_id"),$(this).parent().parent().data("id")),layer.close(index))});$("#userlist").on("dblclick","tr",function(){$(this).data("isoverdue")?layer.msg("\u6b64\u5361\u5df2\u8fc7\u671f"):$(this).find("td").eq(6).attr("id")==1?layer.msg("\u6b64\u5361\u5df2\u6302\u5931"):($("#userid").val($(this).data("user_id")),$("#query_user").val($(this).data("sv_mr_cardno")).data("id",$(this).data("id")).data("name",$(this).data("name")),cliskgetuser($(this).data("user_id")),layer.close(index))})}function f4(){Getmemberlist(memberlist);$("#query_like").keyup(function(){GetList($("#query_like").val())});jieshuajie=index}function f3(){GetList($("#query_user").val());$("#query_like").keyup(function(){GetList($("#query_like").val())});jieshuajie=index}function settlementInputChange(){}function push_sunmiT1_second_receivable(){if(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android&&g_set_pos_t1_secondscreen_size=="false"&&(g_set_pos_t1_secondscreen_style>1&&(g_set_pos_t1_secondscreen_style=0),g_set_pos_t1_secondscreen_style==0)){var n={FooterList:[]};n.FooterList.push({Content:".",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});n.FooterList.push({Content:".",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});n.FooterList.push({Content:"\u5b9e\u6536\u91d1\u989d\uff1a\u00a5"+($("#xianjin").val()||"0.00"),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});try{cordova.plugins.barcodeScanner.showsecond(function(){},function(){},{myPrintData:JSON.stringify(n)})}catch(t){}}}function push_sunmiT1_second_clear(){try{if(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android&&g_set_pos_t1_secondscreen_size=="false"&&(g_set_pos_t1_secondscreen_style>1&&(g_set_pos_t1_secondscreen_style=0),g_set_pos_t1_secondscreen_style==0)){var n={FooterList:[]};n.FooterList.push({Content:".",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});n.FooterList.push({Content:".",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});n.FooterList.push({Content:"\u5b9e\u6536\u91d1\u989d\uff1a\u00a5"+($("#xianjin").val()||"0.00"),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});try{cordova.plugins.barcodeScanner.clearseconddesk(function(){},function(){},{myPrintData:JSON.stringify(n)})}catch(t){}}}catch(t){}}function f2(){var p=!1,l,n,e,s,b,h,t,v,o,d,y,f;checkSubmit();$("#ttuser_descount").change(function(){var n,r,t,i;is_discount_catering?(n=$("#jieshuajie2").text(),n&&n!=null&&n!=undefined&&n!=""&&n>0&&(r=$("#Cashlefsit li"),t=0,$(r).each(function(){var n=parseFloat($(this).find(".nump").text()||0),i=$(this).find(".catering_taste_list i");$(i).each(function(){$(this).attr("data-type")==0?t+=parseFloat($(this).attr("data-price")||0)*n:$(this).attr("data-type")==1?t+=parseFloat($(this).attr("data-price")||0)*n:$(this).attr("data-type")==2?$(this).attr("data-newspec_algorithm")==1||(t+=parseFloat($(this).attr("data-price")||0)*n):$(this).attr("data-type")==3&&(t+=parseFloat($(this).attr("data-price")||0)*n)})}),i=parseFloat(parseFloat($(this).val())/100*(parseFloat(n)-t))+t,$("#yinshou").val(returnFloat(i)),$("#xianjin").val(returnFloat(i)).change(),EditOrderMoneyUpdateProductDetailedMoney(parseFloat($("#ttuser_descount").val())/100,!0),push_sunmiT1_second_receivable(),automaticChangeMoney())):($("#ttuser_descount").val("100"),layer.msg("\u65e0\u6b64\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u5f00\u901a\uff01"))});$("#xianjin").bind("change","#xianjin",function(){var n=$(this).val().trim();isNullOrWhiteSpace(n)||(n.indexOf(".")>-1?n.length>9&&layer.msg("\u91d1\u989d\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc77\u4f4d\u6570"):n.length>=8&&layer.msg("\u91d1\u989d\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc77\u4f4d\u6570"))});_common_csshjsbox_window_open=$("#csshjsbox_window_open").val();$("#yinshou").data("val",$("#jieshuajie2").text()).val($("#jieshuajie2").text()).bind("change keyup",function(){var t=$("#jieshuajie2").text(),n,r,i;t&&(t>0?(n=parseFloat($(this).val()||0)/parseFloat(t),n&&n>0&&(n=parseFloat(n.toFixed(4))),$("#ttuser_descount").val((n*100).toFixed(2)),r=$("#xianjin").val(),$("#xianjin").val($(this).val()).change(),EditOrderMoneyUpdateProductDetailedMoney(n)):(i=parseFloat($("#ttuser_descount").val()||0).toFixed(2),$("#xianjin").val((parseFloat($(this).val()||0)*i/100).toFixed(2)).change()),push_sunmiT1_second_receivable())});$("#zhaoling").val("0.00");$("#xianjin").val($("#jieshuajie2").text());cashFocus();$("#daishou").val("0.00");$(".ssteater").val()&&$("#order_remark").val($(".ssteater").val());ShowCusDisplay(2,$("#yinshou").val());Judgingindustry()||CalculateGiving();try{PreferentialTopUpGivingConfigList("AndroidPrinterConfig","AndroidPrinterConfig");Preferential_TopUpGiving_ConfigList!=null&&Preferential_TopUpGiving_ConfigList.length>0&&(l=$.parseJSON(Preferential_TopUpGiving_ConfigList[0].sv_detail_value),l&&(p=l[0].whetherToEnablenable==!0?!0:!1))}catch(g){layer.msg("\u8bf7\u67e5\u770b\u540e\u53f0\u6253\u5370\u914d\u7f6e")}is_open_print==null||Boolean(parseInt(is_open_print.split("@")[1]))||p!=!1||$(".biglis").removeClass("open");swiper=new Swiper(".producttimesbox .swiper-container",{slidesPerView:6,paginationClickable:!0,spaceBetween:5,freeMode:!0});$(".paywaylist").on("click",".selectpaytype",function(){var t=$("#shezhang").attr("class"),i=$(this).attr("data-open"),n;if(i=="true")if($(".opgol.open").length==0)$(this).addClass("active").siblings().removeClass("active");else if($(this).hasClass("active"))$(this).toggleClass("active");else{if($(this).hasClass("Combinedpaymentmethod")&&$(".paywaylist").find(".active").length>=1)for(n=0;n<$(".paywaylist").find(".Combinedpaymentmethod").length;n++)$(".paywaylist").find(".Combinedpaymentmethod").eq(n).removeClass("active");if($(".paywaylist .Combinedpaymentmethod").hasClass("active")&&$("#shezhang").text()!="\u8d4a\u8d26")$(this).addClass("active").siblings(".Cashcardcombined").removeClass("active");else if($(".paywaylist .Cashcardcombined1").hasClass("active")&&$(".paywaylist .Cashcardcombined2").hasClass("active"))$("#s_cashPay").addClass("active"),$("#stored_value_card").removeClass("active"),$(this).addClass("active");else{if($(".paywaylist").find(".active").length>=1)for(n=0;n<$(".paywaylist").find(".Combinedpaymentmethod").length;n++)$(".paywaylist").find(".Combinedpaymentmethod").eq(n).removeClass("active");$(this).addClass("active").siblings(".Combinedpaymentmethod").removeClass("active")}}else return layer.msg("\u672a\u5f00\u542f\u6b64\u652f\u4ed8\u65b9\u5f0f"),!1;($("#memberNamep").text()==null||$("#memberNamep").text()=="")&&(t=$("#shezhang").attr("class"),t.indexOf("active")!=-1&&layer.msg("\u8bf7\u9009\u62e9\u4f1a\u5458\uff01"),$("#shezhang").removeClass("active"));$("#shezhang").attr("class").indexOf("active")!=-1&&($(".paywaylist").find(".selectpaytype.active").length<2?$("#xianjinname").text("\u8d4a\u8d26"):$("#daoshouname").text("\u8d4a\u8d26"));fukuanfashi()});$("#huiyuan_id").attr("data-id")!="0"&&$("#huiyuan_id").attr("data-id")!=""&&$("#huiyuan_id").attr("data-id")!=null&&$("#huiyuan_id").attr("data-id")!=undefined&&(n=_cache_memberinfo_json,new_cache_memberinfo_json&&new_cache_memberinfo_json!=null&&new_cache_memberinfo_json!=""&&new_cache_memberinfo_json!=undefined&&new_cache_memberinfo_json.member_id==$("#huiyuan_id").attr("data-id")&&new_cache_memberinfo_json.memberlevel_id==$("#sv_mr_cardno").attr("data-level_id")&&(n=new_cache_memberinfo_json),n!=null&&n!=""&&n!=undefined&&($("#btnMemberRecharge").attr("data-userId",n.user_id).attr("data-cardno",n.sv_mr_cardno).attr("data-level",n.memberlevel_id),$("#member_photo").attr("src",n.sv_mr_headimg),$("#huiyuan_id").attr("data-id",n.member_id),$("#memberNamenumber").html(n.sv_mr_mobile),n.sv_ml_commondiscount>0&&n.sv_ml_commondiscount<10?$("#memberdIscount").html("\u6298\u6263:"+(parseFloat(n.sv_ml_commondiscount)*10).toFixed(2)+"%"):$("#memberdIscount").html("\u6298\u6263:100%"),$("#membercatagory").html(n.sv_ml_name),$("#memberbalance").html(n.sv_mw_availableamount),$("#memberconsumptiongrand").html(n.sv_mw_sumamount),$("#memberintegral").html(n.sv_mw_availablepoint),$("#memberbirthday").html(new Date(n.sv_mr_birthday).Format("MM-dd")),$("#memberNamep").html(n.sv_mr_name),$("#member_id").val(n.member_id),$("#userid").val(n.user_id),$(".sv_mr_cardno").text(n.sv_mr_cardno),$(".sv_mr_name").text(n.sv_mr_name),$("#yuecount").attr("data-money",n.sv_mw_availableamount),$(".sv_mw_availableamount").text(n.sv_mw_availableamount),$(".paywaylist .selectpaytype").eq(1).click(),$(".paywaylist .selectpaytype").eq(1).click()),Judgingindustry()||IntegralToNow());$("#member_photo").error(function(){$(this).attr("src","/images/001.png")});$(".opgol").click(function(){var n=$("#huiyuan_id").attr("data-id");n!=null&&n!=undefined&&n!=""&&n!="0"&&n!=0;$(this).toggleClass("open");$(this).hasClass("open")?($(".selectpaytype").removeClass("active"),$("#s_cashPay").addClass("active")):($(".selectpaytype").removeClass("active"),$("#s_cashPay").addClass("active"));fukuanfashi()});e=!0;$(document).off("click","#cash_dialog .nnrmskk>li,.calui>li");$(document).on("click","#cash_dialog .nnrmskk>li,.calui>li",function(){if(e){$(this).data("val")>=0&&$("#xianjin").val($(this).data("val")).change();e=!1;return}$(this).data("val")>=0?$(this).data("val")>9?jiaodianname?jiaodianname.attr("id")=="yinshou"?is_change_Receive&&jiaodianname.val($(this).data("val")).change():jiaodianname.val($(this).data("val")).change():$("#xianjin").val($(this).data("val")).change():jiaodianname?jiaodianname.attr("id")=="yinshou"?is_change_Receive&&jiaodianname.val(jiaodianname.val()+$(this).data("val")).change():jiaodianname.val(jiaodianname.val()+$(this).data("val")).change():$("#xianjin").val($("#xianjin").val()+$(this).data("val")).change():$(this).data("val")=="."&&(jiaodianname?jiaodianname.attr("id")=="yinshou"?is_change_Receive&&jiaodianname.val(jiaodianname.val()+$(this).data("val")).change():jiaodianname.val(jiaodianname.val()+$(this).data("val")).change():$("#xianjin").val($("#xianjin").val()+$(this).data("val")).change())});$("#deletenum").click(function(){jiaodianname&&(jiaodianname.attr("id")=="yinshou"?is_change_Receive&&jiaodianname.val("").focus():jiaodianname.val("").focus())});$("input").focus(function(){jiaodianname=$(this);e=!1});e=!0;$("#xianjin").on("keydown",function(){e&&($("#xianjin").val(""),e=!1)});$("#xianjin").on("focus change keyup",function(){var n=$("#xianjin").val()||0,i=parseFloat($("#xianjin").val()||0),r=parseFloat($("#yinshou").val()||0),t;if(n!=null&&n!=""&&n!=undefined&&(n=i.toFixed(2)),t=Math.round((parseFloat(n)-parseFloat($("#yinshou").val()||0))*100)/100,parseFloat(n)<parseFloat($("#yinshou").val()||0)&&(t=Math.round((parseFloat($("#yinshou").val()||0)-parseFloat(n))*100)/100),parseFloat(n)<parseFloat($("#yinshou").val()||0))$("#daishou").val(returnFloat(t)),$("#zhaoling").val("0.00");else{if(t>99999.99)return layer.msg("\u4ea4\u6613\u91d1\u989d\u627e\u96f6\u4e0d\u80fd\u5927\u4e8e\u5341\u4e07"),$("#zhaoling").val(""),$("#xianjin").val(""),!1;$("#zhaoling").val(returnFloat(t));$("#daishou").val("0.00")}});$("#lohei").click(function(){var n=JSON.parse(dataconioctorn.sv_uc_saletozeroset),t=$("#yinshou").val()||0;n.whether?(n.auto==0?($("#yinshou").val(parseInt($("#yinshou").val()||0)),$("#xianjin").val($("#yinshou").val()||0).change(),cashFocus()):n.auto==1?($("#yinshou").val(parseInt(($("#yinshou").val()||0)*10)/10),$("#xianjin").val($("#yinshou").val()||0).change(),cashFocus()):n.auto==2?($("#yinshou").val(parseInt(($("#yinshou").val()||0)/10)*10),$("#xianjin").val($("#yinshou").val()||0).change(),cashFocus()):n.auto==5?($("#yinshou").val(parseFloat($("#yinshou").val()||0).toFixed(1)),$("#xianjin").val($("#yinshou").val()||0).change(),cashFocus()):n.auto==6&&($("#yinshou").val(parseFloat($("#yinshou").val()||0).toFixed(0)),$("#xianjin").val($("#yinshou").val()||0).change(),cashFocus()),$("#jieshuaanniu").attr("freechange",(parseFloat(t)-parseFloat($("#yinshou").val()||0)).toFixed(2))):layer.msg("\u6ca1\u6709\u5f00\u542f\u62ba\u96f6\u529f\u80fd")});$("#order_discount_Settlement_new").click(function(){is_change_Receive?Deke.DeKe_dialog.show_Url2("","/html/cash/order_discount.html?v="+getTimeStamp(),order_discount_Settlement,["380px","470px"]):layer.msg("\u65e0\u6b64\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u5f00\u901a\uff01")});$("#yinshou").click(function(){is_change_Receive&&Deke.DeKe_dialog.show_Url2("","/html/cash/order_discount.html?v="+getTimeStamp(),order_discount_Settlement,["380px","470px"])});$("#query_user").keydown(function(n){n.keyCode==13&&($("#userid").val(""),cliskgetuser(""))});bindICCardEvent($("#query_user"));$("#jieshuaanniu").click(function(){var t=$("#commissionCollectList input[name='designation']:checked").length,f=$("#commissionCollectList input[name='designation']").length,i=$("#catering_CateringGrade").attr("data-withListId")||0,n,r,u;if(t==f){if(i>0||shuxin(),n=parseFloat($("#yinshou").val()||0),n&&n>999999){layer.msg("\u5355\u7b14\u4ea4\u6613\u91d1\u989d\u4e0d\u53ef\u5927\u4e8e100\u4e07");return}try{r=parseFloat($("#zhaoling").val());r>0?ShowCusDisplay(4,$("#zhaoling").val()):ShowCusDisplay(3,$("#yinshou").val());SendSecondScreenData(!0)}catch(e){}checkSubmitFlg||jieshu()}else u=t==0?"\u4eb2,\u4f60\u8fd8\u6ca1\u6709\u52fe\u9009\u63d0\u6210\u4fe1\u606f\uff0c\u662f\u5426\u7ee7\u7eed\u7ed3\u7b97\uff1f":"\u4eb2,\u4f60\u8fd8\u6709\u90e8\u5206\u6ca1\u6709\u52fe\u9009\u63d0\u6210\u4fe1\u606f\uff0c\u662f\u5426\u7ee7\u7eed\u7ed3\u7b97\uff1f",layer.confirm("<h4>\u63d0\u793a\uff1a<\/h4><p>"+u+"<\/p>",{btn:["\u662f","\u5426"]},function(){var n,t;if(i>0||shuxin(),n=parseFloat($("#yinshou").val()||0),n&&n>999999){layer.msg("\u5355\u7b14\u4ea4\u6613\u91d1\u989d\u4e0d\u53ef\u5927\u4e8e100\u4e07");return}try{t=parseFloat($("#zhaoling").val());t>0?ShowCusDisplay(4,$("#zhaoling").val()):ShowCusDisplay(3,$("#yinshou").val());SendSecondScreenData(!0)}catch(r){}checkSubmitFlg||jieshu()});$("#settlementReturnGoods").removeAttr("style")});$("#Cashlefsit li:not('.product_type')").length==0&&(g_WhetherStartusingConsumptionMarket||$("#jieshuaanniu").click());Is_open_commission?_g_sv_uit_cache_name=="cache_name_catering_new"||_g_sv_uit_cache_name=="cache_name_cosmetology"||_g_sv_uit_cache_name=="cache_name_massage_regimen"||_g_sv_uit_cache_name=="cache_name_maternal_supplies"||_g_sv_uit_cache_name=="cache_name_auto_beauty"?commissionPerformance.groupingList():getEmployessinfohtml():(Judgingindustry()&&commissionPerformance.groupingList(),$("#shoyin2").parent().width($("#shoyin2").parent().width()-110),$(".paymemberlist3").hide(),$(".paymemberlist1").removeClass("col-xs-5").addClass("col-xs-6"),$(".paymemberlist2").removeClass("col-xs-5").addClass("col-xs-6"));$("#btnSelectmemberlist").click(function(){g_DisableManualInput?layer.msg("\u5df2\u7981\u7528\uff01"):Deke.DeKe_dialog.show_Url3("\u9009\u62e9\u4f1a\u5458","/html/cash/xianzhehuiy.html?v=20178965",selectmemberlist,["730px","450px"])});$(document).on("click","#btnMemberRecharge",function(){var n=$(this).attr("data-userId"),t=$(this).attr("data-cardno"),i=$(this).attr("data-level");$("#huiyuan_id").attr("data-id")==0||$("#huiyuan_id").attr("data-id")==""||$("#huiyuan_id").attr("data-id")==null?layer.msg("\u8fd8\u6ca1\u6709\u9009\u62e9\u4f1a\u5458"):(checkedemptyeec=[],checkedemptyid={},Deke.DeKe_dialog.show_Url3("\u4f1a\u5458\u5145\u503c","/html/cash/chongzhu2.html?v="+getTimeStamp(),func_MemberRecharge(t,n,i),["730px",""],"chuxi"))});if($("#cash_func_cashbox").off("click").click(function(){open_cashbox_func("1")}),decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android)try{if(g_set_pos_t1_secondscreen_enable){var c=$("#sv_user_givingtype").val(),a=$("#sv_sumobtain_value").val(),w="0";if($("#huiyuan_id").attr("data-id")!=null&&$("#huiyuan_id").attr("data-id")!=""&&!$("#huiyuan_id").attr("data-id")!=undefined&&(w=$("#huiyuan_id").attr("data-id")),s=$("#order_remark").val().trim(),s.indexOf("'")>0&&(s=s.replace("'","''")),b={everyday_serialnumber:GetDailySerialNumber(!0),availableIntegralSwitch:availableIntegralSwitch,rankDemotion:rankDemotion,MembershipGradeGroupingIsON:MembershipGradeGroupingIsON,rankPromotionIsON:rankPromotionIsON,prlist:productlistJsonList,order_running_id:$("#danhao").text(),order_receivable:$("#yinshou").val(),order_payment:$("#xianjinname").text(),order_money:$("#xianjin").val(),order_payment2:$("#daoshouname").text(),order_money2:$("#daishou").val(),order_change:$("#yinshou").val(),user_cardno:w,order_discount:(parseFloat($("#ttuser_descount").val())/100).toFixed(5),order_receivabley:$("#yinshou").data("val"),sv_remarks:s,givingtype:c,deserved:c==1?a:0,deserved_cash:c==1?0:a,sv_recommended_peopleid:$("#sv_recommended_peopleid").val(),free_change:$("#jieshuaanniu").attr("freechange"),sv_member_discount:(parseFloat($("#user_descount").text())/100).toFixed(2),sv_member_total_money:parseFloat($("#jieshuajie2").text()),sv_order_total_money:parseFloat($("#jieshuajie").text()),sv_give_change:parseFloat($("#zhaoling").val()),authcode:"",type:"",WhetherAsCatering:!0,sv_table_id:$("#catering_CateringGrade").attr("data-tableid")||0,sv_catering_grade:$("#catering_CateringGrade").text()||"",sv_coupon_amount:$("#hidden_coupon_amount").val()||0,sv_coupon_discount:$("#hidden_coupon_discount").val()||0,sv_without_list_id:$("#catering_CateringGrade").attr("data-withListId")||0,sv_person_num:$("#catering_CateringGrade").attr("data-personNum")||0,sv_order_source:0,sv_record_id:$("#hidden_coupon_record_id").val()||0,order_operator:_g_user_config.order_operator||_g_user_config.user_id},g_set_pos_t1_secondscreen_size=="false"){if(g_set_pos_t1_secondscreen_style>1&&(g_set_pos_t1_secondscreen_style=0),g_set_pos_t1_secondscreen_style==0){h={FooterList:[]};h.FooterList.push({Content:".",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});h.FooterList.push({Content:".",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});h.FooterList.push({Content:"\u5e94\u6536\u91d1\u989d\uff1a\u00a5"+($("#xianjin").val()||"0.00"),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});try{cordova.plugins.barcodeScanner.showsecond(function(){},function(){},{myPrintData:JSON.stringify(h)})}catch(k){}}}else try{$.getJSON("/system/Getprint",function(n){var u=getsunmipushprintData(JSON.stringify(b),JSON.stringify(n),0,0,a,c),r,i,t;if(g_set_pos_t1_secondscreen_style==0)cordova.plugins.barcodeScanner.showlist(function(){},function(n){layer.msg(n)},{myPrintData:u});else if(g_set_pos_t1_secondscreen_style!=1)if(g_set_pos_t1_secondscreen_style==2){if(g_set_pos_t1_secondscreen_images){for(r=g_set_pos_t1_secondscreen_images.split(","),t=[],i=0;i<r.length;i++)r[i].indexOf("http://")>=0?t.push(r[i]):t.push(_g_res_images_url+"/"+r[i]);cordova.plugins.barcodeScanner.playbannerwithlist(function(){},function(n){layer.msg(n)},{myPrintData:u,myPrintImg:t})}}else if(g_set_pos_t1_secondscreen_style==3){if(g_set_pos_t1_secondscreen_images){for(r=g_set_pos_t1_secondscreen_images.split(","),t=[],i=0;i<r.length;i++)r[i].indexOf("http://")>=0?t.push(r[i]):t.push(_g_res_images_url+"/"+r[i]);cordova.plugins.barcodeScanner.playbannerimg(function(){},function(n){layer.msg(n)},{myPrintData:u,myPrintImg:t})}}else g_set_pos_t1_secondscreen_style==4?g_set_pos_t1_secondscreen_video&&(t=[],t.push(g_set_pos_t1_secondscreen_video),cordova.plugins.barcodeScanner.showlistwithvideo(function(){},function(n){layer.msg(n)},{myPrintData:u,myPrintImg:t})):g_set_pos_t1_secondscreen_style==5&&g_set_pos_t1_secondscreen_video&&(t=[],t.push(g_set_pos_t1_secondscreen_video),cordova.plugins.barcodeScanner.playvideo(function(){},function(n){layer.msg(n)},{myPrintData:u,myPrintImg:t}))})}catch(k){layer.msg(k.message)}}}catch(k){layer.msg(k.message)}if(g_cashPaymentMethodConfigEnable){var i=JSON.parse(g_cashPaymentMethodConfig),r=0,u=0;typeof i.p_cardpay=="string"&&(u=u+1);typeof i.p_cashpay=="string"&&(u=u+1);for(t in i)if(typeof i[t]=="string"||typeof i[t]=="boolean")v=i[t]&&(i[t]+"").toLowerCase()=="true",v?($('.selectpaytype[bindKey="'+t+'"]').show(),r++):$('.selectpaytype[bindKey="'+t+'"]').hide(),$('.selectpaytype[bindKey="'+t+'"]').attr("data-open",i[t]),t=="p_coupon"&&($('#orderCouponBtn[bindKey="'+t+'"]').attr("data-open",i[t]),v||$('#orderCouponBtn[bindKey="'+t+'"]').hide());else if(typeof i[t]=="object"&&t=="c_custorm_payment"&&i[t]&&i[t].length>0)for(o in i[t])i[t][o].enable&&(i[t][o].enable+"").toLowerCase()=="true"&&(f='<li class="selectpaytype Combinedpaymentmethod " bindkey="p_custorm" bzindex="'+r+'" data-open="'+i[t][o].enable+'"><i class="iconfont2 ii10 icontype'+i[t][o].type+" cash_p_index"+r+'">&#'+i[t][o].icon+"<\/i><span>"+i[t][o].name+"<\/span><\/li>",r<5+u?$(f).insertBefore("#cash_func_cashbox_mutipos"):r<8+u?$(f).insertBefore("#cash_func_cashbox_lastpos"):$(f).insertAfter("#cash_func_cashbox_lastpos"),r++);if(r<12+u)for(d=13+u-4-r,y=0;y<d;y++)f='<li class="selectpaytype borderbottom" bzindex="'+r+'" bindkey="p_custorm" ><span> <\/span><\/li>',r<5+u?$(f).insertBefore("#cash_func_cashbox_mutipos"):r<8+u?$(f).insertBefore("#cash_func_cashbox_lastpos"):$(f).insertAfter("#cash_func_cashbox_lastpos"),r++;$("#s_cashPay").css("display")=="none"&&$(".paywaylist li[data-open=true]").length>0&&$(".paywaylist li[data-open=true]").eq(0).click()}automaticChangeMoney()}function postMemberRecharge(n){$.ajax({url:"/Ajaxdata/User_Siblings",data:JSON.stringify(n),type:"POST",contentType:"application/json",success:function(t){t==-3?($("#userid").val(""),layer.msg("\u5f53\u524d\u4f1a\u5458\u4e0d\u652f\u6301\u8de8\u5e97\u64cd\u4f5c\uff01"),layer.close(index)):t==-2?(layer.msg("\u6ca1\u6709\u6743\u9650\u64cd\u4f5c\uff01"),layer.close(index)):t.sate?($("#sv_mrr_amountbefore,#sv_mrr_desc,#sv_mrr_present").val(""),layer.close(index),layer.msg("\u5145\u503c\u6210\u529f\uff01"),layer.closeAll("loading"),getMemberInfoByMemberId($("#memberNamenumber").text()),$(".swtith ").hasClass("open")&&$.getJSON("/system/Getprint",function(i){n.sv_user_givingtype>0&&n.sv_detail_value>0&&(t.datames.sv_mrr_payment=t.datames.sv_mrr_payment+"(\u5145"+n.sv_mrr_amountbefore+"\u5143\u9001"+n.sv_detail_value+(n.sv_user_givingtype==1?"\u79ef\u5206":"\u5143)")+")");var r=$(".sv_mr_cardno").text()||$(".sv_mr_cardno").val(),u=$($(".sv_mr_name")[0]).text()||$(".sv_mr_name").val();pushSavingData(JSON.stringify({moedel:n,data:t.datames,user:{sv_mr_cardno:r,sv_mr_name:u}}),JSON.stringify(i))})):(layer.msg("\u5145\u503c\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u91cd\u8bd5"),layer.close(index))}})}function func_MemberRecharge(n,t,i){function r(){$(".determinebtn-closebtn").css("padding-top","0px");$.getJSON("/Employee/GetEmployeePageList/",null,function(n){var t,i,u,r;if(n!=null&&n.length>0){for(t="",layerIndex=layer.index,i=0;i<n.length;i++){for(u="",r=0;r<checkedemptyeec.length;r++)n[i].sv_employee_id==checkedemptyeec[r].empid&&(u="checked");t+="<li>";t+='<div class="row memberinfobox" style="width: 96%;margin: auto;margin-top: 14px;">';t+=' <div class="memberinfophoto col-xs-3" style="width:33%;">';t+='<img class="subcardlistmeimg" id="cardlistmember_photo" src="/images/employessHtml.png" style="width:50px;height:50px;">';t+='<\/div><div style="padding:4px 0 0 0px ;width: 49%;display: inline-block;" class="memberNamepemp col-xs-8">';t+='<p class="memberNamep" id="memberNamep">'+n[i].sv_employee_name+"<\/p>";t+='<p id="memberdIscount">'+n[i].sv_employee_phone+"<\/p>";t+='<\/div><input class="checkinput" '+u+' type="checkbox" name="subbox"  style="margin-top: 16px;" data-sv_employee_name="'+n[i].sv_employee_name+'" data-sv_employee_id="'+n[i].sv_employee_id+'"><\/div><\/li>'}$("#employessHtml").html(t)}})}function u(n){var r,i,t;if(n&&n.length>0){for(r="",i="",t=0;t<n.length;t++)r+=t==n.length-1?"<i>"+n[t].empname+"<i/>":"<i>"+n[t].empname+"/<i/>",i+=n[t].empid+",";$("#selectempyeid").val(i.substring(0,i.length-1));$("#selectempye").html(r)}}setTimeout(function(){$("#member_id").val($("#huiyuan_id").attr("data-id"));$(".sv_mr_cardno").text(n);$(".sv_mr_name").text($("#memberNamep").text());$(".sv_mw_availableamount").text($("#memberbalance").text())},200);PreferentialTopUpGivingConfigListWithIgnore("Preferential","TopUpGiving");GetConfigdataTopConfigBylevel(i);$(document).undelegate("#clickMoneyNum_new li","click").delegate("#clickMoneyNum_new li","click",function(){$(this).data("val")>=0&&$("#sv_mrr_amountbefore").val($("#sv_mrr_amountbefore").val()+$(this).data("val"))});$(document).undelegate("#chongzhi","click").delegate("#chongzhi","click",function(){var e,n,r,t;if(!$(".layui-layer-loading")||!($(".layui-layer-loading").length>0))if($("#member_id").val()!="0"){var o=$("#sv_mrr_present"),i=$("#sv_mrr_amountbefore"),u=$("#sv_mrr_desc");if(i.val()==""){layer.msg("\u8bf7\u8f93\u5165\uff0c\u5145\u503c\u91d1\u989d\uff01");i.focus();return}var f=o.val()||0,s="";s=$(".sv_mr_name").length>0?$(".sv_mr_name").text():$("#Cashxzhy").find("input").val();e=layer.load(1,{shade:[.1,"#000"]});n={member_id:$("#member_id").val(),sv_mrr_type:$(".on[data-name='type']").data("id"),sv_mrr_payment:$(".CSczpayui li.active").text(),sv_mrr_amountbefore:i.val(),sv_commissionemployes:$("#selectempyeid").val(),sv_mrr_desc:u.val(),sv_mrr_present:f,user_id:$("#userid").val(),sv_user_givingtype:$("#sv_user_givingtype").val(),sv_detali_proportionalue:$("#sv_detali_proportionalue").val(),sv_detail_value:$("#sv_detail_value").val(),sv_recommended_peopleid:$("#sv_recommended_peopleid").val()};$(".CSczpayui li.active").data("id")=="\u5fae\u4fe1"&&sv_enable_wechatpay==!0||$(".CSczpayui li.active").data("id")=="\u652f\u4ed8\u5b9d"&&sv_enable_alipay==!0?(r=0,t={member_id:$("#member_id").val(),sv_recharge_money:i.val(),sv_recharge_type:0,sv_payment_method:$(".CSczpayui li.active").data("id")=="\u5fae\u4fe1"?0:1,sv_give_money:f,sv_remark:u.val(),user_id:$("#userid").val(),sv_mrr_type:1},$.postAsyncJson("/Ajaxdata/MemberRechargeQRCode",t,function(i){var f,u;i.succeed==!0?(f='<div class="wxsaosao"><br><i id="txtPayResultMsg" style="margin-left: 100px;color: red;"><\/i><br><img src='+i.values+' width="200" class="bbimg">',f+='<input type="text" id="authcode" name="sv_mr_cardno" class="form-control" placeholder="\u8bf7\u7528\u626b\u63cf\u67aa\u626b\u7801\u5ba2\u6237\u4e8c\u7ef4\u7801" maxlength="30" autofocus="" /><\/div>',layer.open({type:1,title:$(".CSczpayui li.active").data("id")+"\u652f\u4ed8",area:["380px","360px"],content:f}),$("#authcode").keypress(function(r){r.keyCode==13&&(t.authcode=$("#authcode").val(),$.ajax({url:"/Ajaxdata/MemberBarCodePay",type:"post",data:t,dataType:"json",async:!0,success:function(r){r.succeed==!0?(layer.msg("\u652f\u4ed8\u6210\u529f\uff01"),layer.closeAll("loading"),getMemberInfoByMemberId($("#memberNamenumber").text()),$(".swtith ").hasClass("open")&&$.getJSON("/system/Getprint",function(t){n.sv_user_givingtype>0&&n.sv_detail_value>0&&(r.values.sv_mrr_payment=r.values.sv_mrr_payment+"(\u5145"+n.sv_mrr_amountbefore+"\u5143\u9001"+n.sv_detail_value+(n.sv_user_givingtype==1?"\u79ef\u5206":"\u5143)")+")");var i=$(".sv_mr_cardno").text()||$(".sv_mr_cardno").val(),u=$($(".sv_mr_name")[0]).text()||$(".sv_mr_name").val();Cef.openMyPc(JSON.stringify({moedel:n,data:r.values,user:{sv_mr_cardno:i,sv_mr_name:u}}),JSON.stringify(t),4,1,""+receptionPtNum+"",receptionPtName)}),setTimeout(function(){layer.closeAll()},650)):r.errmsg=="\u9700\u8981\u7528\u6237\u8f93\u5165\u652f\u4ed8\u5bc6\u7801"||r.errmsg=="\u5f85\u4e70\u5bb6\u652f\u4ed8"||r.errmsg=="\u7b49\u5f85\u652f\u4ed8"||r.errmsg=="\u6b63\u5728\u7b49\u5f85\u7528\u6237\u786e\u8ba4..."?(i.errmsg=r.values,wxauthcode_waitfor=!0,t.isWaitingPwd=!0,$("#authcode").attr("disabled","disabled"),$("#txtPayResultMsg").text("\u6b63\u5728\u7b49\u5f85\u7528\u6237\u8f93\u5165\u652f\u4ed8\u5bc6\u7801\uff0c\u8bf7\u7a0d\u540e...")):($("#wxauthcode").val(""),layer.closeAll("loading"),$("#errorMsg").html(r.errmsg))}}))}),$(".layui-layer-close").click(function(){layer.close(e);clearInterval(u)}),u=setInterval(function(){r+=3;r<=600?_g_memberWechatPayCallback||(_g_memberWechatPayCallback=!0,$.getJSON("/Ajaxdata/QueryMemberRechargeOrder?orderNumber="+i.errmsg+"&barCodePay="+wxauthcode_waitfor,function(t){t.sate==!0?(wxauthcode_waitfor=!1,getMemberInfoByMemberId($("#memberNamenumber").text()),clearInterval(u),layer.closeAll("loading"),layer.open({type:1,area:["300px","200px"],shadeClose:!1,content:'<div class="box-center"><div class="success-bg"><\/div><p id="success-money">\u652f\u4ed8\u6210\u529f <\/p><\/div>',time:"1500"}),cliskgetuser($("#userid").val()),$(".swtith ").hasClass("open")&&$.getJSON("/system/Getprint",function(i){n.sv_user_givingtype>0&&n.sv_detail_value>0&&(t.datames.sv_mrr_payment=t.datames.sv_mrr_payment+"(\u5145"+n.sv_mrr_amountbefore+"\u5143\u9001"+n.sv_detail_value+(n.sv_user_givingtype==1?"\u79ef\u5206":"\u5143)")+")");var r=$(".sv_mr_cardno").text()||$(".sv_mr_cardno").val(),u=$($(".sv_mr_name")[0]).text()||$(".sv_mr_name").val();pushSavingData(JSON.stringify({moedel:n,data:t.datames,user:{sv_mr_cardno:r,sv_mr_name:u}}),JSON.stringify(i))}),$(".layui-layer").css({borderRadius:5}),setTimeout(function(){layer.closeAll()},1e3)):_g_memberWechatPayCallback=!1})):clearInterval(u)},5e3)):(layer.msg($(".CSczpayui li.active").data("id")+"\u652f\u4ed8\u5931\u8d25"),layer.closeAll("loading"))})):postMemberRecharge(n)}else $("#Cashxzhy").click(),layer.msg("\u8bf7\u5148\u67e5\u627e\u4f1a\u5458\u6216\u8bc6\u522b\u4f1a\u5458\u5361")});$(document).undelegate("#subcardemply","click").delegate("#subcardemply","click",function(){Deke.DeKe_dialog.show_Url3("\u9009\u62e9\u5458\u5de5","/ajaxHtml_N3/product/subcardemply.html",r,["500px",""])});$(document).undelegate("#employessHtml .checkinput","click").delegate("#employessHtml .checkinput","click",function(){var n=$(this);$("#employessHtml .checkinput[name='subbox']").each(function(){if($('#employessHtml .checkinput[name="subbox"]:checked').length>3){n.prop("checked",!1);layer.msg("\u53c2\u4e0e\u540c\u4e00\u4e2a\u9879\u76ee\u7684\u5458\u5de5\u4e0d\u80fd\u8d85\u8fc7\u4e09\u4e2a");return}})});$(document).undelegate("#saveAddEmployeeBtn","click").delegate("#saveAddEmployeeBtn","click",function(){checkedemptyeec=[];$("#employessHtml .checkinput[name='subbox']:checked").each(function(){var n=$(this).data("sv_employee_id"),i=$(this).data("sv_employee_name"),t;checkedemptyid[n]=n;t={empid:n,empname:i};checkedemptyeec.push(t)});checkedemptyeec&&checkedemptyeec.length>0?(layer.close(layerIndex),layer.msg("\u786e\u5b9a\u6210\u529f"),u(checkedemptyeec)):layer.msg("\u786e\u5b9a\u5931\u8d25")});$(document).on("click",".CSczpayui li",function(){$(this).addClass("active").siblings().removeClass("active")});$(document).undelegate(".swtith i","click").delegate(".swtith i","click",function(){$(this).parents(".swtith").toggleClass("open")})}function chuxikachuli(n){if($("#huiyuan_id").attr("data-id")==0||$("#huiyuan_id").attr("data-id")==""||$("#huiyuan_id").attr("data-id")==null)return layer.msg("\u8fd8\u6ca1\u6709\u9009\u62e9\u4f1a\u5458"),!1;var t=parseFloat($("#yuecount").attr("data-money")),i=_g_homeGetUserConfigData.sv_mcard_blance;return i>t?(layer.msg("\u4f1a\u5458\u5361\u4f59\u989d\u4e0d\u80fd\u4f4e\u4e8e\u4f1a\u5458\u6700\u4f4e\u7684\u914d\u7f6e\u91d1\u989d"),!1):parseFloat(n)>t?(layer.msg("\u4f1a\u5458\u5361\u4f59\u989d\u4e0d\u8db3"),!1):!0}function jieshu(){var n=!0,t;if($("#xianjinname").text()=="\u50a8\u503c\u5361"&&(n=chuxikachuli($("#xianjin").val())),$("#daoshouname").text()=="\u50a8\u503c\u5361"&&(n=chuxikachuli($("#daishou").val())),$("#xianjin").val().trim()==null||$("#xianjin").val().trim()==""||$("#xianjin").val().trim()==null){n=!1;layer.msg($("#xianjinname").text()+"\u4e0d\u80fd\u4e3a\u7a7a\uff01");$("#xianjin").focus();return}if($("#yinshou").val().trim()==null||$("#yinshou").val().trim()==""||$("#yinshou").val().trim()==null){n=!1;layer.msg("\u5e94\u6536\u91d1\u989d\u4e0d\u80fd\u4e3a\u7a7a\uff01");$("#yinshou").focus();return}n&&(t=!0,$("#xianjinname").text()=="\u50a8\u503c\u5361"?verifyenable($("#huiyuan_id").attr("data-id")):jiesuan($("#xianjinname").text()))}function f(){setTimeout(function(){clikcname=="shulian"},100);$("#jishukuan").val("");$("#jishukuan").focus();$(".posia").click(function(){$("#jishukuan").val("");$("#jishukuan").focus()});$("#woquren").click(function(){var s,h,l,o,a;if($("#jishukuan").val()!=""){var r=parseFloat($("#Cashlefsit .active").find(".memberprice").text()||0),u=parseFloat($("#Cashlefsit .active").find(".mindiscount").text()||0),f=parseFloat($("#Cashlefsit .active").find(".minunitprice").text()||0);if(clikcname=="shulian"){if(s=parseInt($("#jishukuan").val()||0),_g_sv_uit_cache_name=="cache_name_mobile_digital"&&s>seriaNumberArray_active_ImemCounts&&seriaNumberArray_active_ImemCounts>0){layer.msg("\u65e0\u4e32\u53f7\u5546\u54c1\u5e93\u5b58\u4e0d\u8db3\uff0c\u6700\u5927\u6570\u91cf\u4e3a"+seriaNumberArray_active_ImemCounts+"\u4ef6");return}if($("#Cashlefsit .active").hasClass("product_type")&&(h=parseInt($("#Cashlefsit .active").find(".nump").data("cnum")),$("#jishukuan").val()>h)){layer.msg("\u4f1a\u5458\u8be5\u9879\u76ee\u6b21\u6570\u4e0d\u591f\uff0c\u82e5\u521a\u5145\u503c\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9\u4f1a\u5458");return}var e=$("#Cashlefsit .active").attr("id"),v=parseFloat($("#jishukuan").val()),y=parseFloat($("#Cashlefsit .active").find(".nump").text());Current_operation_Settlement_product_list=[];var p=Getnumber_Byproduct_id(e,!1)||0,w=Getnumber_Byproduct_id(e,!0)||0,c=v+(w+p)-y,b=PromotionSpecialPrice(e,!1,c,!0,parseFloat($("#Cashlefsit .active").find(".jiage").text()));b?(l=Getsettlement_product_list(e),showCommonLeftProductList(l,c,null,!0,2,1)):($("#Cashlefsit .active").find(".nump").text($("#jishukuan").val()),jiagesss=parseFloat(parseFloat($("#Cashlefsit .active").find(".jiage").text())*parseFloat($("#jishukuan").val())*100)/100,jiagesss=jiagesss||0,$("#Cashlefsit .active").find(".zhong").text(jiagesss.toFixed(2)),$("#Cashlefsit .active").find(".minunitprice").text(returnFloat($("#Cashlefsit .active").data("minunitprice"))),$("#Cashlefsit .active").find(".memberprice").text(returnFloat($("#Cashlefsit .active").data("memberprice"))))}else if(clikcname=="zhekou")if(parseFloat($("#jishukuan").val())<11&&parseFloat($("#jishukuan").val())>0)if(u>0&&u>parseFloat($("#jishukuan").val())*10)layer.msg("\u6298\u6263\u4e0d\u80fd\u4f4e\u4e8e\u5546\u54c1\u6700\u4f4e\u6298\u6263");else{zhekouuval=Math.round(parseFloat($("#jishukuan").val())*100)/1e3;jiagesss=Math.round(parseFloat($("#Cashlefsit .active").find(".jiage").data("rjia"))*zhekouuval*100)/100;var i=jiagesss*parseFloat($("#Cashlefsit .active").find(".nump").text()),n=0,t=parseFloat($("#Cashlefsit .active").find(".nump").text());r>0&&i<r?layer.msg("\u6298\u6263\u540e\u7684\u91d1\u989d\u4e0d\u80fd\u4f4e\u4e8e\u5546\u54c1\u4f1a\u5458\u4ef7"):f>0&&f>i?layer.msg("\u6298\u6263\u540e\u7684\u91d1\u989d\u4e0d\u80fd\u4f4e\u4e8e\u5546\u54c1\u6700\u4f4e\u4ef7"):(o=$("#Cashlefsit .active").find(".catering_taste_list i"),$(o).each(function(){$(this).attr("data-type")==0?n+=parseFloat($(this).attr("data-price")||0)*t:$(this).attr("data-type")==1?n+=parseFloat($(this).attr("data-price")||0)*t:$(this).attr("data-type")==2?$(this).attr("data-newspec_algorithm")==1||(n+=parseFloat($(this).attr("data-price")||0)*t):$(this).attr("data-type")==3&&(n+=parseFloat($(this).attr("data-price")||0)*t)}),i=i+n,jiagesss=jiagesss||0,$("#Cashlefsit .active").find(".jiage").text(parseFloat(jiagesss.toFixed(2))),$("#Cashlefsit .active").find(".zhong").data("zhekou",zhekouuval).text(i),$("#Cashlefsit .active").attr("data-untprice",parseFloat(jiagesss.toFixed(2))),updatesettlement_product_data($("#Cashlefsit .active").attr("id"),jiagesss))}else{layer.msg("\u6298\u6263\u4e0d\u80fd\u5927\u4e8e10");return}else if(clikcname=="gaijia")if(jiagesss=$("#jishukuan").val(),r>0&&jiagesss<r)layer.msg("\u4fee\u6539\u540e\u7684\u4ef7\u4e0d\u80fd\u4f4e\u4e8e\u5546\u54c1\u4f1a\u5458\u4ef7");else if(f>0&&jiagesss<f)layer.msg("\u4fee\u6539\u540e\u7684\u4ef7\u4e0d\u80fd\u4f4e\u4e8e\u5546\u54c1\u6700\u4f4e\u4ef7");else if(a=jiagesss/$("#Cashlefsit .active").find(".jiage").data("rjia"),u>0&&a<u/100)layer.msg("\u4fee\u6539\u540e\u7684\u4ef7\u6298\u6263\u4e0d\u80fd\u4f4e\u4e8e\u4e0d\u80fd\u4f4e\u4e8e\u5546\u54c1\u6700\u4f4e\u6298\u6263");else{var n=0,t=parseFloat($("#Cashlefsit .active").find(".nump").text()),o=$("#Cashlefsit .active").find(".catering_taste_list i");$(o).each(function(){$(this).attr("data-type")==0?n+=parseFloat($(this).attr("data-price")||0)*t:$(this).attr("data-type")==1?n+=parseFloat($(this).attr("data-price")||0)*t:$(this).attr("data-type")==2?$(this).attr("data-newspec_algorithm")==1||(n+=parseFloat($(this).attr("data-price")||0)*t):$(this).attr("data-type")==3&&(n+=parseFloat($(this).attr("data-price")||0)*t)});$("#Cashlefsit .active").find(".jiage").text(returnFloat($("#jishukuan").val()));$("#Cashlefsit .active").find(".zhong").text(returnFloat(parseFloat(returnFloat(jiagesss*returnFloat($("#Cashlefsit .active").find(".nump").text())*100)/100)+n));jiagesss=jiagesss/$("#Cashlefsit .active").find(".jiage").data("rjia");jiagesss=Math.round(parseFloat(jiagesss)*100)/100;$("#Cashlefsit .active").find(".zhong").data("zhekou",jiagesss);$("#Cashlefsit .active").attr("data-untprice",$("#Cashlefsit .active").find(".jiage").text());updatesettlement_product_data($("#Cashlefsit .active").attr("id"),$("#Cashlefsit .active").find(".jiage").text())}layer.close(index);zhonger()}else layer.msg("\u6ca1\u6709\u8bbe\u7f6e\u4efb\u4f55\u503c\u54e6"),$("#jishukuan").focus();inspectCommodityWhetherZeroStock();queryProductFocus()});$("#jishukuan").keydown(function(n){n.keyCode=="13"?$("#woquren").click():n.keyCode=="27"&&layer.closeAll()})}function shuxin(){$.getJson("/system/GetStoreSerialnumberset",null,function(n){shuxinCallBack(n)})}function shuxin_add(n){var t,i,r;if(n&&n.length>0){t=n.length;try{i=parseInt(n.substring(t-1))+1;isNaN(i)||(r=n.substring(0,t-1)+""+i,$("#danhao").text(r),$("#meiridanhao").text(GetDailySerialNumber(!1)))}catch(u){}}}function shuxinCallBack(n){var t=JSON.parse(n.sv_uc_serialnumberset);t&&t.nomber&&(dataconioctorn=n,$("#danhao").text(t.nomber),n.dailySerialNumber?$("#meiridanhao").text(GetDailySerialNumber(!1,n.dailySerialNumber)):$("#meiridanhao").text(GetDailySerialNumber(!1)))}function zhonger(n,t){var e,g;n=n||2;GetEmployessid();var w=0,r=0,h=0,b=0,o=0,c=0,s=0,l=0,k=0,a=0,u=$("#huiyuan_id").attr("data-id"),f=0,d=0,v=0,i=1,y=1,p=0;ProductTotalPricesum=0;e=0;g=0;_member_discount!=null&&_member_discount!=undefined&&_member_discount!=""&&_member_discount!=0&&_member_discount!="0"&&u!="0"&&u>0&&(i=parseFloat(_member_discount)/100,y=parseFloat(_member_discount)/100);productlistJsonList=[];$("#Cashlefsit > li").each(function(n){var rt,ft,ci;is_SingleProduct_ReturnGoods||$("#settlementReturnGoods").attr("style","pointer-events:none;background-color:#777373");i=y;var ht=$(this).data("sv_product_sales_type")||-1,gt=$(this).data("sv_mpd_id")||-1,ct=$(this).data("sv_mp_id")||-1,kt=$(this).data("sv_mp_point")||-1,ni="",it=$("#"+$(this).data("sv_order_guid")+"_promotion_price"),lt=-1,dt=-1;it&&it.length>=1?(lt=parseFloat(it.text()||0),e+=lt,ht=it.data("sv_product_sales_type")||-1,gt=it.data("sv_mpd_id")||-1,ct=it.data("sv_mp_id")||-1,dt=it.data("promotion_price")||-1,kt=it.data("sv_mp_point")||-1,ni=it.data("depict")||"",i=1):ht>0&&ct>0&&(e+=parseFloat($(this).find(".zhong").text()),lt=parseFloat($(this).find(".zhong").text()),i=1);rt=1;ct<=0&&ht<0&&(rt=GetClassifyDiscountedvalue($(this).data("categoryid"),$(this).data("smallcategoryid")),rt!=-1?(i=parseFloat(rt*10),i==0&&(p+=parseFloat($(this).find(".zhong").text())),is_existence_guid[$(this).data("sv_order_guid")||$(this).attr("id")]==undefined?(is_existence_guid[$(this).data("sv_order_guid")||$(this).attr("id")]=$(this).data("sv_order_guid")||$(this).attr("id"),$(this).find(".naerigh, .naerigh_new").find(".Discountedcssset").remove(),$(this).find(".naerigh, .naerigh_new")&&$(this).find(".naerigh, .naerigh_new").length>1?$("#"+$(this).data("sv_order_guid")+"_promotion").append('<p class="nn5 Discountedcssset" style="color:red">\u5206\u7c7b\u6298\u6263'+(rt*1e3).toFixed(2)+"%<\/p>"):$(this).find(".naerigh, .naerigh_new").append('<p class="nn5 Discountedcssset" style="color:red">\u5206\u7c7b\u6298\u6263'+(rt*1e3).toFixed(2)+"%<\/p>")):(i==0&&(p+=parseFloat($(this).find(".zhong").text())),$(this).find(".naerigh, .naerigh_new").find(".Discountedcssset").remove(),$(this).find(".naerigh, .naerigh_new")&&$(this).find(".naerigh, .naerigh_new").length>1?$("#"+$(this).data("sv_order_guid")+"_promotion").append('<p class="nn5 Discountedcssset" style="color:red">\u5206\u7c7b\u6298\u6263'+(rt*1e3).toFixed(2)+"%<\/p>"):$(this).find(".naerigh, .naerigh_new").append('<p class="nn5 Discountedcssset" style="color:red">\u5206\u7c7b\u6298\u6263'+(rt*1e3).toFixed(2)+"%<\/p>"))):(delete is_existence_guid[$(this).data("sv_order_guid")||$(this).attr("id")],$(this).find(".naerigh, .naerigh_new").find(".Discountedcssset").remove(),i=y));var g=parseFloat($(this).find(".nump").text()),li=$(this).attr("id"),ti=[],pt=0,ii=0,ri=0,ui=0,fi=0,ei=0,oi=0,si=0,hi=0,ot=0,tt=0,vt=0,ai=$(this).find(".catering_taste_list i");$(ai).each(function(){var n={sv_taste_id:$(this).attr("data-id"),sv_taste_price:$(this).attr("data-price"),product_id:li,sv_taste_data_type:$(this).attr("data-type"),sv_taste_data_name:$(this).html(),new_cateringtaste:$(this).attr("data-newspec_algorithm")||0};$(this).attr("data-type")==0?(fi+=parseFloat($(this).attr("data-price")||0),si+=parseFloat($(this).attr("data-price")||0)*g):$(this).attr("data-type")==1?(ui+=parseFloat($(this).attr("data-price")||0),oi+=parseFloat($(this).attr("data-price")||0)*g):$(this).attr("data-type")==2?($(this).attr("data-newspec_algorithm")==1&&(vt=$(this).attr("data-newspec_algorithm"),v+=parseFloat($(this).attr("data-price")||0)*g,tt=parseFloat($(this).attr("data-price")||0)),ii+=parseFloat($(this).attr("data-price")||0),hi+=parseFloat($(this).attr("data-price")||0)*g):$(this).attr("data-type")==3&&(ri+=parseFloat($(this).attr("data-price")||0),ei+=parseFloat($(this).attr("data-price")||0)*g);pt+=parseFloat($(this).attr("data-price")||0);ti.push(n)});ot=hi+ei+oi+si;d+=ot;var yt=parseFloat($(this).attr("data-memberprice")||0)||0,vi=parseFloat($(this).find(".nump").text()),ut=0;ut=lt<=-1?parseFloat($(this).find(".zhong").text())-(ot-tt*g):lt;ft=parseFloat($(this).attr("data-minunitprice"))||0||0;f=parseFloat(ut)*i;var st=(parseFloat($(this).attr("data-mindiscount")||0)||0)/10,wt=parseFloat($(this).attr("data-discount")||1),nt=parseFloat($(this).attr("data-untprice"));vt==1&&(nt=tt);var et=1,bt=i,t=f,at=lt-(ot-tt*g);ct<=0&&ht<0?(at=parseFloat($(this).find(".zhong").text())-(ot-tt*g),isNullOrWhiteSpace(u)&&u!="0"&&u!=0&&yt>0?(h+=parseFloat($(this).find(".memberprice").text()*parseFloat($(this).find(".nump").text())),b+=ut,t=parseFloat($(this).find(".memberprice").text()*parseFloat($(this).find(".nump").text())),nt=yt,et=parseFloat($(this).find(".zhong").text())>0?t/(parseFloat($(this).find(".zhong").text())-ot+tt*g):t/1):st>0&&u!="0"&&u!=0&&isNullOrWhiteSpace(u)&&i<st?(l+=ut,s+=st*at,nt=(st*nt).toFixed(2),bt=st,t=parseFloat((nt*g).toFixed(2)),et=st):isNullOrWhiteSpace(u)&&u!="0"&&u!=0&&i>=st&&f>ft*parseFloat($(this).find(".nump").text())?(l+=ut,s+=i*at,nt=(i*nt).toFixed(2),$("#Cashlefsit > li").length-1==n&&parseFloat($("#jieshuajie2").text()>0)?t=parseFloat((parseFloat($("#jieshuajie2").text())-ProductTotalPricesum).toFixed(2)):(t=(i*at).toFixed(2),ProductTotalPricesum+=parseFloat(t)),et=i):ft*parseFloat($(this).find(".nump").text())>0&&isNullOrWhiteSpace(u)&&u!="0"&&u!=0&&f<ft*parseFloat($(this).find(".nump").text())?(c+=ut,o+=ft*parseFloat($(this).find(".nump").text()),nt=parseFloat($(this).attr("data-minunitprice")||0),t=parseFloat($(this).attr("data-minunitprice")||0)*parseFloat($(this).find(".nump").text()),et=parseFloat($(this).find(".zhong").text())>0?t/(parseFloat($(this).find(".zhong").text())-ot+tt*g):t/1):ft*parseFloat($(this).find(".nump").text())>0&&isNullOrWhiteSpace(u)&&u!="0"&&u!=0&&f>ft*parseFloat($(this).find(".nump").text())&&yt>ft?(c+=ut,o+=f,nt=parseFloat(yt.toFixed(2)),t=parseFloat(f.toFixed(2)),et=parseFloat($(this).find(".zhong").text())>0?t/(parseFloat($(this).find(".zhong").text())-ot+tt*g):t/1):rt>0&&i>0&&(k+=ut,a+=i*at,nt=(i*nt).toFixed(2),$("#Cashlefsit > li").length-1==n&&parseFloat($("#jieshuajie2").text()>0)?t=parseFloat((parseFloat($("#jieshuajie2").text())-ProductTotalPricesum).toFixed(2)):(t=(i*at).toFixed(2),ProductTotalPricesum+=parseFloat(t)),et=i)):wt!=1&&ct>0&&ht>0&&(nt=nt.toFixed(2),bt=wt,t=(nt*g*wt).toFixed(2),et=wt);is_update_order_discount||et==1||(is_update_order_discount=!0);r+=ut;w+=vi;t=parseFloat(t);ci={industry_type:_g_sv_uit_cache_name,sv_product_type:$(this).attr("data-sv_product_type"),product_id:$(this).attr("id"),product_name:replaceStr($(this).attr("data-prname"),"''"),product_num:$(this).find(".nump").text(),product_unitprice:dt>=0?dt:nt,product_discount:bt,product_total:t+((parseFloat(pt*g)||0)-tt),productcard_total:t,product_pleased:$(this).find(".zhong").attr("data-sv_p_originalprice"),product_orig_discount:bt,product_single_untprice:vt==1?tt:$(this).find(".jiage").attr("data-rjia"),product_price:vt==1?tt:$(this).find(".jiage").attr("data-rjia"),product_single_memberprice:$(this).find(".memberprice").html()||0,sv_commissionemployes:StrEmployeelId,sv_pricing_method:$(this).attr("data-pricingmethod"),ProductTasteList:ti,sv_product_tasteprice:parseFloat(pt*g),sv_taste_total_money:parseFloat(pt*g),productSpecTotalMoney:parseFloat(ii*g),productPackTotalMoney:parseFloat(ri*g),productChargingTotalMoney:parseFloat(ui*g),productTasteTotalMoney:parseFloat(fi*g),sv_printer_ip:$(this).attr("data-printerip")||null,sv_printer_port:$(this).attr("data-printerport")||null,sv_p_commissiontype:$(this).attr("data-sv_p_commissiontype")||0,sv_p_commissionratio:$(this).attr("data-sv_p_commissionratio")||"",sv_product_integral:kt==0?"":kt==1?0:$(this).attr("data-sv_product_integral")||"",cnum:$(this).find(".nump").data("cnum")||0,type:$(this).hasClass("product_type")||!1,spec:$(this).attr("data-spec")||"",sv_has_iemino:$(this).attr("data-sv_has_iemino")||!1,sv_iemi_no:$(this).attr("data-sv_iemi_no")||"",p_validity_date:$(this).attr("p_validity_date")||"",pf_newspec:$(this).attr("data-pf_newspec")||"",sv_p_unit:$(this).attr("data-sv_p_unit")||"",sv_p_barcode:$(this).attr("data-sv_p_barcode")||"",sv_p_artno:$(this).attr("data-sv_p_artno")||"",project_config_type:$(this).attr("data-project_config_type")||"",project_config_value:$(this).attr("data-project_config_value")||0,sv_is_monthly_performance:$(this).attr("data-sv_is_monthly_performance")||0,product_discount_new:et,sv_p_mindiscount:st||-1,sv_p_minunitprice:ft||-1,sv_p_memberprice:yt||-1,sv_order_guid:$(this).data("sv_order_guid"),sv_mp_id:ct,sv_mpd_id:gt,sv_product_sales_type:ht,sv_activity_depict:ni,userecord_id:$(this).data("userecord_id"),sv_serialnumber:$(this).data("sv_serialnumber"),sv_mcc_leftcount:$(this).data("sv_mcc_leftcount"),sv_new_Cateringtastetype:vt,productSpecTotalMoney_new:v};productlistJsonList.push(ci);productlistJsonList_bak=productlistJsonList});n==2&&($("#thisProductTotalnumber").text(w),$("#jieshuajie, .cateringProductTotalPrice").text(returnFloat(r)),h>0&&(r=r-b),o>0&&(r=r-c),s>0&&(r=r-l),e>0&&(r=r-e),a>0&&(r=r-k),r=r*i+h+o+s+a+(d-v)+e-p*i,$("#jieshuajie2,.cateringProductTotalPrice").text(returnFloat(r)),$("#xianjin").val(returnFloat(r)),_g_sv_uit_cache_name=="cache_name_catering"&&$("#jieshuajie").val(returnFloat(r)),$("#jieshuajie2").attr("data-promotion_money",e),$("#yinshou").val(returnFloat(r)),_g_sumorigprice=r,IntegralToNow(),SendSecondScreenData(!1),$("#Cashlefsit > li").length>0?$("#guadaiclick").text("\u4e0b\u5355"):$("#guadaiclick").text("\u53d6\u5355"));Judgingindustry()&&t?ductionchare():t==!1&&n!=1&&Judgingindustry()&&automaticChangeMoney()}function SendSecondScreenData(n){var t;try{typeof Cef!="undefined"&&hardware_secondscreen_enable&&(n?(t={ProList:[],TotalAmount:"\uffe50.00",DisCount:"100%",RealAmount:"\uffe50.00",isClear:!0},Cef.SecondScreenOrderSend(JSON.stringify(t))):(SendSecondScreenDataClear(!0),t={ProList:[],TotalAmount:"\uffe5"+$("#jieshuajie").html(),DisCount:_member_discount+"%",RealAmount:"\uffe5"+$("#jieshuajie2").html(),isClear:!1},$("#Cashlefsit > li").each(function(){var n={ID:"1",ProName:$(this).find(".nn1").text()||$(this).find(".cateringProductName").text(),ProCode:$(this).find(".nn2 span.fl").text(),ProNum:parseInt($(this).find(".nump").text()),ProNumFloat:parseFloat($(this).find(".nump").text()),ProPrice:$(this).find(".jiage").text(),Amount:$(this).find(".zhong").text(),SpPrice:"",ImgUrl:"",ExtrlString:"",IsGood:!0};t.ProList.push(n)}),Cef.SecondScreenOrderSend(JSON.stringify(t))))}catch(i){}}function SendSecondScreenDataClear(n){try{if(typeof Cef!="undefined"&&n)Cef.SecondScreenOrderSend(JSON.stringify({ProList:[],TotalAmount:"\uffe50.00",DisCount:"100%",RealAmount:"\uffe50.00",isClear:!0}))}catch(t){}}function f6(){function t(){$(".determinebtn-closebtn").css("padding-top","0px");$.getJSON("/Employee/GetEmployeePageList/",null,function(t){var i,r,f,u;if(t!=null&&t.length>0){for(i="",n=layer.index,r=0;r<t.length;r++){for(f="",u=0;u<checkedemptyeec.length;u++)t[r].sv_employee_id==checkedemptyeec[u].empid&&(f="checked");i+="<li>";i+='<div class="row memberinfobox" style="width: 96%;margin: auto;margin-top: 14px;">';i+=' <div class="memberinfophoto col-xs-3" style="width:33%;">';i+='<img class="subcardlistmeimg" id="cardlistmember_photo" src="/images/employessHtml.png" style="width:50px;height:50px;">';i+='<\/div><div style="padding:4px 0 0 0px ;width: 49%;display: inline-block;" class="memberNamepemp col-xs-8">';i+='<p class="memberNamep" id="memberNamep">'+t[r].sv_employee_name+"<\/p>";i+='<p id="memberdIscount">'+t[r].sv_employee_phone+"<\/p>";i+='<\/div><input class="checkinput" '+f+' type="checkbox" name="subbox"  style="margin-top: 16px;" data-sv_employee_name="'+t[r].sv_employee_name+'" data-sv_employee_id="'+t[r].sv_employee_id+'"><\/div><\/li>'}$("#employessHtml").html(i)}})}function i(n){var r,i,t;if(n&&n.length>0){for(r="",i="",t=0;t<n.length;t++)r+=t==n.length-1?"<i>"+n[t].empname+"<i/>":"<i>"+n[t].empname+"/<i/>",i+=n[t].empid+",";$("#selectempyeid").val(i.substring(0,i.length-1));$("#selectempye").html(r)}}var n=0;$("input").focus(function(){jiaodianname=$(this)});$("#userid").val(userid);$("#Cashxzhy").click(function(){Deke.DeKe_dialog.show_Url3("\u9009\u62e9\u4f1a\u5458","/html/cash/xianzhehuiy.html?v=42",f3,["730px",""],"shoyin2");$("#userid").val("")});$(document).undelegate("#subcardemply","click").delegate("#subcardemply","click",function(){Deke.DeKe_dialog.show_Url3("\u9009\u62e9\u5458\u5de5","/ajaxHtml_N3/product/subcardemply.html",t,["500px",""])});$(document).undelegate("#employessHtml .checkinput","click").delegate("#employessHtml .checkinput","click",function(){var n=$(this);$("#employessHtml .checkinput[name='subbox']").each(function(){if($('#employessHtml .checkinput[name="subbox"]:checked').length>3){n.prop("checked",!1);layer.msg("\u53c2\u4e0e\u540c\u4e00\u4e2a\u9879\u76ee\u7684\u5458\u5de5\u4e0d\u80fd\u8d85\u8fc7\u4e09\u4e2a");return}})});$(document).undelegate("#saveAddEmployeeBtn","click").delegate("#saveAddEmployeeBtn","click",function(){checkedemptyeec=[];$("#employessHtml .checkinput[name='subbox']:checked").each(function(){var n=$(this).data("sv_employee_id"),i=$(this).data("sv_employee_name"),t;checkedemptyid[n]=n;t={empid:n,empname:i};checkedemptyeec.push(t)});checkedemptyeec&&checkedemptyeec.length>0?(layer.close(n),layer.msg("\u786e\u5b9a\u6210\u529f"),i(checkedemptyeec)):layer.msg("\u786e\u5b9a\u5931\u8d25")});cliskgetuser(userid);$(document).off("click",".calui>li");$(document).on("click",".calui>li",function(){$(this).data("val")>=0&&(jiaodianname?jiaodianname.val(jiaodianname.val()+$(this).data("val")).change().focus():$("#sv_mrr_amountbefore").val($("#sv_mrr_amountbefore").val()+$(this).data("val")).change().focus())});$("#query_user").keydown(function(n){n.keyCode==13&&($("#userid").val(""),cliskgetuser(""))});$(document).undelegate("#clickMoneyNum_new li","click").delegate("#clickMoneyNum_new li","click",function(){$(this).data("val")>=0&&(jiaodianname?jiaodianname.val((jiaodianname.val()==0?"":jiaodianname.val())+$(this).data("val")).change().focus():$("#sv_mrr_amountbefore").val($("#sv_mrr_amountbefore").val()+$(this).data("val")).change().focus())});$("#chongzhi").unbind("click").click(function(){var t,n,u,i;if(!$(".layui-layer-loading")||!($(".layui-layer-loading").length>0))if($("#member_id").val()!="0"){var o=$("#sv_mrr_present"),r=$("#sv_mrr_amountbefore"),f=$("#sv_mrr_desc");if(r.val()==""){layer.msg("\u8bf7\u8f93\u5165\uff0c\u5145\u503c\u91d1\u989d\uff01");r.focus();return}var e=o.val()||0,s="";s=$(".sv_mr_name").length>0?$(".sv_mr_name").text():$("#Cashxzhy").find("input").val();t=layer.load(1,{shade:[.1,"#000"]});n={member_id:$("#member_id").val(),sv_mrr_type:$(".on[data-name='type']").data("id"),sv_mrr_payment:$(".CSczpayui li.active").text(),sv_mrr_amountbefore:r.val(),sv_commissionemployes:$("#selectempyeid").val(),sv_mrr_desc:f.val(),sv_mrr_present:e,user_id:$("#userid").val(),sv_user_givingtype:$("#sv_user_givingtype").val(),sv_detali_proportionalue:$("#sv_detali_proportionalue").val(),sv_detail_value:$("#sv_detail_value").val(),sv_recommended_peopleid:$("#sv_recommended_peopleid").val()};$(".CSczpayui li.active").data("id")=="\u5fae\u4fe1"&&sv_enable_wechatpay==!0||$(".CSczpayui li.active").data("id")=="\u652f\u4ed8\u5b9d"&&sv_enable_alipay==!0?(u=0,i={member_id:$("#member_id").val(),sv_recharge_money:r.val(),sv_recharge_type:0,sv_payment_method:$(".CSczpayui li.active").data("id")=="\u5fae\u4fe1"?0:1,sv_give_money:e,sv_remark:f.val(),user_id:$("#userid").val(),sv_mrr_type:1},$.postAsyncJson("/Ajaxdata/MemberRechargeQRCode",i,function(r){var e,f;r.succeed==!0?(e='<div class="wxsaosao"><br><i id="txtPayResultMsg" style="margin-left: 100px;color: red;"><\/i><br><img src='+r.values+' width="200" class="bbimg">',e+='<input type="text" id="authcode" name="sv_mr_cardno" class="form-control" placeholder="\u8bf7\u7528\u626b\u63cf\u67aa\u626b\u7801\u5ba2\u6237\u4e8c\u7ef4\u7801" maxlength="30" autofocus="" /><\/div>',layer.open({type:1,title:$(".CSczpayui li.active").data("id")+"\u652f\u4ed8",area:["380px","360px"],content:e}),$("#authcode").keypress(function(t){t.keyCode==13&&(i.authcode=$("#authcode").val(),$.ajax({url:"/Ajaxdata/MemberBarCodePay",type:"post",data:i,dataType:"json",async:!0,success:function(t){t.succeed==!0?(layer.msg("\u652f\u4ed8\u6210\u529f\uff01"),cliskgetuser($("#userid").val()),$(".swtith ").hasClass("open")&&$.getJSON("/system/Getprint",function(i){n.sv_user_givingtype>0&&n.sv_detail_value>0&&(t.values.sv_mrr_payment=t.values.sv_mrr_payment+"(\u5145"+n.sv_mrr_amountbefore+"\u5143\u9001"+n.sv_detail_value+(n.sv_user_givingtype==1?"\u79ef\u5206":"\u5143)")+")");var r=$(".sv_mr_cardno").text()||$(".sv_mr_cardno").val(),u=$($(".sv_mr_name")[0]).text()||$(".sv_mr_name").val();Cef.openMyPc(JSON.stringify({moedel:n,data:t.values,user:{sv_mr_cardno:r,sv_mr_name:u}}),JSON.stringify(i),4,1,""+receptionPtNum+"",receptionPtName)}),setTimeout(function(){layer.closeAll()},650)):t.errmsg=="\u9700\u8981\u7528\u6237\u8f93\u5165\u652f\u4ed8\u5bc6\u7801"||t.errmsg=="\u5f85\u4e70\u5bb6\u652f\u4ed8"||t.errmsg=="\u7b49\u5f85\u652f\u4ed8"||t.errmsg=="\u6b63\u5728\u7b49\u5f85\u7528\u6237\u786e\u8ba4..."?(r.errmsg=t.values,wxauthcode_waitfor=!0,i.isWaitingPwd=!0,$("#authcode").attr("disabled","disabled"),$("#txtPayResultMsg").text("\u6b63\u5728\u7b49\u5f85\u7528\u6237\u8f93\u5165\u652f\u4ed8\u5bc6\u7801\uff0c\u8bf7\u7a0d\u540e...")):($("#wxauthcode").val(""),layer.closeAll("loading"),$("#errorMsg").html(t.errmsg))}}))}),$(".layui-layer-close").click(function(){layer.close(t);clearInterval(f)}),f=setInterval(function(){u+=3;u<=600?_g_memberWechatPayCallback||(_g_memberWechatPayCallback=!0,$.getJSON("/Ajaxdata/QueryMemberRechargeOrder?orderNumber="+r.errmsg+"&barCodePay="+wxauthcode_waitfor,function(t){t.sate==!0?(clearInterval(f),layer.open({type:1,area:["300px","200px"],shadeClose:!1,content:'<div class="box-center"><div class="success-bg"><\/div><p id="success-money">\u652f\u4ed8\u6210\u529f <\/p><\/div>',time:"1500"}),cliskgetuser($("#userid").val()),$(".swtith ").hasClass("open")&&$.getJSON("/system/Getprint",function(i){n.sv_user_givingtype>0&&n.sv_detail_value>0&&(t.datames.sv_mrr_payment=t.datames.sv_mrr_payment+"(\u5145"+n.sv_mrr_amountbefore+"\u5143\u9001"+n.sv_detail_value+(n.sv_user_givingtype==1?"\u79ef\u5206":"\u5143)")+")");var r=$(".sv_mr_cardno").text()||$(".sv_mr_cardno").val(),u=$($(".sv_mr_name")[0]).text()||$(".sv_mr_name").val();pushSavingData(JSON.stringify({moedel:n,data:t.datames,user:{sv_mr_cardno:r,sv_mr_name:u}}),JSON.stringify(i))}),$(".layui-layer").css({borderRadius:5}),setTimeout(function(){layer.closeAll()},1e3)):_g_memberWechatPayCallback=!1})):clearInterval(f)},5e3)):$.ajax({url:"/Ajaxdata/User_Siblings",data:JSON.stringify(n),type:"POST",contentType:"application/json",success:function(i){i==-3?($("#userid").val(""),layer.close(t),layer.msg("\u5f53\u524d\u4f1a\u5458\u4e0d\u652f\u6301\u8de8\u5e97\u64cd\u4f5c\uff01")):i==-2?(layer.close(t),layer.msg("\u6ca1\u6709\u6743\u9650\u64cd\u4f5c\uff01")):i.sate?($("#sv_mrr_amountbefore,#sv_mrr_desc,#sv_mrr_present").val(""),layer.close(t),layer.msg("\u5145\u503c\u6210\u529f\uff01"),cliskgetuser($("#userid").val()),$(".swtith ").hasClass("open")&&$.getJSON("/system/Getprint",function(t){n.sv_user_givingtype>0&&n.sv_detail_value>0&&(i.datames.sv_mrr_payment=i.datames.sv_mrr_payment+"(\u5145"+n.sv_mrr_amountbefore+"\u5143\u9001"+n.sv_detail_value+(n.sv_user_givingtype==1?"\u79ef\u5206":"\u5143)")+")");var r=$(".sv_mr_cardno").text()||$(".sv_mr_cardno").val(),u=$($(".sv_mr_name")[0]).text()||$(".sv_mr_name").val();pushSavingData(JSON.stringify({moedel:n,data:i.datames,user:{sv_mr_cardno:r,sv_mr_name:u}}),JSON.stringify(t))})):(layer.msg("\u5145\u503c\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u91cd\u8bd5"),layer.close(t))}})})):$.ajax({url:"/Ajaxdata/User_Siblings",data:JSON.stringify(n),type:"POST",contentType:"application/json",success:function(i){i==-3?($("#userid").val(""),layer.msg("\u5f53\u524d\u4f1a\u5458\u4e0d\u652f\u6301\u8de8\u5e97\u64cd\u4f5c\uff01"),layer.close(t)):i==-2?(layer.msg("\u6ca1\u6709\u6743\u9650\u64cd\u4f5c\uff01"),layer.close(t)):i.sate?($("#sv_mrr_amountbefore,#sv_mrr_desc,#sv_mrr_present").val(""),layer.close(t),layer.msg("\u5145\u503c\u6210\u529f\uff01"),cliskgetuser($("#userid").val()),$(".swtith ").hasClass("open")&&$.getJSON("/system/Getprint",function(t){n.sv_user_givingtype>0&&n.sv_detail_value>0&&(i.datames.sv_mrr_payment=i.datames.sv_mrr_payment+"(\u5145"+n.sv_mrr_amountbefore+"\u5143\u9001"+n.sv_detail_value+(n.sv_user_givingtype==1?"\u79ef\u5206":"\u5143)")+")");var r=$(".sv_mr_cardno").text()||$(".sv_mr_cardno").val(),u=$($(".sv_mr_name")[0]).text()||$(".sv_mr_name").val();pushSavingData(JSON.stringify({moedel:n,data:i.datames,user:{sv_mr_cardno:r,sv_mr_name:u}}),JSON.stringify(t))})):(layer.msg("\u5145\u503c\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u91cd\u8bd5"),layer.close(t))}})}else $("#Cashxzhy").click(),layer.msg("\u8bf7\u5148\u67e5\u627e\u4f1a\u5458\u6216\u8bc6\u522b\u4f1a\u5458\u5361")});$(".CSczpayui li").click(function(){$(this).addClass("active").siblings().removeClass("active")});$(".swtith i").click(function(){$(this).parents(".swtith").toggleClass("open")})}function f9(){$("#query_user").focus();$("#Cashxzhy").click(function(){g_DisableManualInput?layer.msg("\u5df2\u7981\u7528\uff01"):(Deke.DeKe_dialog.show_Url3("\u9009\u62e9\u4f1a\u5458","/html/cash/xianzhehuiy.html?v=20166",f3,["730px",""],"shoyin2"),$("#userid").val(""))});var n="";$("#query_user").keydown(function(t){if(t.keyCode==13)$("#query_user").val()&&(n!=$("#query_user").val()?($("#userid").val(""),cliskgetuser()):$(".layui-layer-btn0").trigger("click"),n=$("#query_user").val());else if(t.keyCode==113){var i=typeof Cef;i!=="undefined"&&(GetICCardEventData($("#query_user"),t),$("#query_user").val()&&(n!=$("#query_user").val()?($("#userid").val(""),cliskgetuser()):$(".layui-layer-btn0").trigger("click"),n=$("#query_user").val()))}});$("#query_user").change(function(){$("#query_user").val().length>0&&($("#userid").val(""),cliskgetuser(""))});$("#huiyuan_click > li").click(function(){if($("#query_user").data("id",""),$(this).hasClass("cdbule")){var n=$("#query_user").val();$("#query_user").val(n.substring(0,n.length-1))}else $(this).text()=="OK"?$("#query_user").change():$("#query_user").val($("#query_user").val()+$(this).text());$("#query_user").focus()})}function getGuanList(n,t,i){var r=[];_g_catering_order_list_print_Json={prlist:[],order_running_id:$("#catering_order_list li.active").data("id"),sv_catering_grade:$("#catering_order_list li.active").attr("data-grade"),sv_person_num:$("#catering_order_list li.active").attr("data-personnum"),sv_without_list_id:$("#catering_order_list li.active").attr("data-withlistid")};i=i||!1;$.getJSON("/settle/GetGuanList?order_id="+n+"&is_mp="+i,function(n){var l,a,i,f,s,o,e,u,b,d,h,p,k,y,w;if(htmlaa="",n){for(l=0,a=0,i=0;i<n.length;i++)if(f=0,s=0,n[i].sv_pricing_method==1?(f=n[i].sv_p_weight,s=n[i].sv_p_total_weight):(f=n[i].product_num,s=n[i].sv_p_storage),n[i].mp_list&&n[i].producttype_id==0&&(promotionConfig_data&&promotionConfig_data.length>0&&deleteCheckedpromotionConfig_data(n[i].product_id),promotionConfig_data.push({id:n[i].product_id,mpconfg:JSON.parse(n[i].mp_list)})),l=l+f,a=a+n[i].product_total,_g_sv_uit_cache_name=="cache_name_catering"){var v=[],c='<td style="display:none;" class="cateringTasteOderListHtml">';if(n[i].productTasteJson!=null&&n[i].productTasteJson.length>0)for(o=eval(n[i].productTasteJson),u=0;u<o.length;u++)h={sv_taste_price:o[u].sv_taste_price,sv_taste_data_type:0,sv_taste_data_name:o[u].sv_taste_name+"("+o[u].sv_taste_price+")"},v.push(h),c+='<i data-id="'+o[u].sv_taste_id+'" data-price="'+o[u].sv_taste_price+'" data-type="0" class="productTaste">'+o[u].sv_taste_name+"("+o[u].sv_taste_price+")<\/i>";if(n[i].cateringChargingJson&&n[i].cateringChargingJson.length>0)for(e=eval(n[i].cateringChargingJson),u=0;u<e.length;u++)h={sv_taste_price:e[u].sv_taste_price,sv_taste_data_type:1,sv_taste_data_name:e[u].sv_charging_name+"("+e[u].sv_taste_price+")"},v.push(h),b=e[u].sv_charging_type==0?1:2,d=e[u].sv_charging_type==0?"addFoods":"addFoodSpec",c+='<i data-id="'+e[u].sv_taste_id+'" data-price="'+e[u].sv_taste_price+'" data-type="'+b+'" class="addFoodSpec">'+e[u].sv_charging_name+"("+e[u].sv_taste_price+")<\/i>";n[i].sv_is_packing&&(h={sv_taste_price:n[i].sv_packing_charges,sv_taste_data_type:2,sv_taste_data_name:"\u6253\u5305("+n[i].sv_packing_charges+")"},v.push(h),c+='<i data-id="0" data-price="'+n[i].sv_packing_charges+'" data-type="3" class="productblae">\u6253\u5305('+n[i].sv_packing_charges+")<\/i>");c+="<\/td>";p=!1;y=NewGuid();n[i].setup&&n[i].setup.is_no_wholediscount&&(p=!0);htmlaa+='<tr  data-sv_p_unit="'+n[i].sv_p_unit+'" data-producttype_id='+n[i].producttype_id+" data-sv_has_iemino="+n[i].sv_has_iemino+' data-sv_iemi_no="'+n[i].sv_iemi_no+'" data-sv_iemi_no_used="'+n[i].sv_iemi_no_used+'" data-sv_initial_stock="'+n[i].sv_initial_stock+'"  data-sv_p_commissiontype='+(n[i].sv_p_commissiontype||0)+" data-sv_product_type="+n[i].sv_product_type+' data-withlist_guid="'+y+'" data-sv_product_sales_type="'+n[i].sv_product_sales_type+'" data-sv_mpd_id="'+n[i].sv_mpd_id+'" data-sv_mp_id="'+n[i].sv_mp_id+'" data-product_activity_price="'+n[i].product_activity_price+'" data-is_no_wholediscount="'+p+'"  data-sv_is_monthly_performance="'+n[i].setup.sv_is_monthly_performance+'" data-project_config_value="'+n[i].setup.project_config_value+'" data-project_config_type="'+n[i].setup.project_config_type+'" data-sv_p_specs="'+n[i].sv_p_specs+'" data-mindiscount="'+n[i].sv_p_mindiscount+'" data-minunitprice="'+n[i].sv_p_minunitprice+'"   data-sv_p_storage='+s+" ";htmlaa+='data-untprice ="'+n[i].product_unitprice+'" data-originalprice="'+n[i].sv_p_originalprice+'" data-memberprice="'+n[i].sv_p_memberprice+'" data-id="'+n[i].product_id+'" data-url ="'+loadProductImgUrl(n[i])+'"';htmlaa+='data-num="'+f+'" data-prnumber="'+s+'" data-productotal="'+n[i].product_total+'" data-pricingmethod="'+n[i].sv_pricing_method+'" ';htmlaa+='data-categoryId="'+n[i].productcategory_id+'" data-name ="'+n[i].product_name+'" data-packprice="'+n[i].sv_packing_unitprice+'" ';htmlaa+='data-printerip="'+n[i].sv_printer_ip+'" data-printerport="'+n[i].sv_printer_port+'">';htmlaa+=c;htmlaa+='<td style="width: 160px;">'+n[i].product_name+"<\/td><td>"+f+"<\/td><td>"+n[i].product_unitprice+"<\/td><td>"+n[i].product_total+"<\/td>";htmlaa+='<td class="cutfoods" style="width: 95px;"><button data-type="0" data-id="'+n[i].sv_without_product_id+'" ';htmlaa+=' class="cutfoodsbtn btn"><i class="icon-minus-sign"><\/i><\/button><span>'+f+'<\/span><button data-type="1" data-id="'+n[i].sv_without_product_id+'" class="addfoodsbtn btn"><i class="icon-plus-sign">';htmlaa+='<\/i><\/button><\/td> <td class="printbox"><a href="javascript:void(0);" class="print" data-id="'+n[i].sv_without_product_id+'">\u8865\u6253<\/a><\/td>';htmlaa+="<\/tr>";k={product_name:n[i].product_name,product_num:f,product_unitprice:n[i].product_unitprice,product_discount:n[i].product_discount,product_total:n[i].product_total,ProductTasteList:v,sv_printer_ip:n[i].sv_printer_ip,sv_printer_port:n[i].sv_printer_port,sv_without_product_id:n[i].sv_without_product_id};r.push(k)}else y=NewGuid(),w="",w=n[i].sv_product_integral===null?"":n[i].sv_product_integral>=0?n[i].sv_product_integral:"",htmlaa+='<tr data-sv_p_unit="'+n[i].sv_p_unit+'" data-producttype_id='+n[i].producttype_id+" data-sv_has_iemino="+n[i].sv_has_iemino+' data-sv_iemi_no="'+n[i].sv_iemi_no+'" data-sv_iemi_no_used="'+n[i].sv_iemi_no_used+'" data-sv_initial_stock="'+n[i].sv_initial_stock+'"  data-sv_p_commissiontype='+(n[i].sv_p_commissiontype||0)+" data-sv_product_type="+n[i].sv_product_type+'   data-withlist_guid="'+y+'" data-product_price="'+n[i].product_price+'" data-sv_p_storage='+s+' data-sv_product_sales_type="'+n[i].sv_product_sales_type+'" data-sv_mpd_id="'+n[i].sv_mpd_id+'" data-sv_mp_id="'+n[i].sv_mp_id+'" data-product_activity_price="'+n[i].product_activity_price+'"  data-sv_is_monthly_performance="'+n[i].setup.sv_is_monthly_performance+'" data-project_config_value="'+n[i].setup.project_config_value+'" data-project_config_type="'+n[i].setup.project_config_type+'" data-sv_p_specs="'+n[i].sv_p_specs+'" data-mindiscount="'+n[i].sv_p_mindiscount+'" data-minunitprice="'+n[i].sv_p_minunitprice+'" ',htmlaa+='data-untprice ="'+n[i].product_unitprice+'" data-num="'+f+'" data-prnumber="'+s+'" data-name ="'+n[i].product_name+'" data-memberprice="'+n[i].sv_p_memberprice+'" data-id="'+n[i].product_id+'" data-url ="'+loadProductImgUrl(n[i])+'"',htmlaa+='data-pricingmethod="'+n[i].sv_pricing_method+'" data-unitprice ="'+n[i].product_unitprice+'" data-categoryId="'+n[i].productcategory_id+'" data-sv_p_commissiontype="'+(n[i].sv_p_commissiontype||0)+'"',htmlaa+='data-sv_product_integral="'+(w||"")+'" data-sv_p_commissionratio="'+(n[i].sv_p_commissionratio||"")+'"><td>'+(i+1)+"<\/td><td>"+n[i].product_nober+"<\/td> ",htmlaa+=n[i].sv_iemi_no?"<td>"+n[i].product_name+"\u3010"+n[i].sv_iemi_no+"\u3011<\/td> <td>"+f+"<\/td> <td>"+n[i].product_unitprice+"<\/td><td>"+n[i].product_total+"<\/td><\/tr>":"<td>"+n[i].product_name+"<\/td> <td>"+f+"<\/td> <td>"+n[i].product_unitprice+"<\/td><td>"+n[i].product_total+"<\/td><\/tr>";_g_catering_order_list_print_Json.prlist=r;_g_withlist_remark=$("#catering_order_list li.active .withorder_listremarks").text();_g_withlist_remark&&_g_withlist_remark!="null"?($("#withlist_singleOrderRemark").text(_g_withlist_remark),$("#withlist_singleOrderRemark_div").show()):($("#withlist_singleOrderRemark").text(""),$("#withlist_singleOrderRemark_div").hide());$("#withlist_singleOrderNumber").text(l);$("#withlist_singleOrderMoney").text(parseFloat(a).toFixed(2));t&&t==!0&&$.getJSON("/system/Getprint",function(n){n&&(pushcateringprintData(JSON.stringify(_g_catering_order_list_print_Json),JSON.stringify(n),2),pushcateringprintData(JSON.stringify(_g_catering_order_list_print_Json),JSON.stringify(n),1),layer.msg("\u5df2\u5411\u53a8\u623f\u53d1\u9001\u83dc\u54c1\u6253\u5370",{time:1500}))})}$("#guanprlist, #catering_order_product").html(htmlaa)})}function getIntervaldate(n,t){var i="";if(n&&t){var r=new Date(n),u=new Date(t),f=parseInt(Math.abs(u-r)/864e5);f>7&&(i="\u67e5\u8be2\u7684\u8303\u56f4\u4e0d\u80fd\u5927\u4e8e7\u5929")}else i="\u8bf7\u8f93\u5165\u6709\u6548\u65e5\u671f\u518d\u67e5\u8be2";return i}function orderSharedFn(n,t,i){if(!i||!t){var u=(new Date).Format("yyyy-MM-dd hh:mm"),r=new Date,f=new Date;r.setDate(f.getDate()-7);var e=r.getFullYear(),o=r.getMonth()+1,s=new Date(e+"-"+o+"-"+r.getDate()).Format("yyyy-MM-dd hh:mm");$("#selectstartDate").val(s);$("#selectendDate").val(u);optercomentfntime()}_g_catering_order_list_print_Json={};_g_sv_uit_cache_name=="cache_name_catering"?($("#btnCateringOrderTotals").show(),$("#btnCateringOrderPrint").show(),$("#btnCancelMobileOrder").show(),$("#btnAcceptMobileOrder").show(),$("#general_order_list_container").hide(),$("#catering_order_list_container").show(),$("#btnOrdergdsendmsg").show()):($("#general_order_list_container").show(),$("#catering_order_list_container").hide(),$("#btnOrdergdsendmsg").hide());$.getJSON("/settle/Getguandan",{pageIndex:1,pageSize:100,start_date:$("#selectstartDate").val(),end_date:$("#selectendDate").val()},function(t){for(var u,f,e,r="",i=0;i<t.length;i++)u="",f="",t[i].member_id!=null&&t[i].member_id!=undefined&&t[i].member_id!=""&&(u=t[i].member_id),t[i].sv_remark!=null&&t[i].sv_remark!=undefined&&t[i].sv_remark!=""&&(f=t[i].sv_remark),_g_sv_uit_cache_name=="cache_name_catering"?(e="",n&&n==t[i].sv_without_list_id&&(e='class="active"'),r+='<li data-id="'+t[i].wt_nober+'" data-personNum ="'+t[i].sv_person_num+'" ',r+='data-withListId="'+t[i].sv_without_list_id+'" data-memberId = "'+u+'" ',r+='data-tableid="'+t[i].sv_table_id+'" data-grade="'+(t[i].sv_catering_grade||"")+'" ',r+='data-ordersource="'+t[i].sv_order_source+'" data-isaccept ="'+t[i].sv_mobile_order_is_accept+'" '+e+">",r+='<div class="cateringPendingOrderlistNumber"><span>'+(t[i].sv_catering_grade||"")+"<\/span><\/div>",r+='<div class="cateringPendingOrderlistinformation">',r+='<div class="cateringPendingOrderNumber"><span>'+t[i].wt_nober+"<\/span>",r+='<span class="withorder_listremarks" style="display:none;">'+t[i].sv_remark+"<\/span>",t[i].sv_order_print_status==2?r+='<span class="sharestyle hasbeenprinted">\u5df2\u6253\u5370<\/span>':t[i].sv_order_source==1&&t[i].sv_payment_type==0&&(t[i].sv_mobile_order_is_accept==0?r+='<span class="sharestyle toorder">\u5f85\u63a5\u5355<\/span>':t[i].sv_mobile_order_is_accept==1?r+='<span class="sharestyle orderstatus">\u5df2\u63a5\u5355<\/span>':t[i].sv_mobile_order_is_accept==3&&(r+='<span class="sharestyle orderstatus">\u5df2\u53d6\u6d88<\/span>')),r+="<\/div>",r+='<div class="cateringPendingOrderTime"><span class="fl">'+new Date(t[i].wt_datetime).Format("MM-dd hh:mm:ss")+"<\/span>",r+='<span class="fr"><i class="orderPeopleNumber">'+t[i].sv_person_num+"\u4eba<\/i>",r+=t[i].sv_order_source==0?'<i class="icon-laptop orderTypr"><\/i>':'<i class="icon-mobile-phone orderTypr"><\/i>',r+=" <\/span><\/div><\/div><\/li>"):(r+='<li data-tableid="0" data-grade="0" data-id="'+t[i].wt_nober+'" data-memberId = "'+u+'" data-personnum="0" data-withlistid="'+t[i].sv_without_list_id+'" data-tableid="0" data-grade="">',r+='<div class="nalefisfristbox"><span>\u5355\u53f7:<\/span><span>'+t[i].wt_nober+"<\/span><span>"+new Date(t[i].wt_datetime).Format("hh:mm:ss")+"<\/span>",r+='<\/div><div class="nalefisfristbox"><span>\u5907\u6ce8:<\/span><span class="listremarks">'+f+'<\/span><\/div><input type="radio" id="" name="productName" class="member-check"><\/li>',r+="");$("#guandanlist, #catering_order_list").html(r);n&&n>0&&_g_sv_uit_cache_name=="cache_name_catering"&&($("#btnAcceptMobileOrder").attr("disabled","disabled"),$("#btnCancelMobileOrder").attr("disabled","disabled"),$("#Takeasingle").removeAttr("disabled"),$("#btnCateringOrderTotals").removeAttr("disabled"),$("#btnCateringOrderPrint").removeAttr("disabled"),getGuanList(n,!0));$("#guandanlist li, #catering_order_list li").click(function(){var i,n,t,r;$(this).toggleClass("joove").siblings().removeClass("joove");$(this).toggleClass("active").siblings().removeClass("active");i=$(this).attr("data-withlistid");i>0&&(n=$(this).attr("data-ordersource"),t=$(this).attr("data-isaccept"),n==0?($("#btnAcceptMobileOrder").attr("disabled","disabled"),$("#btnCancelMobileOrder").attr("disabled","disabled"),$("#Takeasingle").removeAttr("disabled"),$("#btnCateringOrderTotals").removeAttr("disabled"),$("#btnCateringOrderPrint").removeAttr("disabled")):n==1&&t==0?($("#btnAcceptMobileOrder").removeAttr("disabled"),$("#btnCancelMobileOrder").removeAttr("disabled"),$("#Takeasingle").attr("disabled","disabled"),$("#btnCateringOrderTotals").attr("disabled","disabled"),$("#btnCateringOrderPrint").attr("disabled","disabled")):n==1&&t==1?($("#btnAcceptMobileOrder").attr("disabled","disabled"),$("#btnCancelMobileOrder").attr("disabled","disabled"),$("#Takeasingle").removeAttr("disabled"),$("#btnCateringOrderTotals").removeAttr("disabled"),$("#btnCateringOrderPrint").removeAttr("disabled")):n==1&&t==3?($("#btnAcceptMobileOrder").attr("disabled","disabled"),$("#btnCancelMobileOrder").attr("disabled","disabled"),$("#Takeasingle").attr("disabled","disabled"),$("#btnCateringOrderTotals").attr("disabled","disabled"),$("#btnCateringOrderPrint").attr("disabled","disabled")):($("#btnAcceptMobileOrder").attr("disabled","disabled"),$("#btnCancelMobileOrder").attr("disabled","disabled"),$("#Takeasingle").removeAttr("disabled"),$("#btnCateringOrderTotals").removeAttr("disabled"),$("#btnCateringOrderPrint").removeAttr("disabled")),$("#btnOrdergdsendmsg").hide(0),r=$("#guandanlist li.joove, #catering_order_list li.active").attr("data-memberid"),r&&r!="0"&&_g_sv_uit_cache_name=="cache_name_catering"&&$("#btnOrdergdsendmsg").show(0),getGuanList(i,!1,!0))})});$("#btnDeleteWithLists").click(function(){var n,t;$("#guandanlist li.joove, #catering_order_list li.active").length==1?(n=$("#guandanlist li.joove, #catering_order_list li.active").attr("data-withlistid"),n>0?(t='<div>\u786e\u5b9a\u5220\u9664\u6302\u5355\u4fe1\u606f\uff1f<\/div><div class="modal-footer product-modal-footer selectBtn" style="bottom: 0;padding: 0;height: 34px;border:none;margin-left: -20px;"><button type="button" class="text-center btn fl closeallpage">\u53d6\u6d88<\/button><button type="button" class="text-center btn fl selectSuccess" id="btnConfirmDeleteWithList">\u786e\u5b9a<\/button><\/div>',index=layer.open({title:" ",content:t,btn:!1,area:["300px","180px"]})):layer.msg("\u8fd8\u6ca1\u6709\u9009\u4e2d\u8981\u5220\u9664\u7684\u8ba2\u5355")):layer.msg("\u8fd8\u6ca1\u6709\u9009\u4e2d\u8981\u5220\u9664\u7684\u8ba2\u5355")});$("#btnOrderCancel").click(function(){layer.closeAll()})}function optercomentfntime(){var n={elem:"#selectstartDate",format:"YYYY-MM-DD hh:mm",min:laydate.now(-365),max:laydate.now(),istime:!0,istoday:!1,choose:function(n){t.min=n;t.start=n}},t={elem:"#selectendDate",format:"YYYY-MM-DD hh:mm",min:laydate.now(),max:laydate.now(),istime:!0,istoday:!1,choose:function(t){n.max=t;n.min=minusSelectDate(t,365)}};laydate(n);laydate(t);laydate.skin("molv")}function existsCateringGrade(n){var t=0;$.getJSON("/Catering/ExistsCateringGrade",{gradeName:n},function(i){var r,u;i>0?(t=i,r='<div>\u8be5\u724c\u53f7\u5df2\u5728\u4f7f\u7528\u4e2d\uff0c\u662f\u5426\u5411\u8be5\u724c\u53f7\u4e2d\u6dfb\u52a0\u83dc\u54c1\uff1f<\/div><div class="modal-footer product-modal-footer selectBtn" style="bottom: 0;padding: 0;height: 34px;border:none;margin-left: -20px;"><button type="button" class="text-center btn fl closeallpage">\u53d6\u6d88<\/button><button type="button" class="text-center btn fl selectSuccess" id="btnConfirmCateringAddOrderFoods">\u786e\u5b9a<\/button><\/div>',layer.open({title:" ",content:r,btn:!1,area:["300px","180px"],success:function(){$("#btnConfirmCateringAddOrderFoods").click(function(){$("#catering_CateringGrade").attr("data-addFood",!0);$("#catering_CateringGrade").attr("data-withlistid",t);var n=$("#catering_CateringGrade").attr("data-withlistid");isNullOrWhiteSpace(n)&&funcSaveWithOrderListInfo()})}})):($("#catering_CateringGrade").text(n),u=$("#catering_CateringGrade").text(),funcSaveWithOrderListInfo())})}function funcSetCateringGrade(){$("#jishukuan").val("");$("#updateNum_en").hide();$("#updateNum").css("width","190px");$("#woquren").click(function(){if($("#jishukuan").val().replace(/\ +/g,"")){var n=$("#jishukuan").val().replace(/\ +/g,"");n&&n>0?($("#catering_CateringGrade").text(n),layer.close(index)):layer.msg("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u724c\u53f7\uff01")}else $("#jishukuan").focus(),layer.msg("\u8bf7\u8f93\u5165\u724c\u53f7\uff01")})}function operateWithOrderFoodNumber(n,t,i){var r=$("#catering_order_list li.active"),f=r.attr("data-isaccept"),e=r.attr("data-ordersource"),u;if(f==0&&e==1){layer.msg("\u8be5\u624b\u673a\u8ba2\u5355\u8fd8\u672a\u786e\u8ba4\u63a5\u5355\u4e0d\u80fd\u8fdb\u884c\u6570\u91cf\u64cd\u4f5c");return}u=commonOpenLoading();$("#catering_order_product button").addClass("disabled").attr("disabled","disabled");$.post("/Catering/OperateWithOrderFoodNumber",{orderProductId:n,num:t,operateType:i},function(t){if(commonCloseLoading(u),t.succeed){if(singleOrderProductPrint(n,i),t.values=="Last"?($("#catering_order_product").html(""),orderSharedFn()):setTimeout(function(){getGuanList($("#catering_order_list>li.active").attr("data-withlistid"))},200),$("#Cashlefsit li").length>0){var r=$(".cateringTableList-ul>li.active").attr("data-id"),f=$(".cateringTableList-ul>li.active").attr("data-name");r>0&&getGuandanmModelByTableId(r,f,0,0)}}else layer.msg(t.errmsg)})}function return_Vegetables_Pwd(n){$("#operation_pwd").focus();$("#btnoperation").click(function(){if(return_Vegetables_Pwd_vaue==hex_md5($("#operation_pwd").val()).toUpperCase())operateWithOrderFoodNumber(n.id,0,0),layer.close(index);else{layer.msg("\u5bc6\u7801\u8f93\u5165\u6709\u8bef");return}});$("#operation_pwd").keypress(function(t){if(t.which==13)if(return_Vegetables_Pwd_vaue==hex_md5($("#operation_pwd").val()).toUpperCase())operateWithOrderFoodNumber(n.id,0,0),layer.close(index);else{layer.msg("\u5bc6\u7801\u8f93\u5165\u6709\u8bef");return}})}function singleOrderProductPrint(n,t){var u={prlist:[],order_running_id:_g_catering_order_list_print_Json.order_running_id,sv_catering_grade:_g_catering_order_list_print_Json.sv_catering_grade,sv_person_num:_g_catering_order_list_print_Json.sv_person_num},i,c,r,e,f,o,s,h;if(n>0&&u!=null)if(i=_g_catering_order_list_print_Json.prlist,c=[],i&&i.length>0){for(r=0;r<i.length;r++)if(i[r].sv_without_product_id==n){e=parseFloat(i[r].product_unitprice||0);f=parseFloat(i[r].product_num||0);u.prlist.push(i[r]);t==0?f==1?i.splice(r,1):(i[r].thisProductNum=f-1,i[r].product_total=i[r].thisProductNum*e):t==1&&(i[r].thisProductNum=f+1,i[r].product_total=i[r].thisProductNum*e);break}}else o=$("#Cashlefsit>li.active .catering_taste_list").find("i"),s=[],o.length>0&&$(o).each(function(){var n={sv_taste_data_name:$(this).text(),sv_taste_data_type:$(this).attr("data-type"),sv_taste_price:$(this).attr("data-price")};s.push(n)}),u={prlist:[{ProductTasteList:s,product_discount:$("#Cashlefsit>li.active").attr("data-product_discount"),product_name:$("#Cashlefsit>li.active").attr("data-prname"),product_num:$("#Cashlefsit>li.active").attr("data-product_number"),product_total:$("#Cashlefsit>li.active").attr("data-product_total"),product_unitprice:$("#Cashlefsit>li.active").attr("data-minunitprice"),sv_printer_ip:$("#Cashlefsit>li.active").attr("data-printerip"),sv_printer_port:$("#Cashlefsit>li.active").attr("data-printerport"),sv_without_product_id:$("#Cashlefsit>li.active").attr("data-sv_without_product_id")}],order_running_id:$("#danhao").text(),sv_catering_grade:$("#catering_CateringGrade").text(),sv_person_num:$("#catering_CateringGrade").attr("data-personnum")};t!=-1&&(u.prlist[0].product_num=1);h=commonOpenLoading();u&&u.prlist&&u.prlist.length>0?$.getJSON("/system/Getprint",function(n){pushcateringprintData(JSON.stringify(u),JSON.stringify(n),2,t);setTimeout(function(){commonCloseLoading(h)},800);layer.msg("\u5df2\u5411\u53a8\u623f\u53d1\u9001\u83dc\u54c1\u6253\u5370",{time:1500})}):layer.msg("\u8bf7\u9009\u62e9\u6253\u5370\u6570\u636e")}function funcSaveWithOrderListInfo(){var t,n,i;isNullOrWhiteSpace($("#danhao").text())||shuxin();t={member_id:$("#huiyuan_id").attr("data-id"),sv_remark:$("#remarks").val(),prlist:[],wt_nober:$("#danhao").text(),sv_table_id:$("#catering_CateringGrade").attr("data-tableId"),sv_catering_grade:$("#catering_CateringGrade").text(),sv_person_num:$("#catering_CateringGrade").attr("data-personNum"),sv_order_source:0,sv_without_list_id:$("#catering_CateringGrade").attr("data-withlistid")||0,sv_table_is_together:$("#catering_CateringGrade").attr("data-together")||!1,ContinueToAddFood:$("#catering_CateringGrade").attr("data-addFood")||!1};n=JSON.parse(JSON.stringify(t));$("#Cashlefsit > li").each(function(){var i=[],o=$(this).attr("id"),r=0,s=$(this).find(".catering_taste_list i")||[],u=!1,f=0,h=$(this).find(".catering_taste_remarks .orderProductRemarks").text()||"";$(s).each(function(){var n=$(this).attr("data-type"),t;n==3?(u=!0,f=$(this).attr("data-price")):(t={sv_taste_id:$(this).attr("data-id"),sv_taste_price:$(this).attr("data-price"),product_id:o,sv_taste_data_type:n,sv_taste_data_name:$(this).text()||""},i.push(t));r+=parseFloat($(this).attr("data-price")||0)});var c=$(this).attr("data-sv_product_sales_type")||0,l=$(this).attr("data-sv_mpd_id")||0,a=$(this).attr("data-sv_mp_id")||0,v=parseFloat($(this).attr("data-promotion_price")||0)*parseFloat($(this).attr("data-discount")||1),e={product_nober:$("#danhao").text(),product_id:$(this).attr("id"),product_name:replaceStr($(this).attr("data-prname"),"''"),product_num:$(this).find(".nump").text(),product_unitprice:$(this).find(".jiage").text(),product_discount:0,product_total:$(this).find(".zhong").text(),sv_pricing_method:$(this).attr("data-pricingmethod"),ProductTasteList:i,sv_product_tasteprice:r,sv_is_packing:u,sv_packing_charges:f,sv_remark:h,product_price:$(this).find("text.jiage").attr("data-rjia"),sv_packing_unitprice:$(this).attr("data-packprice")||0,sv_printer_ip:$(this).attr("data-printerip")||"",sv_printer_port:$(this).attr("data-printerport")||"",sv_p_commissiontype:$(this).attr("data-sv_p_commissiontype")||0,sv_p_commissionratio:$(this).attr("data-sv_p_commissionratio")||null,sv_product_integral:$(this).attr("data-sv_product_integral")||null,sv_mpd_id:l,sv_mp_id:a,sv_product_sales_type:c,product_activity_price:v,sv_has_iemino:$(this).attr("data-sv_has_iemino")||!1,sv_iemi_no:$(this).attr("data-sv_iemi_no")||""};$(this).attr("data_order_product_status")==1||n.prlist.push(e);t.prlist.push(e)});i=layer.load(1,{shade:[.1,"#000"]});$.ajax({url:"/settle/Post_guadan",type:"post",data:JSON.stringify(t),contentType:"application/json",async:!0,success:function(t){t.succeed?(shuxin(),$("#Cashlefsit").html(""),layer.closeAll(),layer.msg("\u4e0b\u5355\u64cd\u4f5c\u6210\u529f\uff01"),commondCleanOderInfos(),_g_sv_uit_cache_name=="cache_name_catering"&&$.getJSON("/system/Getprint",function(t){n&&n.prlist&&n.prlist.length>0&&(pushcateringprintData(JSON.stringify(n),JSON.stringify(t),2),layer.msg("\u5df2\u5411\u53a8\u623f\u53d1\u9001\u83dc\u54c1\u6253\u5370",{time:1500}))})):t.errmsg?(layer.close(i),layer.msg(t.errmsg)):(layer.close(i),layer.msg("\u64cd\u4f5c\u5931\u8d25\uff01"))}});layer.close(i)}function imemNumberLoadFn(n,t){t||($("#s_product_name_text").text(n.productName),$("#s_product_blane_text").text(n.blan_id),$("#s_product_spec_text").text(n.spec),$("#s_product_stock_text").text(n.goodsNumber));$("#s_product_id_IMEM").val(n.id);$.get("/AjaxProduct/Getsv_productIEMIListForSales",{id:n.id,pageIndex:1,name:t},function(i){var r=Math.ceil(i.total/36);laypage({cont:$("#s_pageList"),pages:r,skin:"molv",prev:"\u4e0a\u4e00\u9875",next:"\u4e0b\u4e00\u9875",jump:function(r){getProductIEMIListForList(n.id,r.curr,n.goodsNumber,i.total,t)}})})}function getProductIEMIListForList(n,t,i,r,u){$("#serialNumberList").empty();seriaNumberArray_active_ImemCounts=parseInt(i-r||0);$.get("/AjaxProduct/Getsv_productIEMIListForSales",{id:n,pageIndex:t,pageSize:36,name:u},function(t){var f="",o,e;t&&t.dataList&&t.dataList.length>0?(o=t.dataList,i>r&&(e=seriaNumber_imem_obj[0],f+=e!=undefined&&e==n?'<li class="active" data-product_id="'+n+'" data-imem="0" class="text-center">\u65e0\u4e32\u7801\u9500\u552e<\/li>':'<li data-product_id="'+n+'" data-imem="0" class="text-center">\u65e0\u4e32\u53f7\u9500\u552e<\/li>'),$.each(o,function(n,t){var i=seriaNumber_imem_obj[t.sv_iemi_no];f+=i!=undefined?'<li class="active" data-product_id="'+t.product_id+'" data-imem="'+t.sv_iemi_no+'" data-price="'+t.sv_p_unitprice+'"><div class="imemnumber">'+t.sv_iemi_no+'<\/div><div class="price_p">\u00a5'+parseFloat(t.sv_p_unitprice).toFixed(2)+"<\/div><\/li>":'<li data-product_id="'+t.product_id+'" data-imem="'+t.sv_iemi_no+'" data-price="'+t.sv_p_unitprice+'"><div class="imemnumber">'+t.sv_iemi_no+'<\/div><div class="price_p">\u00a5'+parseFloat(t.sv_p_unitprice).toFixed(2)+"<\/div><\/li>"}),$("#serialNumberList").html(f)):u==undefined&&(f+='<li data-product_id="'+n+'" data-imem="0" class="text-center">\u65e0\u4e32\u53f7\u9500\u552e<\/li>',$("#serialNumberList").html(f))})}function getNewSpecificationList(n){$.get("/AjaxProduct/GetMorespecSubProductList?id="+n+"&is_mp=true",function(t){var i,e,r,o,h,c;if(t){var u=t.sv_master_validspec,f="",s=u.length;for($("#newSpecObjectLength").val(s),i=0;i<s;i++){for(f+='<div class="content_center_list">',f+="<p>"+u[i].spec_name+"<\/p>",f+='<ul class="newSpecificationList" data-spec_id="'+u[i].spec_id+'" id="">',e=u[i].attrilist,r=0;r<e.length;r++)o=u[i],o.attrilist=[],o.attrilist.push(e[r]),h=JSON.stringify(o),f+='<li data-spec_name="'+u[i].spec_name+'" data-length="'+s+'" data-attrilist='+h+' data-spec_id="'+u[i].spec_id+'" data-attri_name="'+e[r].attri_name+'">'+e[r].attri_name+(e[r].sv_remark?"("+e[r].sv_remark+")":"")+"<\/li>";f+="<\/ul>";f+="<\/div>"}$("#newSpecificationList").html(f);$("#s_product_id_newSpec").val(n);t.sv_p_name.length>31?(c=t.sv_p_name.substr(0,31)+"...",$("#s_product_name_text").text(c)):$("#s_product_name_text").text(t.sv_p_name);$("#s_product_blane_text").text(t.sv_p_barcode);$("#s_product_sv_p_remark").text(t.sv_p_remark);$("#s_product_stock_text").text(t.sv_p_storage)}})}function shareWritingLeftCashInnerHtml(n,t){var f="",r=parseFloat(n.sv_p_minunitprice)||0,e=parseFloat(n.sv_p_mindiscount)||0,o=parseFloat(n.sv_p_memberprice)||0,u=parseFloat(n.sv_p_unitprice)||0,i,h;o>0?f='<p class="nn4" style="color:red"><span class="fl">\u4f1a\u5458\u5355\u4ef7\u00a5 <text class="memberprice">'+o.toFixed(2)+"<\/text><\/span><\/p>":e>0?f=is_mindiscount_priceShow?'<p class="nn4" style="color:red;"><span class="fl">\u6700\u4f4e\u6298\u6263 <text class="mindiscount">'+(e*10).toFixed(2)+"<\/text>%<\/span><\/p>":'<p class="nn4" style="color:red; display: none;"><span class="fl">\u6700\u4f4e\u6298\u6263 <text class="mindiscount">'+(e*10).toFixed(2)+"<\/text>%<\/span><\/p>":r>0&&(f=is_mindiscount_priceShow?'<p class="nn4" style="color:red; "><span class="fl">\u6700\u4f4e\u5355\u4ef7\u00a5 <text class="minunitprice">'+r.toFixed(2)+"<\/text><\/span><\/p>":'<p class="nn4" style="color:red; display: none;"><span class="fl">\u6700\u4f4e\u5355\u4ef7\u00a5 <text class="minunitprice">'+r.toFixed(2)+"<\/text><\/span><\/p>");var a=u,c=t,l=$("#"+n.product_id).length,s=!1;n.setup&&n.setup.is_no_wholediscount&&(s=!0);l==0?(i='<li  data-sv_order_guid="'+NewGuid()+'" data-producttype_id="'+n.producttype_id+'" data-is_no_wholediscount="'+s+'" data-sv_is_newspec="'+n.sv_is_newspec+'" data-mindiscount="'+e+'" data-minunitprice="'+parseFloat(r).toFixed(2)+'" ',i+='data-sv_product_type="'+n.producttype_id+'"  data-pricingmethod="0"',i+='data-prcombinationid="'+(n.sv_is_combination||"")+'" ',i+='data-prname="'+n.sv_p_name+'" ',i+='data-prnumber="'+n.sv_p_storage+'" ',i+='data-sv_p_unit="'+(n.sv_p_unit||"")+'" ',i+='data-untprice="'+n.sv_p_unitprice+'" ',i+='data-pf_newspec="['+(n.sv_p_specs||"").replace(",",".")+']" ',i+='data-memberprice="'+parseFloat(o).toFixed(2)+'" id="'+n.product_id+'" data-pricingmethod="1" data-categoryId="'+n.productcategory_id+'" data-smallcategoryId="'+n.productsubcategory_id+'" data-url="'+loadProductImgUrl(n)+'" data-sv_p_commissiontype="'+(n.sv_p_commissiontype||0)+'" data-sv_p_commissionratio="'+(n.sv_p_commissionratio||"")+'" ',i+=' data-sv_product_integral="'+(n.sv_product_integral||"")+'" ',i+=' data-sv_p_barcode="'+(n.sv_p_barcode||"")+'" ',i+=' data-sv_p_artno="'+(n.sv_p_artno||"")+'" ',i+='><div class="naelfe">'+osd+"",i+='<\/div> <div class="naerigh"><p class="nn1">'+n.sv_p_name+"["+n.sv_p_specs+']<\/p><p class="nn2"><span class="fl">',i+=""+n.sv_p_barcode+'<\/span><span class="fr">\u6570\u91cf <text class="nump" data-cnum="0">'+c+'<\/text><\/span><\/p> <p class="nn3">',i+='<span class="fl">\u00a5<text class="jiage" data-rjia="'+parseFloat(u)+'" data-orgprice="'+parseFloat(u)+'"> ',i+=""+parseFloat(u).toFixed(2)+'<\/text><\/span><span class="fr">\u00a5 <text class="zhong" data-zhekou="1" ',i+='data-sv_p_originalprice="'+parseFloat(u).toFixed(2)+'"> ',i+=""+u+"<\/span><\/p>"+f+"<\/div> <\/li>",$("#Cashlefsit").prepend(i)):($("#"+n.product_id).find(".nump").text((parseFloat($("#"+n.product_id).find(".nump").text())+t).toFixed(2)),h=isNullOrWhiteSpace($("#"+n.product_id).find(".nump").text())?parseFloat($("#"+n.product_id).find(".nump").text()):1,jiagesss=returnFloat((parseFloat(h)*parseFloat($("#"+n.product_id).find(".jiage").text())*100).toFixed(2)/100),jiagesss=jiagesss||0,$("#"+n.product_id).find(".zhong").text(parseFloat(jiagesss).toFixed(2)),parseFloat(r)>0?$("#"+n.product_id).find(".minunitprice").text(parseFloat(r).toFixed(2)):$("#"+n.product_id).find(".minunitprice").text(""),$("#"+n.product_id).find(".memberprice").text(o));$("#queryproduct").val("");zhonger();queryProductFocus();layer.closeAll();inspectCommodityWhetherZeroStock()}function showCommonLeftProductList(n,t,i,r,u,f,e){var it,g,c,yt,y,d,ht,ct,l,nt,et,lt,at,pt,ni,ti,wt,ot,s,vt,ii;if(n){Current_operation_Settlement_product_list=[];t=parseFloat(t||0);var ut=!1,bt=!1,a=NewGuid(),ft=!1,tt=!0;e=e||"";e&&(tt=!1);u=n.sv_is_newspec?3:u||2;_g_sv_uit_cache_name=="cache_name_mobile_digital"&&(tt=!1);var st=parseFloat(u!=3?n.goodsNumber||0:n.sv_p_storage||0),p="",w="",h="",b=parseFloat(n.minunitprice||0)==0?"":parseFloat(n.minunitprice);b=parseFloat(n.sv_p_minunitprice||0)==0?b:parseFloat(n.sv_p_minunitprice);it=parseFloat(n.mindiscount||0)==0?"":parseFloat(n.mindiscount);it=parseFloat(n.sv_p_mindiscount||0)==0?it:parseFloat(n.sv_p_mindiscount);g=parseFloat(n.memberprice||0)==0?"":parseFloat(n.memberprice);g=parseFloat(n.sv_p_memberprice||0)==0?g:parseFloat(n.sv_p_memberprice);c=u!=3?parseFloat(n.org_price||0):parseFloat(n.sv_p_unitprice||0||n.org_price||0);n.prid=u==3?n.product_id:n.prid;var kt=10,v=Getnumber_Byproduct_id(n.prid,!0)+t+Getnumber_Byproduct_id(n.prid,!1),k="",o=PromotionSpecialPrice(n.prid,!1,v,!1,c);if(f==1&&(v=t),u&&u==2||u==3)if(f==1&&o)if(yt=!0,(!g_ZeroInventorySalesQ&&!is_SingleProduct_ReturnGoods&&v>st&&_g_sv_uit_cache_name!="cache_name_catering"||n.sv_product_type==1)&&(yt=n.prcombinationid&&n.prcombinationid!="0"||n.sv_product_type==1?inspectCommodityWhetherZeroStock_new(t,n.prid):!1),f==1&&($(".productInfo_"+n.prid).remove(),deletepromotion_product_pid(n.prid)),yt)if(b=0,it=0,g=0,y=0,y=$("#huiyuan_id").attr("data-id")!="0"&&$("#huiyuan_id").attr("data-id")>0?o.member_Number:o.order_Number,_g_sv_uit_cache_name=="cache_name_mobile_digital"&&n.sv_has_iemino==!0?($(".productInfo_"+n.prid+"_"+n.sv_iemi_no).remove(),deletepromotion_product_pid(n.prid+"_"+n.sv_iemi_no),deletesales_promotion_conditions_prid(n.prid+"_"+n.sv_iemi_no)):($(".productInfo_"+n.prid).remove(),deletepromotion_product_pid(n.prid),deletesales_promotion_conditions_prid(n.prid)),zhonger(),o.type==60||o.type==12){var l=parseInt(v/2),rt=v-l,nt=0;y!=0&&l>y?(nt=l-y+(rt-y),rt=y,l=y):rt>l&&(nt=rt-l,rt=l);d=Getactivity_conditions(n.prid);rt>0&&(ht=0,o.type==12&&d&&(ht=d.sales_typ,w=NewGuid(),k="  sv_mp_point="+d.sv_mp_point+" data-sv_product_sales_type="+d.sales_typ+" data-sv_mp_id="+d.sv_mp_id+" data-sv_mpd_id="+d.sv_mpd_id+" data-promotion_price="+c+" data-discount=1"),o.type==60&&d&&(w=NewGuid(),ht=d.sales_typ,k="  sv_mp_point="+d.sv_mp_point+" data-sv_product_sales_type="+d.sales_typ+" data-sv_mp_id="+d.sv_mp_id+" data-sv_mpd_id="+d.sv_mpd_id+" data-promotion_price="+c+" data-discount=1"),showCommonLeftProductList_new(n,rt,1,"",w,ht,k,tt));l>0&&(o.type==12&&(w=NewGuid(),k="  sv_mp_point="+o.sv_mp_point+" data-sv_product_sales_type="+o.type+" data-sv_mp_id="+o.sv_mp_id+" data-sv_mpd_id="+o.sv_mpd_id+" data-promotion_price="+o.price+" data-discount=1",p='<p class="nn4 promotion_data" title="'+o.name+'" style="color:#ff6666"><span class="fl"><img src="/images/cuxiao.png"> \u00a5<text class="specialprice" data-type=1>'+o.price.toFixed(2)+"<\/text><\/span><\/p>"+('<p class="nn5 promotion_data"  title="'+o.name+'" style="color:#ff6666"><span>\u00a5 <text data-features=2  data-condition=1 data-depict="'+o.depict+'"  data-number='+y+'  data-sv_mp_point="'+o.sv_mp_point+'"  data-sv_product_sales_type="'+o.sales_typ+'" data-sv_mp_id="'+o.sv_mp_id+'" data-sv_mpd_id="'+o.sv_mpd_id+'"   id="'+w+'_promotion_price" data-promotion_price="'+o.price+'" class="promotion_total">'+(o.price*l).toFixed(2)+"<\/text><\/span><\/p>")),o.type==60&&(w=NewGuid(),ct=c,kt=o.discount||10,k=" sv_mp_point="+o.sv_mp_point+" data-sv_product_sales_type="+o.type+" data-sv_mp_id="+o.sv_mp_id+" data-sv_mpd_id="+o.sv_mpd_id+" data-promotion_price="+ct+" data-discount="+kt/10+"",p='<p class="nn4 promotion_data"  title="'+o.name+'"  style="color:#ff6666"><span class="fl"><img src="/images/cuxiao.png"> <text class="specialprice" data-type=0>'+(o.discount*10).toFixed(2)+"%<\/text><\/span><\/p>"+('<p class="nn5 promotion_data" title="'+o.name+'"  style="color:#ff6666"><span>\u00a5 <text data-features=1   data-depict="'+o.depict+'" data-condition=1  data-number=0   data-sv_mp_point="'+o.sv_mp_point+'" data-sv_product_sales_type="'+o.sales_typ+'" data-sv_mp_id="'+o.sv_mp_id+'" data-sv_mpd_id="'+o.sv_mpd_id+'"  id="'+w+'_promotion_price" data-promotion_price="'+ct+'"  class="promotion_total">'+(ct*(o.discount/10)*l).toFixed(2)+"<\/text><\/span><\/p>")),showCommonLeftProductList_new(n,l,2,p,w,o.type,k,tt));nt>0&&showCommonLeftProductList_new(n,nt,3,"",NewGuid(),0,"",tt)}else o.type==10?(l=v,nt=v-l,y!=0&&y>0&y<v&&(l=y,nt=v-l),nt>0&&showCommonLeftProductList_new(n,nt,3,"",NewGuid(),0,"",tt),l>0&&(w=NewGuid(),k="sv_mp_point="+o.sv_mp_point+" data-sv_product_sales_type="+o.sales_typ+" data-sv_mp_id="+o.sv_mp_id+" data-sv_mpd_id="+o.sv_mpd_id+" data-promotion_price="+o.price+" data-discount=1",p='<p class="nn4 promotion_data" title="'+o.name+'" style="color:#ff6666"><span class="fl"><img src="/images/cuxiao.png"> \u00a5<text class="specialprice" data-type=1>'+o.price.toFixed(2)+"<\/text><\/span><\/p>",p+='<p class="nn5 promotion_data" title="'+o.name+'" style="color:#ff6666"><span>\u00a5 <text data-features=1 data-condition=-1 data-depict="'+o.depict+'"  data-number='+y+'  data-sv_mp_point="'+o.sv_mp_point+'"  data-sv_product_sales_type="'+o.sales_typ+'" data-sv_mp_id="'+o.sv_mp_id+'" data-sv_mpd_id="'+o.sv_mpd_id+'" id="'+w+'_promotion_price" data-promotion_price="'+o.price+'"  class="promotion_total">'+(o.price*l).toFixed(2)+"<\/text><\/span><\/p>",showCommonLeftProductList_new(n,l,2,p,w,o.type,k,tt))):o.type==11&&(l=v,nt=v-l,y!=0&&y>0&y<v&&(l=y,nt=v-l),nt>0&&showCommonLeftProductList_new(n,nt,3,"",NewGuid(),0,"",tt),l>0&&o.condition<=l?(w=NewGuid(),k="sv_mp_point="+o.sv_mp_point+" data-sv_product_sales_type="+o.sales_typ+" data-sv_mp_id="+o.sv_mp_id+" data-sv_mpd_id="+o.sv_mpd_id+" data-promotion_price="+o.price+" data-discount=1",p='<p class="nn4 promotion_data" title="'+o.name+'" style="color:#ff6666"><span class="fl"><img src="/images/cuxiao.png"> \u00a5<text class="specialprice" data-type=1>'+o.price.toFixed(2)+"<\/text><\/span><\/p>",p+='<p class="nn5 promotion_data" title="'+o.name+'" style="color:#ff6666"><span>\u00a5 <text data-features=1 data-condition=-1 data-depict="'+o.depict+'"  data-number='+y+'  data-sv_mp_point="'+o.sv_mp_point+'"  data-sv_product_sales_type="'+o.sales_typ+'" data-sv_mp_id="'+o.sv_mp_id+'" data-sv_mpd_id="'+o.sv_mpd_id+'" id="'+w+'_promotion_price" data-promotion_price="'+o.price+'"  class="promotion_total">'+(o.price*l).toFixed(2)+"<\/text><\/span><\/p>",showCommonLeftProductList_new(n,l,2,p,w,o.type,k,tt)):v<o.condition&&o.condition>l&&showCommonLeftProductList_new(n,v,3,"",NewGuid(),0,"",tt));else layer.msg("\u8be5\u5546\u54c1\u5e93\u5b58\u4e0d\u8db3");else{if(isexistencesettlement_product_list(n.prid)||settlement_product_list.push({info:n,pid:n.prid}),i&&i>=0&&(c=i),g>0?p='<p class="nn4" style="color:red"><span class="fl">\u4f1a\u5458\u5355\u4ef7\u00a5 <text class="memberprice">'+g.toFixed(2)+"<\/text><\/span><\/p>":it>0?p=is_mindiscount_priceShow?'<p class="nn4" style="color:red; "><span class="fl">\u6700\u4f4e\u6298\u6263 <text class="mindiscount">'+(it*10).toFixed(2)+"<\/text>%<\/span><\/p>":'<p class="nn4" style="color:red; display: none;"><span class="fl">\u6700\u4f4e\u6298\u6263 <text class="mindiscount">'+(it*10).toFixed(2)+"<\/text>%<\/span><\/p>":b>0&&(p=is_mindiscount_priceShow?'<p class="nn4" style="color:red; "><span class="fl">\u6700\u4f4e\u5355\u4ef7\u00a5 <text class="minunitprice">'+b.toFixed(2)+"<\/text><\/span><\/p>":'<p class="nn4" style="color:red; display: none;"><span class="fl">\u6700\u4f4e\u5355\u4ef7\u00a5 <text class="minunitprice">'+b.toFixed(2)+"<\/text><\/span><\/p>"),et="",n.sv_product_integral!=null&&n.sv_product_integral>=0&&(et=n.sv_product_integral),_g_sv_uit_cache_name=="cache_name_catering"||_g_sv_uit_cache_name=="cache_name_cosmetology"||_g_sv_uit_cache_name=="cache_name_massage_regimen"){if($("#Cashlefsit li").removeClass("active"),Current_operation_Settlement_product_list&&Current_operation_Settlement_product_list.length>0&&v==t)for(Current_operation_Settlement_product_list=Current_operation_Settlement_product_list.reverse(),lt=0;lt<Current_operation_Settlement_product_list.length;lt++)at=Current_operation_Settlement_product_list[lt].number,at>0&&(a=NewGuid(),sales_promotion_conditions.push({id:n.prid,gid:a,number:v,is_promotion:ft}),promotion_product_guid.push({id:a,pid:n.prid,is_promotion:ft,type:0}),h+="<li   "+k+' class="'+a+"   productInfo_"+n.prid+'"  data-sv_order_guid="'+a+'"  data-is_no_wholediscount="'+n.is_no_wholediscount+'" class="active" data-mindiscount="'+it+'" data-minunitprice="'+b+'"  data-producttype_id="'+n.producttype_id+'" ',h+='data-sv_product_type="'+n.sv_product_type+'"  data-prnumber="'+st+' "',h+='data-memberprice="'+g+'" id="'+n.prid+'" data-pricingmethod="'+n.pricingmethod+' " ',h+='data-prname="'+n.name+'" data-untprice="'+c+'" ',h+='data-categoryId="'+n.categoryId+'" data-url ="'+n.url+'" data-packprice="'+n.packprice+'" data-smallcategoryId="'+n.smallcategoryId+'" ',h+='data-printerip="'+(n.printerip||"")+'" data-printerport="'+(n.printerport||"")+'" ',h+='data-sv_p_commissiontype="'+n.sv_p_commissiontype+'" data-sv_p_commissionratio="'+(n.sv_p_commissionratio||"")+'" data-spec="'+(n.spec||"")+'" data-sv_product_integral="'+et+'" data-sv_p_barcode="'+(n.sv_p_barcode||"")+'" data-sv_p_artno="'+(n.sv_p_artno||"")+'" >',h+='<div class="cateringProductNamebox"><p class="cateringProductName">'+n.name+"<\/p><\/div>",h+='<div class="cateringProductNumberbox">',h+='<button class="btn catering_minus"><i class="icon-minus-sign"><\/i><\/button><span class="cateringProductNumber nump">'+at+"<\/span>",h+='<button class="btn catering_plus"><i class="icon-plus-sign"><\/i><\/button><\/div>',h+='<div class="cateringProductpricebox"><span class="cateringProductprice"><i>\u00a5<\/i><i class="zhong" data-sv_p_originalprice="'+n.sv_p_originalprice+'">'+(c*at).toFixed(2)+"<\/i><\/span><\/div>",h+='<text style="display:none;" class="jiage" data-rjia="'+c+'" data-orgprice="'+parseFloat(c)+'"> '+c+"<\/text>",h+='<div class="cateringProductMoreinfo catering_taste_list"><\/div>',h+='<div class="cateringProductMoreinfo catering_taste_remarks"><\/div>',h+='<div class="cateringProductMoreinfo naerigh_new" id="'+a+'_promotion"" >'+p+"<\/div>",h+="<\/li>");else Current_operation_Settlement_product_list.push({number:t,is_promotion:!1,type:0}),sales_promotion_conditions.push({id:n.prid,gid:a,number:v,is_promotion:ft}),promotion_product_guid.push({id:a,pid:n.prid,is_promotion:ft,type:0}),h+="<li   "+k+' class="'+a+"   productInfo_"+n.prid+'"  data-sv_order_guid="'+a+'"  data-is_no_wholediscount="'+n.is_no_wholediscount+'" class="active" data-mindiscount="'+it+'" data-minunitprice="'+b+'"  data-producttype_id="'+n.producttype_id+'" ',h+='data-sv_product_type="'+n.sv_product_type+'"  data-prnumber="'+st+' "',h+='data-memberprice="'+g+'" id="'+n.prid+'" data-pricingmethod="'+n.pricingmethod+' " ',h+='data-prname="'+n.name+'" data-untprice="'+c+'" ',h+='data-categoryId="'+n.categoryId+'" data-url ="'+n.url+'" data-packprice="'+n.packprice+'" data-smallcategoryId="'+n.smallcategoryId+'" ',h+='data-printerip="'+(n.printerip||"")+'" data-printerport="'+(n.printerport||"")+'" ',h+='data-sv_p_commissiontype="'+n.sv_p_commissiontype+'" data-sv_p_commissionratio="'+(n.sv_p_commissionratio||"")+'" data-spec="'+(n.spec||"")+'"  data-sv_product_integral="'+et+'" data-sv_p_barcode="'+(n.sv_p_barcode||"")+'" data-sv_p_artno="'+(n.sv_p_artno||"")+'">',h+='<div class="cateringProductNamebox"><p class="cateringProductName">'+n.name+"<\/p><\/div>",h+='<div class="cateringProductNumberbox">',h+='<button class="btn catering_minus"><i class="icon-minus-sign"><\/i><\/button><span class="cateringProductNumber nump">'+t+"<\/span>",h+='<button class="btn catering_plus"><i class="icon-plus-sign"><\/i><\/button><\/div>',h+='<div class="cateringProductpricebox"><span class="cateringProductprice"><i>\u00a5<\/i><i class="zhong" data-sv_p_originalprice="'+n.sv_p_originalprice+'">'+(c*t).toFixed(2)+"<\/i><\/span><\/div>",h+='<text style="display:none;" class="jiage" data-rjia="'+c+'" data-orgprice="'+parseFloat(c)+'"> '+c+"<\/text>",h+='<div class="cateringProductMoreinfo catering_taste_list"><\/div>',h+='<div class="cateringProductMoreinfo catering_taste_remarks"><\/div>',h+='<div class="cateringProductMoreinfo naerigh_new" id="'+a+'_promotion"" >'+p+"<\/div>",h+="<\/li>";$("#Cashlefsit").prepend(h)}else if(u==3){var ui=c,dt=t,ri=$("#"+n.product_id).length,gt=!1;n.setup&&n.setup.is_no_wholediscount&&(gt=!0);ri==0||ut||bt?(sales_promotion_conditions.push({id:n.prid,gid:a,number:v,is_promotion:!1}),promotion_product_guid.push({id:a,pid:n.prid,is_promotion:ft,type:0}),s="<li   "+k+'" class="'+a+"  productInfo_"+n.prid+'""  data-sv_order_guid="'+a+'" data-is_no_wholediscount="'+gt+'" data-sv_is_newspec="'+n.sv_is_newspec+'" data-mindiscount="'+it+'" data-minunitprice="'+parseFloat(b).toFixed(2)+'" ',s+='data-sv_product_type="'+n.producttype_id+'"  data-pricingmethod="0"   data-producttype_id="'+n.producttype_id+'"',s+='data-prcombinationid="'+(n.sv_is_combination||"")+'" ',s+='data-prname="'+n.sv_p_name+'" ',s+='data-prnumber="'+n.sv_p_storage+'" ',s+='data-sv_p_unit="'+(n.sv_p_unit||"")+'" ',s+='data-untprice="'+n.sv_p_unitprice+'" ',s+='data-pf_newspec="['+(n.sv_p_specs||"").replace(",",".")+']" ',s+='data-memberprice="'+parseFloat(g).toFixed(2)+'" id="'+n.product_id+'" data-pricingmethod="1" data-categoryId="'+n.productcategory_id+'" data-smallcategoryId="'+n.productsubcategory_id+'" data-url="'+loadProductImgUrl(n)+'" data-sv_p_commissiontype="'+(n.sv_p_commissiontype||0)+'" data-sv_p_commissionratio="'+(n.sv_p_commissionratio||"")+'" ',s+=' data-sv_product_integral="'+et+'" ',s+=' data-sv_p_barcode="'+(n.sv_p_barcode||"")+'" ',s+=' data-sv_p_artno="'+(n.sv_p_artno||"")+'" ',s+='><div class="naelfe">'+osd+"",s+='<\/div> <div class="naerigh"><p class="nn1">'+n.sv_p_name+"["+n.sv_p_specs+']<\/p><p class="nn2"><span class="fl">',s+=""+n.sv_p_barcode+'<\/span><span class="fr">\u6570\u91cf <text class="nump" data-cnum="0">'+dt+'<\/text><\/span><\/p> <p class="nn3">',s+='<span class="fl">\u00a5<text class="jiage" data-rjia="'+parseFloat(c)+'" data-orgprice="'+parseFloat(c)+'"> ',s+=""+parseFloat(c).toFixed(2)+'<\/text><\/span><span class="fr">\u00a5 <text class="zhong" data-zhekou="1" ',s+='data-sv_p_originalprice="'+parseFloat(c).toFixed(2)+'"> ',s+=""+parseFloat(c*dt).toFixed(2)+'<\/span><\/p><div  class="cateringProductMoreinfo naerigh_new" id="'+a+'_promotion"" >'+p+"<\/div><\/div> <\/li>",$("#Cashlefsit").prepend(s)):($("#"+n.prid).find(".nump").text((parseFloat($("#"+n.prid).find(".nump").text())+t).toFixed(2)),vt=isNullOrWhiteSpace($("#"+n.prid).find(".nump").text())?parseFloat($("#"+n.prid).find(".nump").text()):1,jiagesss=returnFloat((parseFloat(vt)*parseFloat($("#"+n.prid).find(".jiage").text())*100).toFixed(2)/100),$("#"+n.prid).find(".zhong").text(jiagesss),parseFloat(b)>0?$("#"+n.prid).find(".minunitprice").text(b.toFixed(2)):$("#"+n.prid).find(".minunitprice").text(""),$("#"+n.prid).find(".memberprice").text(g))}else ut=!1,pt="",$("#"+n.prid)&&$("#"+n.prid).data("salesmode")=="0"&&(ni=isNullOrWhiteSpace($("#"+n.prid).find(".nump").text())?parseFloat($("#"+n.prid).find(".nump").text()):1,ti=isNullOrWhiteSpace($("#"+n.prid).find(".nump").attr("data-cnum"))?parseFloat($("#"+n.prid).find(".nump").attr("data-cnum")):1,ni>=ti&&(ut=!0)),_g_sv_uit_cache_name=="cache_name_mobile_digital"&&n.sv_has_iemino==!0?(pt="_"+n.sv_iemi_no,ut=!0):_g_sv_uit_cache_name=="cache_name_mobile_digital"&&$("#"+n.prid).length>0&&$("#"+n.prid).attr("data-sv_has_iemino")==!0&&$("#"+n.prid).attr("data-sv_iemi_no")&&(ut=!0),r==1||$("#"+n.prid).length==0||ut||bt?(wt=n.name||"",ot=n.spec||"",ot&&(ot="("+(ot+"").replace(/,/g,".")+")",wt+=ot),sales_promotion_conditions.push({id:n.prid,gid:a,number:v,is_promotion:!1}),promotion_product_guid.push({id:a,pid:n.prid,is_promotion:ft,type:0}),s="<li  "+k+'"  class="'+a+"   productInfo_"+n.prid+pt+'""   data-sv_order_guid="'+a+'" data-is_no_wholediscount="'+n.is_no_wholediscount+'" data-sv_is_monthly_performance="'+n.sv_is_monthly_performance+'" data-project_config_value="'+n.project_config_value+'" data-project_config_type="'+n.project_config_type+'" data-producttype_id="'+n.producttype_id+'" data-mindiscount="'+it+'" ',s+='data-sv_p_unit="'+(n.sv_p_unit||"")+'" data-prnumber="'+st+' "',s+='data-minunitprice="'+parseFloat(b).toFixed(2)+'" ',s+='data-pricingmethod="'+n.pricingmethod+'" data-categoryId="'+n.categoryId+'" data-url ="'+n.url+'" data-smallcategoryId ="'+n.smallcategoryId+'" ',s+='data-sv_product_type="'+n.sv_product_type+'" data-prcombinationid="'+n.prcombinationid+'"  data-pricingmethod="'+n.pricingmethod+'"  data-prname="'+n.name+'"data-prnumber="'+n.goodsNumber+' " data-untprice="'+c+'" ',s+='data-memberprice="'+parseFloat(g).toFixed(2)+'" id="'+n.prid+'" ',s+=' data-sv_p_commissiontype="'+n.sv_p_commissiontype+'" data-sv_p_commissionratio="'+(n.sv_p_commissionratio||"")+'" data-sv_product_integral="'+et+'" data-spec="'+ot+'" ',s+=' data-sv_has_iemino="'+n.sv_has_iemino+'" data-sv_iemi_no="'+(n.sv_iemi_no||"")+'" ',s+=' data-sv_p_barcode="'+(n.sv_p_barcode||"")+'" ',s+=' data-sv_p_artno="'+(n.sv_p_artno||"")+'" ',s+='><div class="naelfe">'+osd+"",s+='<\/div><div class="naerigh"><p class="nn1"><span>'+wt+"<\/span>",_g_sv_uit_cache_name=="cache_name_mobile_digital"&&(s+=n.sv_iemi_no!=""?"<span>\u3010"+n.sv_iemi_no+"\u3011<\/span>":"<span>\u3010\u65e0\u4e32\u53f7\u3011<\/span>"),s+="",s+='<\/p><p class="nn2"><span class="fl">',s+=""+n.id+'<\/span><span class="fr">\u6570\u91cf <text class="nump" data-cnum="0">'+t+'<\/text><\/span><\/p> <p class="nn3">',s+='<span class="fl">\u00a5<text class="jiage" data-rjia="'+c+'" data-orgprice="'+parseFloat(c)+'"> ',s+=""+parseFloat(c).toFixed(2)+'<\/text><\/span><span class="fr">\u00a5 <text class="zhong" data-zhekou="1" ',s+='data-sv_p_originalprice="'+n.sv_p_originalprice+'"> ',s+=""+(c*t).toFixed(2)+'<\/span><\/p><div  class="cateringProductMoreinfo naerigh_new" id="'+a+'_promotion"" >'+p+"<\/div><\/div><\/li>",$("#Cashlefsit").prepend(s)):($("#"+n.prid).find(".nump").text((parseFloat($("#"+n.prid).find(".nump").text())+t).toFixed(2)),vt=isNullOrWhiteSpace($("#"+n.prid).find(".nump").text())?parseFloat($("#"+n.prid).find(".nump").text()):1,jiagesss=returnFloat((parseFloat(vt)*parseFloat($("#"+n.prid).find(".jiage").text())*100).toFixed(2)/100),$("#"+n.prid).find(".zhong").text(jiagesss),parseFloat(b)>0?$("#"+n.prid).find(".minunitprice").text(b.toFixed(2)):$("#"+n.prid).find(".minunitprice").text(""),$("#"+n.prid).find(".memberprice").text(g));isShowWindow=!1;tt&&layer.closeAll();$("#Cashlefsit > li").removeClass("active");$("."+a).addClass("active");$("#queryproduct").val("");zhonger();queryProductFocus();ii=n.producttype_id;ii!=1&&inspectCommodityWhetherZeroStock()}}}function loadProductImgUrl(n){var t,i="/images/omg1.jpg",r;if(n.sv_p_images!=null&&n.sv_p_images!="{}"&&n.sv_p_images!="[]")try{t=$.parseJSON(n.sv_p_images);t[0].code.indexOf("[{")>=0&&t[0].code.indexOf("}]")>0?(r=$.parseJSON(t[0].code),r!=null&&r[0].code!="[]"&&t[0].code.indexOf("//")<0&&(i=r[0].code)):t[0].code.indexOf("[{")<0&&t[0].code!=""&&t[0].code!=null&&t[0].code.indexOf("//")<0&&(i=t[0].code=="[]"||t[0].code=="default"?"/images/omg1.jpg":t[0].code)}catch(u){i="/images/omg1.jpg"}return isNullOrWhiteSpace(i)||(i="/images/omg1.jpg"),i}function GetProductList(n,t,i,r,u,f){var o=Math.round((new Date).getTime()),s;if(!(_g_last_timestamp>0)||!(o-500<_g_last_timestamp)){_g_last_timestamp=o;$("#productlist").html("");var e="";if(_g_sv_uit_cache_name=="cache_name_clothing_and_shoes"?e=f:f&&f.length==13&&!isNaN(f)&&(e=f.substring(2,7),_g_fast_query_isn=f),s=" ",(typeof cash_get_product_number=="undefined"||cash_get_product_number==0)&&(cash_get_product_number=42),_g_sv_uit_cache_name=="cache_name_mobile_digital"&&f&&$("#Cashlefsit li[data-sv_iemi_no='"+f+"']").length>0)return layer.msg("\u5df2\u6dfb\u52a0\u4e32\u53f7\u3010"+f+"\u3011\u5546\u54c1"),!1;$.ajax({url:"/AjaxProduct/GetSalesProductList?producttype_id=-1",data:{status:"0",category:u,storage:r,adddate:"0",name:f,pageIndex:Math.ceil(160/cash_get_product_number),pageSize:cash_get_product_number||42,tianshu:-1,isn:e,is_mp:!0},dataType:"json",async:!0,cache:!0,success:function(n){var t=n.list;if(_g_productList_data=t,t.length>0)CommonGetProduct(t,f);else{layer.msg("\u627e\u4e0d\u5230\u76f8\u5173\u4ea7\u54c1");return}}})}}function upCommonGetProductImg(n){if(n>=0&&_g_productList_data[n])for(var t=0;t<_g_productList_data[n].length;t++)$("#img_"+_g_productList_data[n][t].product_id+"_pimg").attr("src",_g_res_images_url+loadProductImgUrl(_g_productList_data[n][t]))}function CommonGetProduct(n,t){for(var r,y,f,o,h,b,w,e,u,i=0;i<n.length;i++){for(html=' <li class="swiper-slide productlistboxaaa">',multipleproductnumber=n[i].length,r=0;r<n[i].length;r++){if(multipleproductnumber==1&&n[i][r]&&n[i][r].sv_iemi_status==1){layer.msg("\u8be5\u4e32\u53f7\u5546\u54c1\u88ab\u6302\u5355\u9501\u5b9a\uff0c\u8bf7\u53d6\u5355\u7ed3\u7b97\u6216\u8005\u5220\u9664\u6302\u5355\u540e\u91cd\u8bd5\uff01");return}n[i][r].mp_list&&(promotionConfig_data&&promotionConfig_data.length>0&&deleteCheckedpromotionConfig_data(n[i][r].product_id),promotionConfig_data.push({id:n[i][r].product_id,mpconfg:JSON.parse(n[i][r].mp_list)}));y="";y=n[i][r].sv_product_integral===null?"":n[i][r].sv_product_integral>=0?n[i][r].sv_product_integral:"";e=!1;n[i][r].setup&&n[i][r].setup.is_no_wholediscount&&(e=!0);html+='<div data-is_no_wholediscount="'+e+'" data-sv_is_monthly_performance="'+n[i][r].setup.sv_is_monthly_performance+'" data-project_config_value="'+n[i][r].setup.project_config_value+'" data-project_config_type="'+n[i][r].setup.project_config_type+'" data-sv_spec_masterid="'+n[i][r].sv_spec_masterid+'" data-sv_is_newspec="'+n[i][r].sv_is_newspec+'" data-producttype_id="'+n[i][r].producttype_id+'" data-mindiscount="'+n[i][r].sv_p_mindiscount+'" data-minunitprice="'+n[i][r].sv_p_minunitprice+'" ';html+='data-memberprice="'+n[i][r].sv_p_memberprice+'" class="textlistbox" data-id="'+n[i][r].sv_p_barcode+'"  ';html+='data-prid="'+n[i][r].product_id+'" data-pricingmethod="'+n[i][r].sv_pricing_method+'" ';html+='data-prcombinationid="'+n[i][r].sv_is_combination+'" ';html+=' data-sv_p_unit="'+n[i][r].sv_p_unit+'" ';html+=' data-sv_product_type="'+n[i][r].sv_product_type+'" ';html+=' data-packprice="'+n[i][r].sv_packing_charges+'" data-printerip="'+(n[i][r].sv_printer_ip||"")+'" data-printerport="'+(n[i][r].sv_printer_port||"")+'" ';html+=' data-categoryId="'+n[i][r].productcategory_id+'" data-url="'+loadProductImgUrl(n[i][r])+'" data-smallcategoryId="'+n[i][r].productsubcategory_id+'" ';html+=' data-sv_p_commissiontype="'+(n[i][r].sv_p_commissiontype||0)+'" data-sv_p_commissionratio="'+(n[i][r].sv_p_commissionratio||"")+'" data-sv_product_integral="'+y+'" ';html+=' data-sv_has_iemino="'+n[i][r].sv_has_iemino+'" data-sv_iemi_no="'+(n[i][r].sv_iemi_no||"")+'" ';html+=' data-sv_p_barcode="'+n[i][r].sv_p_barcode+'" ';html+=' data-sv_p_artno="'+n[i][r].sv_p_artno+'" ';html+=">";html+='<input type="hidden" class="SelectAreaGoodsId" value="'+n[i][r].product_id+'">';html+='<a href="javascript:void(0);">';html+=' <div class="teimg">';g_IsNotImage?html+='<\/div><div class="teitext" style="padding-left:10px;">':(html+='<img id="img_'+n[i][r].product_id+'_pimg" src="" onerror="this.src=\'/images/omg1.jpg\';" >',html+='<\/div><div class="teitext">');f=n[i][r].sv_p_name;f!=null&&f!=""&&f!=undefined?f.length>0&&(f=n[i][r].sv_p_name):f="";html+='<p class="productpicename"><span class="name">'+f+"<\/span><\/p>";MultiSpecification?(n[i][r].sv_p_specs&&n[i][r].sv_p_specs!="null"||(n[i][r].sv_p_specs=""),html+='<div class="spec">'+n[i][r].sv_p_specs+"<\/div>",html+='<div class="productpice productpice2">\u00a5<span class="jiage" data-sv_p_originalprice="'+n[i][r].sv_p_originalprice+'">'+returnFloat(n[i][r].sv_p_unitprice)+"<\/span>\u5143",stockClass="stockbottom10"):(html+='<div class="productpice productpice1">\u00a5<span class="jiage" data-sv_p_originalprice="'+n[i][r].sv_p_originalprice+'">'+returnFloat(n[i][r].sv_p_unitprice)+"<\/span>\u5143",stockClass="stockbottom0");_g_sv_uit_cache_name!="cache_name_catering"&&(html+='<div class="producttotal fr '+stockClass+'" style="">',o=n[i][r].sv_p_storage||0,h=n[i][r].sv_p_storage||0,n[i][r].sv_pricing_method==1&&(o=n[i][r].sv_p_total_weight,h=n[i][r].sv_p_total_weight),o>99?(o="99+",html+='<input type="hidden" class="goodsNumber" value="'+h+'"> <i class="producttotaltype">\u5e93<\/i>'):html+=o<0?' <input type="hidden" class="goodsNumber" value="'+h+'">  <i class="producttotaltype active">\u5e93<\/i>':' <input type="hidden" class="goodsNumber" value="'+h+'">  <i class="producttotaltype">\u5e93<\/i>',html+='<span class="sv_p_storage">'+o+"<\/span><\/div>");html+="<\/div><\/div><\/a><\/div> "}if(html+=" <\/li>",$("#productlist").append(html),b=$(".teimg img").width(),$(".teimg img").height(b),t!=""&&n.length==1&&multipleproductnumber==1)if(_g_fast_query_isn&&n[0][0]&&_g_fast_query_isn.substring(2,7)==n[0][0].sv_p_artno&&$("#productlist.swiper-wrapper li").eq(0).children(".textlistbox[data-id='"+t+"']").length==0){var c="",l=parseFloat(n[0][0].sv_p_minunitprice)||0,a=parseFloat(n[0][0].sv_p_mindiscount)||0,p=parseFloat(n[0][0].sv_p_memberprice)||0,s=parseFloat(n[0][0].sv_p_unitprice)||0,v=(parseFloat(_g_fast_query_isn.substring(7,12))||0)/100;(user_id||"")=="45518605"&&(v=(parseFloat(_g_fast_query_isn.substring(7,12))||0)/10);w=0;s>0&&(w=parseFloat(v/s).toFixed(2)||0);p>0?c='<p class="nn4" style="color:red"><span class="fl">\u4f1a\u5458\u5355\u4ef7\u00a5 <text class="memberprice">'+p.toFixed(2)+"<\/text><\/span><\/p>":a>0?c=is_mindiscount_priceShow?'<p class="nn4" style="color:red; "><span class="fl">\u6700\u4f4e\u6298\u6263 <text class="mindiscount">'+(a*10).toFixed(2)+"<\/text>%<\/span><\/p>":'<p class="nn4" style="color:red; display: none;"><span class="fl">\u6700\u4f4e\u6298\u6263 <text class="mindiscount">'+(a*10).toFixed(2)+"<\/text>%<\/span><\/p>":l>0&&(c=is_mindiscount_priceShow?'<p class="nn4" style="color:red; "><span class="fl">\u6700\u4f4e\u5355\u4ef7\u00a5 <text class="minunitprice">'+l.toFixed(2)+"<\/text><\/span><\/p>":'<p class="nn4" style="color:red; display: none;"><span class="fl">\u6700\u4f4e\u5355\u4ef7\u00a5 <text class="minunitprice">'+l.toFixed(2)+"<\/text><\/span><\/p>");v>0&&(e=!1,n[0][0].setup&&n[0][0].setup.is_no_wholediscount&&(e=!0),($("#"+n[0][0].product_id).length==0||!0)&&(u='<li data-sv_order_guid="'+NewGuid()+'" data-producttype_id="'+n[0][0].setup.producttype_id+'"  data-is_no_wholediscount="'+e+'" data-sv_is_monthly_performance="'+n[0][0].setup.sv_is_monthly_performance+'" data-project_config_value="'+n[0][0].setup.project_config_value+'" data-project_config_type="'+n[0][0].setup.project_config_type+'" data-mindiscount="'+a+'" data-minunitprice="'+parseFloat(l).toFixed(2)+'" ',u+='data-sv_product_type="'+n[0][0].sv_product_type+'" ',u+='data-prcombinationid="'+n[0][0].prcombinationid+'" ',u+='data-prname="'+n[0][0].sv_p_name+'" ',u+='data-prnumber="'+(n[0][0].sv_pricing_method==0?n[0][0].sv_p_storage:n[0][0].sv_p_total_weight)+'" ',u+='data-untprice="'+n[0][0].sv_p_unitprice+'" ',u+='data-memberprice="'+parseFloat(p).toFixed(2)+'" id="'+n[0][0].product_id+'" data-pricingmethod="'+n[0][0].sv_pricing_method+'" data-categoryId="'+n[0][0].productcategory_id+'" data-smallcategoryId="'+n[0][0].productsubcategory_id+'" data-url="'+loadProductImgUrl(n[0][0])+'" data-sv_p_commissiontype="'+(n[0][0].sv_p_commissiontype||0)+'" data-sv_p_commissionratio="'+(n[0][0].sv_p_commissionratio||"")+'" data-sv_product_integral="'+(n[0][0].sv_product_integral||"")+'"><div class="naelfe">'+osd+"",u+='<\/div> <div class="naerigh"><p class="nn1">'+n[0][0].sv_p_name+'<\/p><p class="nn2"><span class="fl">',u+=""+n[0][0].product_id+'<\/span><span class="fr">\u6570\u91cf <text class="nump" data-cnum="0">'+w+'<\/text><\/span><\/p> <p class="nn3">',u+='<span class="fl">\u00a5<text class="jiage" data-rjia="'+parseFloat(s)+'" data-orgprice="'+parseFloat(s)+'"> ',u+=""+parseFloat(s).toFixed(2)+'<\/text><\/span><span class="fr">\u00a5 <text class="zhong" data-zhekou="1" ',u+='data-sv_p_originalprice="'+parseFloat(s).toFixed(2)+'"> ',u+=""+v+"<\/span><\/p>"+c+"<\/div> <\/li>",$("#Cashlefsit").prepend(u),inspectCommodityWhetherZeroStock()),$("#queryproduct").val(""),zhonger(),queryProductFocus())}else _g_sv_uit_cache_name=="cache_name_clothing_and_shoes"&&t==n[0][0].sv_p_artno&&$("#productlist.swiper-wrapper li").eq(0).children(".textlistbox[data-id='"+t+"']").length==0?shareWritingLeftCashInnerHtml(n[0][0],1):$("#productlist.swiper-wrapper li").eq(0).children(".textlistbox").click();_key_input_time_flag=!0;mySwiper.updateSlidesSize();mySwiper.slideTo(0)}setTimeout(function(){upCommonGetProductImg(0)},500)}function returnFloat(n){var n=Math.round(parseFloat(n)*100)/100,t=n.toString().split(".");return t.length==1?n.toString()+".00":t.length>1?(t[1].length<2&&(n=n.toString()+"0"),n):void 0}function clearNoNum(n,t){n!=null&&n.value!=null&&(n.value=n.value.replace(/[^\d.]/g,""),n.value=n.value.replace(/^\./g,""),n.value=n.value.replace(/\.{2,}/g,"."),n.value=n.value.replace(".","$#$").replace(/\./g,"").replace("$#$","."),n.value=n.value.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),CalculateGiving_topup(t))}function clearNoNumSinglePage(n,t,i){n!=null&&n.value!=null&&(n.value=n.value.replace(/[^\d.]/g,""),n.value=n.value.replace(/^\./g,""),n.value=n.value.replace(/\.{2,}/g,"."),n.value=n.value.replace(".","$#$").replace(/\./g,"").replace("$#$","."),n.value=n.value.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),CalculateGiving_topupSinglePage(t,i))}function verifyenable(n){$.ajax({url:"/System/VerifyEnable?name="+n+"&userid="+$("#userid").val(),dataType:"json",async:!0,success:function(n){if(n==1)return jiesuan($("#xianjinname").text()),!1;if(n==2)return layer.msg("\u4f1a\u5458\u4fe1\u606f\u9519\u8bef\uff01"),!1;n==3&&Deke.DeKe_dialog.show_Url2("\u8bf7\u8f93\u5165\u4f1a\u5458\u5bc6\u7801","/html/cash/huiyuanpwd.html?v=489498498",baochuuserpwd,["","230px"])}})}function baochuuserpwd(){$("#member_id").val($("#huiyuan_id").attr("data-id"));$("#sv_mr_pwd").focus();$("#baochuuser").click(function(){$.post("/System/VerifyEnable",{name:$("#member_id").val(),valu:$("#sv_mr_pwd").val(),userid:$("#userid").val()},function(n){if(n==1)return jiesuan($("#xianjinname").text()),layer.close(index),!1;n==4&&(layer.msg("\u4f1a\u5458\u5bc6\u7801\u8f93\u5165\u6709\u8bef"),$("#sv_mr_pwd").val(""))})});$("#sv_mr_pwd").keypress(function(n){if(n.which==13){var t=$("#sv_mr_pwd").val();isNullOrWhiteSpace(t)?$.post("/System/VerifyEnable",{name:$("#member_id").val(),valu:$("#sv_mr_pwd").val(),userid:$("#userid").val()},function(n){if(n==1)return jiesuan($("#xianjinname").text(),1),layer.close(index),!1;n==4&&layer.msg("\u4f1a\u5458\u5bc6\u7801\u8f93\u5165\u6709\u8bef\uff01")}):layer.msg("\u8bf7\u8f93\u5165\u4f1a\u5458\u5bc6\u7801\uff01")}})}function orderlistJson(){GetEmployessid();productlist="";productlist+="[";$("#Cashlefsit > li").each(function(){var n=0,t=0,o=0,i=$("#huiyuan_id").attr("data-id"),r,e;if(parseFloat(_member_discount)!=1&&$(this).attr("id")>0){if(r=$(this).find(".nump").text(),n=parseFloat(_member_discount)/100,o=n,t=parseFloat($(this).find(".jiage").text()),i!=null&&i!=""&&i!="0"&&i!=undefined){var u=parseFloat($(this).data("minunitprice")),s=parseFloat(u*r),f=parseFloat($(this).data("mindiscount"))/10;origtotalprice=parseFloat(t*r*n);e=parseFloat($(this).data("memberprice"));e>0?(t=e,n=1):f>0&&n<f?n=f:u>0&&origtotalprice<s&&(t=u,n=1);t=parseFloat(t*n)}}else t=$(this).attr("id")==0&&parseFloat(_member_discount)!=1?parseFloat($(this).find(".jiage").text()*(parseFloat(_member_discount)/100)):parseFloat($(this).find(".jiage").text());productlist+='{"product_id":'+$(this).attr("id")+',"product_name":"'+replaceStr($(this).find(".nn1").text(),"''")+'","product_num":'+$(this).find(".nump").text()+',"product_unitprice":'+t+',"product_discount":'+n+',"product_total":'+t*parseFloat($(this).find(".nump").text())+',"product_pleased":'+$(this).find(".zhong").data("sv_p_originalprice")+',"type":'+$(this).hasClass("product_type")+',"cnum":'+$(this).find(".nump").data("cnum")+',"product_orig_discount":'+o+', "sv_commissionemployes":"'+StrEmployeelId+'","sv_pricing_method":'+$(this).attr("data-pricingmethod")+',"sv_p_commissiontype":"'+($(this).attr("data-sv_p_commissiontype")||0)+'","sv_p_commissionratio":"'+($(this).attr("data-sv_p_commissionratio")||"")+'" ,"sv_product_integral":"'+($(this).attr("data-sv_product_integral")||"")+'"},'});productlist=productlist.substring(0,productlist.length-1);productlist+="]";productlist=JSON.parse(productlist)}function replaceStr(n,t){return isNullOrWhiteSpace(n)&&n.indexOf("'")>-1?n.replace(/'/ig,t):n}function commondCleanCateringGrade(n){$("#catering_CateringGrade").text("").attr("data-tableId",0).attr("data-withListId",0).attr("data-personNum",0).attr("data-together",!1).attr("data-addFood",!1);productlistJsonList=[];n?closeCateringFunc(n):closeCateringFunc(-1)}function setCateringGradeInfo(n,t,i,r,u,f){$("#catering_CateringGrade").text(n).attr("data-tableId",t).attr("data-withListId",i).attr("data-personNum",r).attr("data-together",u).attr("data-addFood",f)}function jiesuan(n,t){var w,b,v,h,c,d,i,y,nt,p;if(single_discount_amount_Remarks){layer.msg(single_discount_amount_Remarks);return}if((_g_sv_uit_cache_name!="cache_name_cosmetology"&&_g_sv_uit_cache_name!="cache_name_massage_regimen"&&_g_sv_uit_cache_name!="cache_name_maternal_supplies"&&_g_sv_uit_cache_name!="cache_name_auto_beauty"||(w=commissionPerformance.productPercentageModel(),collectSwitch))&&(GetEmployessid(),b=$("#ischongzhuWindows").val(),!b)){$("#shezhang").attr("class").indexOf("active")!=-1&&($(".paywaylist").find(".selectpaytype.active").length<2?parseFloat($("#xianjin").val()||0)>0?$("#xianjinname").text("\u8d4a\u8d26"):$("#xianjinname").text("\u5f85\u6536"):parseFloat($("#daishou").val()||0)>0?$("#daoshouname").text("\u8d4a\u8d26"):$("#daoshouname").text("\u5f85\u6536"));var l=$("#yinshou").val(),u=$("#daishou").val(),g=$("#xianjin").val(),f=$("#xianjinname").text(),a=$("#daoshouname").text(),k=$("#jieshuajie").text(),e=$("#sv_user_givingtype").val(),s=$("#sv_sumobtain_value").val();(productlistJsonList==null||productlistJsonList.length==0)&&zhonger();var r=$("#daoshouname").text(),o=$("#order_remark").val();if(r=="\u5f85\u6536"&&parseFloat(l)>parseFloat(g)&&parseFloat(u)>0){layer.msg("\u8bf7\u68c0\u67e5\u5f53\u524d\u5f85\u6536\u91d1\u989d\u548c\u5b9e\u6536\u91d1\u989d\u662f\u5426\u6b63\u786e\uff01");$("#yinshou").focus();return}if(o&&o.indexOf("'")>0&&(o=o.replace("'","''")),v="0",$("#huiyuan_id").attr("data-id")!=null&&$("#huiyuan_id").attr("data-id")!=""&&!$("#huiyuan_id").attr("data-id")!=undefined&&(v=$("#huiyuan_id").attr("data-id")),isNullOrWhiteSpace($("#danhao").text())||shuxin(),productlistJsonList&&productlistJsonList.length>0)for(h=0;h<productlistJsonList.length;h++)productlistJsonList&&productlistJsonList.length>0&&(productlistJsonList[h].sv_commissionemployes=StrEmployeelId);if(!productlistJsonList||productlistJsonList&&productlistJsonList.length==0){layer.msg("\u8ba2\u5355\u5546\u54c1\u4fe1\u606f\u5f02\u5e38\uff0c\u8bf7\u5237\u65b0\u540e\u91cd\u8bd5\uff01");return}if(n=="\u5fae\u4fe1\u652f\u4ed8"&&sv_enable_wechatpay==!1&&(f="\u5fae\u4fe1\u8bb0\u8d26"),r=="\u5fae\u4fe1\u652f\u4ed8"&&sv_enable_wechatpay==!1&&(a="\u5fae\u4fe1\u8bb0\u8d26"),n=="\u652f\u4ed8\u5b9d"&&sv_enable_alipay==!1&&(f="\u652f\u4ed8\u5b9d\u8bb0\u8d26"),r=="\u652f\u4ed8\u5b9d"&&sv_enable_alipay==!1&&(a="\u652f\u4ed8\u5b9d\u8bb0\u8d26"),c=(parseFloat($("#ttuser_descount").val())/100).toFixed(5),d=c,is_update_order_discount&&(c=1),GetDailySerialNumber(!0),i={order_discount_new:d,everyday_serialnumber:$("#meiridanhao").text(),integral:_g_deductIntegral,availableIntegralSwitch:availableIntegralSwitch,rankDemotion:rankDemotion,MembershipGradeGroupingIsON:MembershipGradeGroupingIsON,rankPromotionIsON:rankPromotionIsON,prlist:productlistJsonList,product_percentagelist:w,order_running_id:$("#danhao").text(),order_receivable:$("#yinshou").val(),order_payment:f,order_money:$("#xianjin").val(),order_payment2:a,order_money2:$("#daishou").val(),order_change:$("#yinshou").val(),user_cardno:v,order_discount:c,order_receivabley:$("#yinshou").data("val"),sv_remarks:o,givingtype:e,deserved:e==1?s||0:0,deserved_cash:e==1?0:s||0,sv_recommended_peopleid:$("#sv_recommended_peopleid").val(),free_change:$("#jieshuaanniu").attr("freechange"),sv_member_discount:(parseFloat($("#user_descount").text())/100).toFixed(2),sv_member_total_money:parseFloat($("#jieshuajie2").text()),sv_order_total_money:parseFloat($("#jieshuajie").text()),sv_give_change:parseFloat($("#zhaoling").val()),authcode:"",type:"",WhetherAsCatering:!0,sv_table_id:$("#catering_CateringGrade").attr("data-tableid")||0,sv_catering_grade:$("#catering_CateringGrade").text()||"",meiridanhao:$("#meiridanhao").text(),sv_coupon_amount:$("#hidden_coupon_amount").val()||0,sv_coupon_discount:$("#hidden_coupon_discount").val()||0,sv_without_list_id:$("#catering_CateringGrade").attr("data-withListId")||0,sv_person_num:$("#catering_CateringGrade").attr("data-personNum")||0,sv_order_source:0,sv_record_id:$("#hidden_coupon_record_id").val()||0,order_operator:_g_user_config.order_operator||_g_user_config.user_id,NotClearTable:IsAlertClearTable_enable||!1},StrEmployeelId&&(i.sv_commissionemployes=StrEmployeelId),y=$(".biglis").hasClass("open"),nt=$(".biglis").hasClass("open"),(n=="\u5fae\u4fe1\u652f\u4ed8"||r=="\u5fae\u4fe1\u652f\u4ed8")&&sv_enable_wechatpay==!0){if(layer.closeAll("loading"),r=="\u5fae\u4fe1\u652f\u4ed8"&&isNullOrWhiteSpace(u)&&parseFloat(u)<=0){layer.msg("\u5fae\u4fe1\u652f\u4ed8\u91d1\u989d\u5fc5\u987b\u5927\u4e8e0");return}weChatPay(i)}else if(n=="\u626b\u7801\u652f\u4ed8"||r=="\u626b\u7801\u652f\u4ed8"){if(layer.closeAll("loading"),r=="\u626b\u7801\u652f\u4ed8"&&isNullOrWhiteSpace(u)&&parseFloat(u)<=0){layer.msg("\u626b\u7801\u652f\u4ed8\u652f\u4ed8\u91d1\u989d\u5fc5\u987b\u5927\u4e8e0");return}Deke.DeKe_dialog.show_Url2WithData("\u626b\u7801\u652f\u4ed8","/html/cash/barCodePay.html?v=250",barCodePay,["550px","380px"],i)}else if((n=="\u652f\u4ed8\u5b9d"||r=="\u652f\u4ed8\u5b9d")&&sv_enable_alipay==!0){if(layer.closeAll("loading"),r=="\u652f\u4ed8\u5b9d"&&isNullOrWhiteSpace(u)&&parseFloat(u)<=0){layer.msg("\u652f\u4ed8\u5b9d\u652f\u4ed8\u91d1\u989d\u5fc5\u987b\u5927\u4e8e0");return}alliPay(i)}else p=layer.msg("\u6b63\u5728\u63d0\u4ea4\u6570\u636e\u8bf7\u7a0d\u540e...",{icon:16,shade:.01,time:0}),disableButton("jieshuaanniu"),t==1||$("#Cashlefsit li:not('.product_type')").length==0?$.ajax({url:"/settle/Post_settle",type:"post",data:JSON.stringify(i),contentType:"application/json",async:!1,success:function(n){enabledButton("jieshuaanniu");layer.close(p);n.bl?(resetSettlementInformation(),layer.closeAll(),layer.open({type:1,area:["300px","200px"],shadeClose:!1,content:'<div class="box-center"><div class="success-bg"><\/div><p id="success-money">\uffe5'+l+"<\/p><p>"+f+"\u7ed3\u7b97 \u4ea4\u6613\u6210\u529f <\/p><\/div>",time:"1500"}),$(".layui-layer").css({borderRadius:5}),$(".layui-layer-title, .layui-layer-setwin, .layui-layer-shade").css("display","none"),i&&n&&(n.order_running_id&&(i.order_running_id=n.order_running_id),n.order_operator&&(sv_current_operato=n.order_operator)),y?(i.user=n.user,$.getJSON("/system/Getprint",function(n){pushprintData(JSON.stringify(i),JSON.stringify(n),0,k,s,e,!1,"\u7ed3\u8d26\u5355");cateringPrint(i,n)})):open_cashbox_func(),$("#queryproduct").focus()):layer.msg("\u64cd\u4f5c\u5931\u8d25\uff01"+(bl.msg||""))}}):(disableButton("jieshuaanniu"),$.ajax({url:"/settle/Post_settle",type:"post",data:JSON.stringify(i),contentType:"application/json",async:!1,success:function(n){layer.close(p);enabledButton("jieshuaanniu");n.bl?(resetSettlementInformation(),layer.closeAll(),layer.open({type:1,area:["300px","200px"],shadeClose:!1,content:'<div class="box-center"><div class="success-bg"><\/div><p id="success-money">\uffe5'+l+"<\/p><p>"+f+"\u7ed3\u7b97 \u4ea4\u6613\u6210\u529f <\/p><\/div>",time:"1500"}),$(".layui-layer").css({borderRadius:5}),$(".layui-layer-title, .layui-layer-setwin, .layui-layer-shade").css("display","none"),y?(i&&n&&(n.order_running_id&&(i.order_running_id=n.order_running_id),n.order_operator&&(sv_current_operato=n.order_operator)),i.user=n.user,$.getJSON("/system/Getprint",function(n){pushprintData(JSON.stringify(i),JSON.stringify(n),0,k,s,e,!1,"\u7ed3\u8d26\u5355");cateringPrint(i,n)})):open_cashbox_func(),$("#queryproduct").focus()):layer.msg("\u64cd\u4f5c\u5931\u8d25\uff01"+(n.msg||""))}}))}}function weChatPay(n){if(n){var t=$("#yinshou").val(),i=$(".biglis").hasClass("open"),r=$("#xianjinname").text(),u=$("#jieshuajie").text(),f=$("#sv_user_givingtype").val(),e=$("#sv_sumobtain_value").val(),o=0,s="0";$("#huiyuan_id").attr("data-id")!=null&&$("#huiyuan_id").attr("data-id")!=""&&!$("#huiyuan_id").attr("data-id")!=undefined&&(s=$("#huiyuan_id").attr("data-id"));n.type="scan";disableButton("jieshuaanniu");$.ajax({url:"/settle/WeChatPay",type:"post",data:JSON.stringify(n),contentType:"application/json",async:!1,success:function(s){var l,c,h,a;s.succeed==!0?(l='<div id="wechatPayImgShow" data-value="true" class="wxsaosao"><img src="/images/WePayLogo.png" width="100" class="kkimg"><img src='+s.values+' width="200" class="bbimg"><\/div>',show_Android_Pos_T1_SecondScreen(t,s.values),layer.open({type:1,title:"\u5fae\u4fe1\u626b\u4e00\u626b\u652f\u4ed8",area:["420px","440px"],content:l}),c=$("#wechatPayImgShow").attr("data-value"),order_query_pending=!1,h=setInterval(function(){if(o+=3,o<=600&&c)c=$("#wechatPayImgShow").attr("data-value"),g_dec_payment_method=="5"||g_dec_payment_method=="6"||g_dec_payment_method=="7"||g_dec_payment_method=="9"?(n.user_id=user_id,n.order_number=s.errmsg,g_dec_payment_method=="7"&&(n.pay_orderid=s.lpayorderid),order_query_pending||(order_query_pending=!0,$.ajax({url:"//api.decerp.cc/api/OrderQuery",type:"post",dataType:"json",contentType:"application/json; charset=UTF-8",data:JSON.stringify(n),success:function(o){o.succeed&&(clearInterval(h),resetSettlementInformation(),layer.closeAll(),layer.open({type:1,area:["300px","200px"],shadeClose:!1,content:'<div class="box-center"><div class="success-bg"><\/div><p id="success-money">\uffe5'+t+"<\/p><p>"+r+"\u7ed3\u7b97 \u4ea4\u6613\u6210\u529f <\/p><\/div>",time:"1500"}),i?$.getJSON("/system/Getprint",function(t){pushprintData(JSON.stringify(n),JSON.stringify(t),0,u,e,f,!1,"\u7ed3\u8d26\u5355");cateringPrint(n,t)}):open_cashbox_func(),$(".layui-layer").css({borderRadius:5}),$(".layui-layer-title, .layui-layer-setwin, .layui-layer-shade").css("display","none"),queryProductFocus());order_query_pending=!1},error:function(){order_query_pending=!1}}))):order_query_pending||(order_query_pending=!0,$.ajax({url:"/settle/GetPaymentResult?orderNumber="+s.errmsg,type:"get",dataType:"json",async:!0,cache:!1,success:function(o){o.succeed==!0&&(clearInterval(h),resetSettlementInformation(),layer.closeAll(),layer.open({type:1,area:["300px","200px"],shadeClose:!1,content:'<div class="box-center"><div class="success-bg"><\/div><p id="success-money">\uffe5'+t+"<\/p><p>"+r+"\u7ed3\u7b97 \u4ea4\u6613\u6210\u529f <\/p><\/div>",time:"1500"}),i?(o&&o.values&&o.values.user&&(n.user=o.values.user),$.getJSON("/system/Getprint",function(t){pushprintData(JSON.stringify(n),JSON.stringify(t),0,u,e,f,!1,"\u7ed3\u8d26\u5355");cateringPrint(n,t)})):open_cashbox_func(),$(".layui-layer").css({borderRadius:5}),$(".layui-layer-title, .layui-layer-setwin, .layui-layer-shade").css("display","none"),$("#queryproduct").focus(),layer.closeAll());order_query_pending=!1},error:function(){order_query_pending=!1}}));else if(clearInterval(h),order_query_pending=!1,g_dec_payment_method=="3")try{var l=JSON.parse(g_dec_payment_config);l&&$.post("//qode.decerp.cc/api/XLPay/CancelPay",{inscd:l.inscd,mchntid:l.mchntid,signKey:l.signKey,outOrderNum:s.errmsg},function(){})}catch(a){}},5e3)):($("#wxauthcode").val(""),layer.closeAll("loading"),a="\u53d1\u8d77\u5fae\u4fe1\u652f\u4ed8\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u652f\u4ed8\u914d\u7f6e\u540e\u91cd\u65b0\u53d1\u8d77\u4ea4\u6613\uff01",layer.confirm(a,{btn:["\u786e\u8ba4","\u53d6\u6d88"]},function(){enabledButton("jieshuaanniu");layer.close(layer.index)}))}})}}function barCodePay(n){var f=0;n.user_id=user_id;$("#authcode").focus();var t,i=$("#jieshuajie").text(),r=$("#sv_user_givingtype").val(),u=$("#sv_sumobtain_value").val();setTimeout(function(){$("#authcode").keypress(function(e){var o=$(this).val().trim();e.keyCode==13&&(wxauthcode_waitfor=!1,wxauthcode_isSuccess=!1,o!=null&&o!=undefined&&o!=""&&o.length>10?wxauthcode_isSuccess?(wxauthcode_isSuccess=!1,clearInterval(t)):wxauthcode_waitfor||wxauthcode_isSuccess||(authcode_pay(n),wxauthcode_waitfor&&(order_query_pending=!1,setTimeout(function(){t=setInterval(function(){var e=$("#isShowbarCodePayWindows").val();e?(f+=3,f<=800?order_query_pending||(order_query_pending=!0,g_dec_payment_method=="3"?$.ajax({url:"//api.decerp.cc/api/OrderQuery",type:"post",dataType:"json",contentType:"application/json; charset=UTF-8",data:JSON.stringify(n),success:function(f){f.succeed&&(clearInterval(t),$("#wxauthcode").val(""),layer.closeAll(),layer.open({type:1,area:["300px","200px"],shadeClose:!1,content:'<div class="box-center"><div class="success-bg"><\/div><p id="success-money">\uffe5'+n.order_receivable+"<\/p><p>\u7ed3\u7b97 \u4ea4\u6613\u6210\u529f <\/p><\/div>",time:"1500"}),$.getJSON("/system/Getprint",function(t){pushprintData(JSON.stringify(n),JSON.stringify(t),0,i,u,r,!1,"\u7ed3\u8d26\u5355");cateringPrint(n,t)}),resetSettlementInformation());order_query_pending=!1},error:function(){order_query_pending=!1}}):g_dec_payment_method=="5"||g_dec_payment_method=="6"||g_dec_payment_method=="7"?$.ajax({url:"//api.decerp.cc/api/OrderQuery",type:"post",dataType:"json",contentType:"application/json; charset=UTF-8",data:JSON.stringify(n),success:function(f){f.succeed&&(clearInterval(t),$("#wxauthcode").val(""),layer.closeAll(),layer.open({type:1,area:["300px","200px"],shadeClose:!1,content:'<div class="box-center"><div class="success-bg"><\/div><p id="success-money">\uffe5'+n.order_receivable+"<\/p><p>\u7ed3\u7b97 \u4ea4\u6613\u6210\u529f <\/p><\/div>",time:"1500"}),$.getJSON("/system/Getprint",function(t){pushprintData(JSON.stringify(n),JSON.stringify(t),0,i,u,r);cateringPrint(n,t)}),resetSettlementInformation());order_query_pending=!1},error:function(){order_query_pending=!1}}):$.ajax({url:"//api.decerp.cc/api/OrderQuery",type:"post",dataType:"json",contentType:"application/json; charset=UTF-8",data:JSON.stringify(n),success:function(f){f.succeed&&(clearInterval(t),$("#wxauthcode").val(""),layer.closeAll(),layer.open({type:1,area:["300px","200px"],shadeClose:!1,content:'<div class="box-center"><div class="success-bg"><\/div><p id="success-money">\uffe5'+n.order_receivable+"<\/p><p>\u7ed3\u7b97 \u4ea4\u6613\u6210\u529f <\/p><\/div>",time:"1500"}),$.getJSON("/system/Getprint",function(t){pushprintData(JSON.stringify(n),JSON.stringify(t),0,i,u,r);cateringPrint(n,t)}),resetSettlementInformation());order_query_pending=!1},error:function(){order_query_pending=!1}})):(clearInterval(t),$("#errorMsg").html("\u60a8\u7684\u8ba2\u5355\u5df2\u8fc7\u671f\u5931\u6548\uff01"),$("#authcode").removeAttr("disabled"),$("#authcode").val(""),order_query_pending=!1)):(clearInterval(t),order_query_pending=!1)},3e3)},1e3))):$("#errorMsg").html("\u8bf7\u586b\u5199\u6b63\u786e\u7684\u652f\u4ed8\u7801\uff01"))})},150)}function authcode_pay(n){if(n){$("#authcode").attr("disabled","disabled");var t=$("#jieshuajie").text(),i=$("#sv_user_givingtype").val(),r=$("#sv_sumobtain_value").val(),u=$(".biglis").hasClass("open"),f="0",e=$("#yinshou").val();$("#huiyuan_id").attr("data-id")!=null&&$("#huiyuan_id").attr("data-id")!=""&&!$("#huiyuan_id").attr("data-id")!=undefined&&(f=$("#huiyuan_id").attr("data-id"));n.type="";n.authcode=$("#authcode").val().trim();disableButton("jieshuaanniu");$.ajax({url:"/settle/BarCodePay",type:"post",data:JSON.stringify(n),contentType:"application/json",async:!1,success:function(f){enabledButton("jieshuaanniu");f.succeed==!0?(wxauthcode_isSuccess=!0,wxauthcode_waitfor=!1,$("#authcode").removeAttr("disabled"),resetSettlementInformation(),$("#wxauthcode").val(""),layer.closeAll(),layer.open({type:1,area:["300px","200px"],shadeClose:!1,content:'<div class="box-center"><div class="success-bg"><\/div><p id="success-money">\uffe5'+e+"<\/p><p>\u7ed3\u7b97 \u4ea4\u6613\u6210\u529f <\/p><\/div>",time:"1500"}),u?(f.values&&f.values.user&&f.values.user!=undefined&&(n.user=f.values.user),$.getJSON("/system/Getprint",function(u){pushprintData(JSON.stringify(n),JSON.stringify(u),0,t,r,i,!1,"\u7ed3\u8d26\u5355");cateringPrint(n,u)})):open_cashbox_func(),$("#queryproduct").focus()):($("#wxauthcode").val(""),layer.closeAll("loading"),f.errmsg=="\u9700\u8981\u7528\u6237\u8f93\u5165\u652f\u4ed8\u5bc6\u7801"||f.errmsg=="\u5f85\u4e70\u5bb6\u652f\u4ed8"||f.errmsg=="\u7b49\u5f85\u652f\u4ed8"||f.errmsg=="\u6b63\u5728\u7b49\u5f85\u7528\u6237\u786e\u8ba4..."?(wxauthcode_waitfor=!0,$("#errorMsg").html("\u6b63\u5728\u7b49\u5f85\u7528\u6237\u8f93\u5165\u5bc6\u7801\uff01"),n.order_number=f.values,n.isWaitingPwd=!0):($("#authcode").removeAttr("disabled"),wxauthcode_waitfor=!1,$("#errorMsg").html(f.errmsg)))}})}}function alliPay(n){if(n){var t=$("#yinshou").val(),i=$(".biglis").hasClass("open"),r=$("#xianjinname").text(),u=$("#jieshuajie").text(),f=$("#sv_user_givingtype").val(),e=$("#sv_sumobtain_value").val(),o=0,s="0";$("#huiyuan_id").attr("data-id")!=null&&$("#huiyuan_id").attr("data-id")!=""&&!$("#huiyuan_id").attr("data-id")!=undefined&&(s=$("#huiyuan_id").attr("data-id"));n.type="scan";disableButton("jieshuaanniu");$.ajax({url:"/settle/AliBarCodePay",type:"post",data:JSON.stringify(n),contentType:"application/json",async:!1,success:function(s){var c,h,l;enabledButton("jieshuaanniu");s.succeed==!0&&isNullOrWhiteSpace(s.values)?(c='<div id="aliPayImgShow" data-value="true" class="wxsaosao"><img src="/images/alipaylogo.png" width="100" class="kkimg"><img src='+s.values+' width="200" class="bbimg"><\/div>',show_Android_Pos_T1_SecondScreen(t,s.values),layer.open({type:1,title:"\u652f\u4ed8\u5b9d\u626b\u4e00\u626b\u652f\u4ed8",area:["420px","440px"],content:c}),h=$("#aliPayImgShow").attr("data-value"),setTimeout(function(){order_query_pending=!1;var c=setInterval(function(){if(o+=3,o<=600&&h)h=$("#aliPayImgShow").attr("data-value"),g_dec_payment_method=="5"||g_dec_payment_method=="6"||g_dec_payment_method=="7"||g_dec_payment_method=="9"?(n.user_id=user_id,n.order_number=s.errmsg,g_dec_payment_method=="7"&&(n.pay_orderid=s.lpayorderid),order_query_pending||(order_query_pending=!0,$.ajax({url:"//api.decerp.cc/api/OrderQuery",type:"post",dataType:"json",contentType:"application/json; charset=UTF-8",data:JSON.stringify(n),success:function(o){o.succeed&&(clearInterval(c),layer.closeAll(),resetSettlementInformation(),layer.open({type:1,area:["300px","200px"],shadeClose:!1,content:'<div class="box-center"><div class="success-bg"><\/div><p id="success-money">\uffe5'+t+"<\/p><p>"+r+"\u7ed3\u7b97 \u4ea4\u6613\u6210\u529f <\/p><\/div>",time:"1500"}),i?$.getJSON("/system/Getprint",function(t){pushprintData(JSON.stringify(n),JSON.stringify(t),0,u,e,f,!1,"\u7ed3\u8d26\u5355");cateringPrint(n,t)}):open_cashbox_func(),$(".layui-layer").css({borderRadius:5}),$(".layui-layer-title, .layui-layer-setwin, .layui-layer-shade").css("display","none"),layer.closeAll());order_query_pending=!1},error:function(){order_query_pending=!1}}))):order_query_pending||(order_query_pending=!0,$.ajax({url:"/settle/GetPaymentResult?orderNumber="+s.errmsg,type:"get",dataType:"json",async:!0,cache:!1,success:function(o){o.succeed==!0&&(clearInterval(c),resetSettlementInformation(),layer.closeAll(),layer.open({type:1,area:["300px","200px"],shadeClose:!1,content:'<div class="box-center"><div class="success-bg"><\/div><p id="success-money">\uffe5'+t+"<\/p><p>"+r+"\u7ed3\u7b97 \u4ea4\u6613\u6210\u529f <\/p><\/div>",time:"1500"}),i?(o&&o.values&&o.values.user&&(n.user=o.values.user),$.getJSON("/system/Getprint",function(t){pushprintData(JSON.stringify(n),JSON.stringify(t),0,u,e,f);cateringPrint(n,t)})):open_cashbox_func(),$(".layui-layer").css({borderRadius:5}),$(".layui-layer-title, .layui-layer-setwin, .layui-layer-shade").css("display","none"));order_query_pending=!1},error:function(){order_query_pending=!1}}));else if(clearInterval(c),order_query_pending=!1,g_dec_payment_method=="3")try{var l=JSON.parse(g_dec_payment_config);l&&$.post("//qode.decerp.cc/api/XLPay/CancelPay",{inscd:l.inscd,mchntid:l.mchntid,signKey:l.signKey,outOrderNum:s.errmsg},function(){})}catch(a){}},3e3)},2e3)):($("#wxauthcode").val(""),layer.closeAll("loading"),l="\u53d1\u8d77\u652f\u4ed8\u5b9d\u652f\u4ed8\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u652f\u4ed8\u914d\u7f6e\u540e\u91cd\u65b0\u53d1\u8d77\u4ea4\u6613\uff01",layer.confirm(l,{btn:["\u786e\u8ba4","\u53d6\u6d88"]},function(){enabledButton("jieshuaanniu");layer.close(layer.index)}))}})}}function nocodingAdd(){$("#nocoding").click(function(){var n=parseFloat($("#queryproduct").val().replace(/\ +/g,"")||0),t,i;n>0&&n<100001?($(".nocoding_"+n).length==0?(t='<li  data-sv_order_guid="'+NewGuid()+'" data-producttype_id="1" data-mindiscount=0"" data-minunitprice=0 data-prnumber="1"  data-memberprice=0  id=0  data-pricingmethod="0" ',t+="class=nocoding_"+n+' data-categoryId="0" data-url="" ',t+='data-prname="\u65e0\u7801\u6536\u94f6" data-untprice="'+returnFloat(n)+'" ',t+='data-sv_p_commissiontype="0" data-sv_p_commissionratio="" data-sv_product_integral="" ',t+='><div class="naerigh"><p class="nn1">\u65e0\u7801\u6536\u94f6<\/p>',t+='<p class="nn2"><span class="fl"><\/span><span class="fr">\u6570\u91cf <text class="nump" data-cnum="0">1<\/text><\/span>',t+='<\/p> <p class="nn3"><span class="fl">\u00a5<text class="jiage" data-rjia="'+returnFloat(n)+'" data-orgprice="'+returnFloat(n)+'"> ',t+=""+returnFloat(n)+'<\/text><\/span><span class="fr">\u00a5 <text class="zhong" data-zhekou="1" ',t+='data-sv_p_originalprice="'+n+'"> '+returnFloat(n)+"<\/span><\/p><\/div> <\/li>",$("#Cashlefsit").prepend(t),inspectCommodityWhetherZeroStock(),osd++):($(".nocoding_"+n).find(".nump").text(parseInt($(".nocoding_"+n).find(".nump").text())+1),i=isNullOrWhiteSpace($(".nocoding_"+n).find(".nump").text())?parseFloat($(".nocoding_"+n).find(".nump").text()):1,jiagesss=returnFloat(Math.round(parseFloat(i)*parseFloat($(".nocoding_"+n).find(".jiage").text())*100)/100),$(".nocoding_"+n).find(".zhong").text(parseFloat(jiagesss).toFixed(2))),$("#queryproduct").val(""),zhonger(),$("#nocoding").addClass("disabled"),queryProductFocus()):(layer.msg("\u65e0\u7801\u73b0\u91d1\u6536\u94f6\u91d1\u989d\u91d1\u989d\u4e0d\u80fd\u8d85\u8fc7100000\uff01"),$("#nocoding").addClass("disabled"))})}function getEmployessinfohtml(){$.ajax({url:"/Html/system/EmployeesInfo.html",type:"get",async:!1,success:function(){setTimeout(function(){OpenEmployessinfo()},200)}})}function OpenEmployessinfo(){_g_employee_list&&_g_employee_list.length>0?cashDisplayEmployeeInfo(_g_employee_list):$.getJson("/Employee/GetEmployeePageList/",null,function(n){cashDisplayEmployeeInfo(n)});$("#operatingMember li").click(function(){$(this).toggleClass("active")})}function cashDisplayEmployeeInfo(n){var i="",r="",t,u;if(n!=null)for(_g_employee_list=n,t=0;t<n.length;t++)i+=t%2==0?'<li data-employee_id="'+n[t].sv_employee_id+'" data-configtype="'+n[t].sv_configtype+'" data-employee_name="'+n[t].sv_employee_name+'">':'<li data-employee_id="'+n[t].sv_employee_id+'" data-configtype="'+n[t].sv_configtype+'" data-employee_name="'+n[t].sv_employee_name+'">',i+='<div class="operatinguserphoto"><img src="/images/001.png"  onerror="javascript:this.src ="/images/001.png";"/>',n[t].sv_employee_name.length>4?(u=n[t].sv_employee_name,r=u.substring(0,4)+".."):r=n[t].sv_employee_name,i+='<\/div><p class="operatingusername">'+r+"<\/p><i><\/i><\/li>";else i="";isNullOrWhiteSpace(i)?$("#operatingMember").html(i):$("#play-settlement-box").parent().width($("#play-settlement-box").parent().width()-110)}function GetEmployessid(){StrEmployeelId="";$("#operatingMember li").each(function(){$(this).hasClass("active")&&(StrEmployeelId+=$(this).attr("data-employee_id")+",")});StrEmployeelId!=""&&(StrEmployeelId=StrEmployeelId.replace(/,$/gi,""))}function DeleteOverdue(n){overdue_userecord_id=overdue_userecord_id.replace(n,"");$("#"+n).remove();$("#Overdue_tr_"+n).remove();overdue_userecord_id=overdue_userecord_id.replace(/^,*|,*$/g,"");zhonger()}function chsaisi2(n,t,i,r){var u=Is_open_commission==!1?0:1;r=r||$("#userid").val();n=n||$("#sv_mr_cardno").val();layer.open({type:2,title:"\u4f1a\u5458\u7ba1\u7406",shadeClose:!0,shade:.8,area:["80%","90%"],content:"/member/acharge/?x=1#"+n+"@"+t+"@"+i+"@"+u+"@"+r})}function GetConfigdataBylevel(n){var i,t;if(configleveldata=[],PreferentialTopUpGivingConfigListWithIgnore("Preferential","ConsumptionReduction"),Preferential_TopUpGiving_ConfigList!=null)for(i=Preferential_TopUpGiving_ConfigList,t=0;t<i.length;t++)i[t].sv_user_leveltype_id==n&&configleveldata.push(i[t])}function GetConfigdataTopConfigBylevel(n){var i,t;if(configleveldata_Topup=[],configleveldata=[],PreferentialTopUpGivingConfigListWithIgnore("Preferential","TopUpGiving"),Preferential_TopUpGiving_ConfigList!=null)for(i=Preferential_TopUpGiving_ConfigList,t=0;t<i.length;t++)i[t].sv_user_leveltype_id==n&&configleveldata_Topup.push(i[t]);GetUserLevelDiscount_Config(n)}function CalculateGiving(){var t,i,c,n,s,h,r,l;$("#StoredRemark").text("");var e=0,f=0,u=0,o=0;if(t=Judgingindustry()?parseFloat($("#yinshou").val()||0):parseFloat($("#yinshou").val()||0),i=parseFloat($("#jieshuajie2").data("promotion_money")||0),configleveldata&&configleveldata.length>0)for(c=!1,n=0;n<configleveldata.length;n++)configleveldata[n].sv_detali_proportionalue<=t-i&&e<=configleveldata[n].sv_detali_proportionalue&&configleveldata[n].sv_detail_is_enable?(e=configleveldata[n].sv_detali_proportionalue,u=configleveldata[n].sv_user_givingtype,o=configleveldata[n].sv_p_commissiontype,f=o==1?u!=1?parseFloat(Math.floor((configleveldata[n].sv_detail_value||0)*(t-i)*100)/1e4):parseFloat((configleveldata[n].sv_detail_value||0)*(t-i)*100):parseInt(configleveldata[n].sv_detail_value||0),$("#sv_user_givingtype").val(u),$("#sv_sumobtain_value").val(f),f>0?(s="",$("#Stored_Giving_Remark").show(),h="",i>0&&(h="(\u542b\u4fc3\u9500\u91d1\u989d:"+i+"\u5143)"),u==1&&(s="*\u5e94\u6536"+t+"\u5143"+h+",\u6d3b\u52a8\u6d88\u8d39\u6ee1"+e+"\u5143\u8d60\u9001"+f+(o==1?"("+(parseInt(configleveldata[n].sv_detail_value||0)+"%)"):"")+(u==1?"\u79ef\u5206":"\u5143\u50a8\u503c\u73b0\u91d1")),u==2&&(s="*\u5e94\u6536"+t+"\u5143"+h+",\u6d3b\u52a8\u6d88\u8d39\u6ee1"+e+"\u5143\u7acb\u51cf"+f+(o==1?"("+(parseInt(configleveldata[n].sv_detail_value||0)+"%)"):"")+(u==1?"\u79ef\u5206":"\u5143\u73b0\u91d1")),$("#StoredRemark").show(0),$("#StoredRemark").text(s),c=!0):$("#Stored_Giving_Remark").hide()):c||$("#StoredRemark").hide(0);else $("#StoredRemark").hide(0),$("#Stored_Giving_Remark").hide(0),$("#sv_user_givingtype").val(0),$("#sv_sumobtain_value").val(0);u==2&&(t=t-f);$("#yinshou").val(t.toFixed(2));$("#xianjin").val(t.toFixed(2));_g_sumorigprice=t;r=$("#jieshuajie2").text();r!=null&&r!=undefined&&r!=""&&r>0&&(r=parseFloat(r),r-i>0&&(l=(parseFloat($("#yinshou").val()||0)-i)/(r-i),$("#ttuser_descount").val((l*100).toFixed(2))))}function CalculateGiving_topup(n){var e=parseFloat($("#sv_mrr_amountbefore").val()||0),i=0,u=0,r=0,t,f,o;if(configleveldata_Topup!=""&&configleveldata_Topup.length>0)for(t=0;t<configleveldata_Topup.length;t++)configleveldata_Topup[t].sv_detail_is_enable&&(f=configleveldata_Topup[t].sv_detali_proportionalue,f<=e&&(u=parseInt(configleveldata_Topup[t].sv_detail_value),r=configleveldata_Topup[t].sv_user_givingtype,i=u,$("#sv_user_givingtype").val(r),$("#sv_detali_proportionalue").val(f),$("#sv_detail_value").val(u),i>0&&$("#StoredRemark").text("(\u5145\u503c"+e+"\u5143,\u6d3b\u52a8\u5145\u503c"+f+"\u5143\u8d60\u9001"+i+(r==1?"\u79ef\u5206":"\u5143\u50a8\u503c\u73b0\u91d1)"))));else $("#sv_user_givingtype").val(0),$("#sv_detali_proportionalue").val(0),$("#sv_detail_value").val(0);i<=0&&u<=0&&r<=0&&($("#sv_user_givingtype").val(0),$("#sv_detali_proportionalue").val(0),$("#sv_detail_value").val(0),isNullOrWhiteSpace(n)||$("#sv_mrr_present").val(0));r!=2||isNullOrWhiteSpace(n)||$("#sv_mrr_present").val(i);o=$("#sv_mrr_present").val()||0;$("#huoji").text(parseFloat(o)+parseFloat(e))}function CalculateGiving_topupSinglePage(n,t){var o=parseFloat($("#sv_mrr_amountbefore").val()||0),r=0,f=0,u=0,i,e,s;if(configleveldata_Topup!=""&&configleveldata_Topup.length>0)for(i=0;i<configleveldata_Topup.length;i++)configleveldata_Topup[i].sv_detail_is_enable&&(e=configleveldata_Topup[i].sv_detali_proportionalue,e<=o&&(f=parseInt(configleveldata_Topup[i].sv_detail_value),u=configleveldata_Topup[i].sv_user_givingtype,r=f,$("#"+t+" #sv_user_givingtype").val(u),$("#"+t+" #sv_detali_proportionalue").val(e),$("#"+t+" #sv_detail_value").val(f),r>0&&$("#"+t+" #StoredRemark").text("(\u5145\u503c"+o+"\u5143,\u6d3b\u52a8\u5145\u503c"+e+"\u5143\u8d60\u9001"+r+(u==1?"\u79ef\u5206":"\u5143\u50a8\u503c\u73b0\u91d1)"))));else $("#sv_user_givingtype").val(0),$("#sv_detali_proportionalue").val(0),$("#sv_detail_value").val(0);r<=0&&f<=0&&u<=0&&($("#sv_user_givingtype").val(0),$("#sv_detali_proportionalue").val(0),$("#sv_detail_value").val(0),isNullOrWhiteSpace(n)||$("#sv_mrr_present").val(0));u!=2||isNullOrWhiteSpace(n)||$("#sv_mrr_present").val(r);s=$("#sv_mrr_present").val()||0;$("#huoji").text(parseFloat(s)+parseFloat(o))}function ShowCusDisplay(n,t){try{typeof Cef!="undefined"&&hardware_cusdisplay_enable&&hardware_cusdisplay_port&&hardware_cusdisplay_baud&&Cef.CustomerDisplay(hardware_cusdisplay_port,parseInt(hardware_cusdisplay_baud),"One",8,n,t)}catch(i){}}function keysetting(){setTimeout(function(){if(disableButton("btnSaveKeySetting"),shortcut_key_json_str!=null&&shortcut_key_json_str!=""&&shortcut_key_json_str!=undefined)for(var n in shortcut_key_json_str)shortcut_key_json_str[n]!=null&&shortcut_key_json_str[n]!=""&&shortcut_key_json_str[n]!=undefined&&($("#"+n).val(shortcut_key_json_str[n]),$("#"+n+"_2").val(shortcut_key_json_str[n]))},200);setTimeout(function(){if(shortcut_key_json_ascii_index!=null&&shortcut_key_json_ascii_index!=""&&shortcut_key_json_ascii_index!=undefined)for(var n in shortcut_key_json_ascii_index)$("#"+n).attr("data-value",shortcut_key_json_ascii_index[n]),$("#"+n+"_2").attr("data-value",shortcut_key_json_ascii_index[n])},200);$(".layui-layer-setwin").css("display","none");$("#close-keypage").click(function(){layer.closeAll()});$("#settingkeybtn").click(function(){enabledButton("btnSaveKeySetting");$(".setting-key li a>input").removeAttr("disabled");$("#key_zero_price").focus()});$("#btnSaveKeySetting").click(function(){var r,t,n,i,u;if(shortcut_key_repeat){layer.msg("\u5feb\u6377\u952e\u6709\u91cd\u590d\uff01");return}for(comon_key_arr=[],r=$(".setting-key>li a input"),t=0;t<r.length;t++)if(n=$(".setting-key>li a input:eq("+t+")").attr("data-value"),n!=null&&n!=""&&n!=undefined)comon_key_arr.push(n);else{layer.msg("\u5feb\u6377\u952e\u5fc5\u987b\u586b\u5199\uff01");return}i=[];u={sv_user_configdetail_id:sv_user_configdetail_key_id,sv_detail_value:comon_key_arr.join(","),sv_user_config_id:shortcut_key_user_config_id,sv_user_module_id:shortcut_key_user_module_id,sv_detail_is_enable:!0,sv_user_configdetail_name:"\u5feb\u6377\u952e\u8bbe\u7f6e",sv_remark:"\u5feb\u6377\u952e\u8bbe\u7f6e"};i.push(u);$.postAsyncContentJson("/UserModuleConfig/SaveConfigdetailList?moduleCode=Set_SysFastKey",i,function(n){n&&(n==1?(layer.msg("\u4fdd\u5b58\u6210\u529f"),setTimeout(function(){location.reload()},600)):n==-2?layer.msg("\u4f60\u6ca1\u6709\u8be5\u64cd\u4f5c\u6743\u9650\uff01"):layer.msg("\u4fdd\u5b58\u5931\u8d25"))})});$(document).on("click","#default_keysetting",function(){var n;if(enabledButton("btnSaveKeySetting"),default_shortcut_key_json_str!=null&&shortcut_key_json_str!=""&&shortcut_key_json_str!=undefined)for(n in default_shortcut_key_json_str)default_shortcut_key_json_str[n]!=null&&default_shortcut_key_json_str[n]!=""&&default_shortcut_key_json_str[n]!=undefined&&$("#"+n).val(default_shortcut_key_json_str[n]);if(default_shortcut_key_json_ascii_index!=null&&default_shortcut_key_json_ascii_index!=""&&default_shortcut_key_json_ascii_index!=undefined)for(n in default_shortcut_key_json_ascii_index)$("#"+n).attr("data-value",default_shortcut_key_json_ascii_index[n]);$("#btnSaveKeySetting").click()})}function getkey_settingInfo(){if(shortcut_key_json_str!=null&&shortcut_key_json_str!=""&&shortcut_key_json_str!=undefined)for(var n in shortcut_key_json_str)$("."+n+" i").html(shortcut_key_json_str[n])}function shortcut_key(n,t){if(shortcut_key_json_ascii_index!=null&&shortcut_key_json_ascii_index!=undefined&&shortcut_key_json_ascii_index!=""&&n!=undefined&&n!=null&&n!="")for(var i in shortcut_key_json_ascii_index)if(shortcut_key_json_ascii_index[i]==n){$("."+i).click();t.preventDefault();return}}function queryProductFocus(){$("#queryproduct")&&$("#queryproduct").length>0&&(decerpbrowser.versions.android&&user_id!="59258584"||$("#queryproduct").focus())}function cashFocus(){$("#xianjin")&&$("#xianjin").length>0&&(decerpbrowser.versions.android||(jiaodianname?$("#xianjin").focus():$("#xianjin").focus()))}function paySelectMemberFn(n,t,i,r){var e,u,f;clearSelectMemberInfo();e=!1;i!=null&&i!=""&&i>=1&&(e=!0);r=r||"";u=n;u!=null&&u!=""&&u!=undefined?(f="/Ajaxdata/QueryUserModel?id="+u+"&userid="+t,r&&(f="/Ajaxdata/GetUserModel?id="+r),$.get(f,function(t){if(t==null){layer.msg("\u627e\u4e0d\u5230\u8be5\u4f1a\u5458\uff0c\u8bf7\u67e5\u8bc1\u518d\u67e5\u8be2");$("#StoredRemark").text("");sv_discount_config=[];$("#sv_mr_cardno").val("").data("level_id","");$("#memberlevel_id").val("-1");zhonger();commissionPerformance.groupingList();automaticChangeMoney();regroupsettlementdata();return}if(t.type==1)Deke.DeKe_dialog.show_Url3("\u9009\u62e9\u4f1a\u5458","/html/cash/xianzhehuiy.html?v=42",f4,["730px",""],"shoyin2"),$("#userid").val(""),memberlist=t.list;else{if(t.isOverdue)return layer.msg("\u6b64\u5361\u5df2\u8fc7\u671f"),$("#StoredRemark").text(""),sv_discount_config=[],$("#sv_mr_cardno").val("").data("level_id",""),$("#memberlevel_id").val("-1"),zhonger(),regroupsettlementdata(),automaticChangeMoney(),!1;if(t.sv_mr_status==1)return layer.msg("\u6b64\u5361\u5df2\u6302\u5931"),$("#memberNamep").html(""),$("#memberNamenumber").html(""),$("#membercatagory").html(""),$("#memberintegral").html(""),$("#memberbalance").html(""),$("#memberconsumptiongrand").html(""),$("#memberbirthday").html(""),$("#txtPayselectmember").val(""),$("#yuecount").attr("data-money",0),$("#member_photo").attr("src","/images/001.png"),$("#StoredRemark").text(""),sv_discount_config=[],$("#sv_mr_cardno").val("").data("level_id",""),$("#memberlevel_id").val("-1"),zhonger(),regroupsettlementdata(),automaticChangeMoney(),!1;_cache_memberinfo_json=t;new_cache_memberinfo_json=t;$("#txtPayselectmember").blur();$("#sv_mr_cardno").val(n);$("#memberlevel_id").val(t.memberlevel_id);t.sv_mr_name!=null&&t.sv_mr_name!=""&&t.sv_mr_name!=undefined?$("#memberNamep").html(t.sv_mr_name):$("#memberNamep").html(t.member_id);$("#btnMemberRecharge").attr("data-userId",t.user_id).attr("data-cardno",t.sv_mr_cardno).attr("data-level",t.memberlevel_id);$("#member_photo").attr("src",_g_res_images_url+t.sv_mr_headimg);$("#huiyuan_id").attr("data-id",t.member_id);$("#memberNamenumber").html(t.sv_mr_mobile);t.sv_ml_commondiscount>0&&t.sv_ml_commondiscount<10?$("#memberdIscount").html("\u6298\u6263:"+(parseFloat(t.sv_ml_commondiscount)*10).toFixed(2)+"%"):$("#memberdIscount").html("\u6298\u6263:100%");$("#membercatagory").html(t.sv_ml_name);$("#memberintegral").html(t.sv_mw_availablepoint);$("#memberbalance").attr("data-sv_min_blance",t.sv_min_blance);$("#memberbalance").attr("data-menber_user_id",t.user_id);$("#memberbalance").html(t.sv_mw_availableamount);$("#memberconsumptiongrand").html(t.sv_mw_sumamount);$("#memberbirthday").html(new Date(t.sv_mr_birthday).Format("MM-dd"));$("#member_id").val(t.member_id);$("#userid").val(t.user_id);$(".sv_mr_cardno").text(t.sv_mr_cardno);$(".sv_mr_name").text(t.sv_mr_name);$("#yuecount").attr("data-money",t.sv_mw_availableamount).text(t.sv_mw_availableamount);$(".sv_mw_availableamount").text(t.sv_mw_availableamount);_member_discount=t.sv_ml_commondiscount!=null&&t.sv_ml_commondiscount!=undefined&&t.sv_ml_commondiscount!=""&&t.sv_ml_commondiscount!=0&&t.sv_ml_commondiscount!="0"?parseFloat(t.sv_ml_commondiscount)*10:100;$("#huiyuan_id").text(t.sv_mr_name).data("id",t.member_id).data("jiekou",_member_discount);$("#ttuser_descount").val("100");$("#user_descount").text(_member_discount);$("#memberlevel_id").val()!=null&&$("#memberlevel_id").val()!=""&&(GetConfigdataBylevel($("#memberlevel_id").val()),GetUserLevelDiscount_Config($("#memberlevel_id").val()),GetUserLevelDiscount_Config);$(".paywaylist .selectpaytype").eq(1).click();zhonger();$("#xianjin").change();$(".removelistp").length>0&&Judgingindustry()||CalculateGiving();IntegralToNow();(_g_sv_uit_cache_name=="cache_name_cosmetology"||_g_sv_uit_cache_name=="cache_name_massage_regimen"||_g_sv_uit_cache_name=="cache_name_maternal_supplies"||_g_sv_uit_cache_name=="cache_name_auto_beauty")&&(guidarr=[],guidarrcansle=[],commissionPerformance.groupingList());regroupsettlementdata();automaticChangeMoney()}$("#member_photo").error(function(){$(this).attr("src","/images/001.png")})})):(layer.msg("\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801\u6216\u5361\u53f7"),$("#StoredRemark").text(""),sv_discount_config=[],$("#sv_mr_cardno").val("").data("level_id",""),$("#memberlevel_id").val("-1"),zhonger(),regroupsettlementdata(),automaticChangeMoney())}function clearSelectMemberInfo(){$("#btnMemberRecharge").attr("data-userId","").attr("data-cardno","").attr("data-level","");$("#huiyuan_id").text("").attr("data-id","0").data("jiekou","100");$("#yuecount").text(returnFloat(0)).attr("data-money",0);$("#user_descount").text("100");_cache_memberinfo_json=null;new_cache_memberinfo_json=null;_member_discount=100;$("#jieshuajie2").text($("#jieshuajie").text());$("#memberdIscount").html("");$("#huiyuan_id").text("").attr("data-id","0").data("jiekou","100");$("#memberNamep").html("");$("#memberNamenumber").html("");$("#membercatagory").html("");$("#memberintegral").html("");$("#memberbalance").html("");$("#memberconsumptiongrand").html("");$("#memberbirthday").html("");$("#payselectmember").val("");$("#member_photo").attr("src","/images/001.png");$(".jiFenDiXian").hide();jifendixiankaiguan==!1}function selectmemberlist(){getMemberListBySeachStr($("#payselectmember").val());$("#query_like").keypress(function(n){var t=$(this).val(),i;t!=null&&t!=undefined&&t!=""&&(i=$("#query_member_list_is_success").val(),n.keyCode==13&&(i==0||i=="0")&&getMemberListBySeachStr(t))});$(document).on("keyup","#query_like",function(){var n=$(this).val();n!=null&&n!=undefined&&n!=""&&getMemberListBySeachStr(n)})}function getmemberlist(n){for(var i="",t=0;t<n.length;t++)i+=' <tr data-user_id="'+n[t].user_id+'" data-sv_mr_cardno="'+n[t].sv_mr_cardno+'" data-id="'+n[t].member_id+'" data-name="'+n[t].sv_mr_name+'" data-isoverdue="'+n[t].isOverdue+'">',i+="    <td><span>"+n[t].sv_mr_cardno+"<\/span><\/td>",i+="    <td><span>"+n[t].sv_mr_name+"<\/span><\/td>",i+="    <td><span>"+n[t].sv_mr_mobile+"<\/span><\/td>",i+="   <td><i>\u00a5"+n[t].sv_mw_availableamount+"<\/i><\/td>",i+=n[t]!=null&&n[t].sv_mw_credit!=null?"  <td><i>\u00a5"+n[t].sv_mw_credit+"<\/i><\/td>":"  <td><i>\u00a50.00<\/i><\/td>",i+=isNullOrWhiteSpace(n[t].sv_ml_name)?"  <td><span>"+n[t].sv_ml_name+"<\/span><\/td>":"  <td><span><\/span><\/td>",i+='   <td id="'+n[t].sv_mr_status+'"><a href="javascript:void(0);" class="xianzhehuiyan" id="'+n[t].sv_mr_status+'" data-isoverdue="'+n[t].isOverdue+'">\u9009\u62e9<\/a><\/td>',i+="   <\/tr>";$("#usercoutn").html(n.length);$("#userlist").html(i)}function getMemberListBySeachStr(n){$("#query_like").val(n);var t=commonOpenLoading();$("#query_member_list_is_success").val(1);$.get("/ajaxdata/GetMemberList/1",{key:n,pageSize:30},function(n){var r,i;for(commonCloseLoading(t),$("#query_member_list_is_success").val(0),r="",i=0;i<n.length;i++)r+=' <tr data-user_id="'+n[i].user_id+'" data-sv_mr_cardno="'+n[i].sv_mr_cardno+'" data-id="'+n[i].member_id+'" data-name="'+n[i].sv_mr_name+'" data-isoverdue="'+n[i].isOverdue+'" >',r+="    <td><span>"+n[i].sv_mr_cardno+"<\/span><\/td>",r+="    <td><span>"+n[i].sv_mr_name+"<\/span><\/td>",r+="    <td><span>"+n[i].sv_mr_mobile+"<\/span><\/td>",r+="   <td><i>\u00a5"+n[i].sv_mw_availableamount+"<\/i><\/td>",r+=n[i]!=null&&n[i].sv_mw_credit!=null?"  <td><i>\u00a5"+n[i].sv_mw_credit+"<\/i><\/td>":"  <td><i>\u00a50.00<\/i><\/td>",r+=isNullOrWhiteSpace(n[i].sv_ml_name)?"  <td><span>"+n[i].sv_ml_name+"<\/span><\/td>":"  <td><span><\/span><\/td>",r+="  <td><span>"+n[i].sv_mw_availablepoint+"<\/span><\/td>",r+='   <td id="'+n[i].sv_mr_status+'"><a href="javascript:void(0);" class="xianzhehuiyan select" ',r+=' id="'+n[i].sv_mr_status+'" data-user_id="'+n[i].user_id+'" ',r+=' data-sv_mr_cardno="'+n[i].sv_mr_cardno+'" data-id="'+n[i].member_id+'" ',r+='data-name="'+n[i].sv_mr_name+'" data-isoverdue="'+n[i].isOverdue+'" data-level="'+n[i].memberlevel_id+'">\u9009\u62e9<\/a><\/td>',r+="<\/tr>";$("#usercoutn").html(n.length);$("#userlist").html(r)})}function getMemberInfoByMemberId(n,t){(t==null||t==undefined||t=="")&&(t=user_id);$.get("/Ajaxdata/QueryUserModel?id="+n+"&userid="+t,function(n){if(n==null){layer.msg("\u627e\u4e0d\u5230\u8be5\u4f1a\u5458\uff0c\u8bf7\u67e5\u8bc1\u518d\u67e5\u8be2");zhonger();regroupsettlementdata();automaticChangeMoney();return}if(n.type==1)Deke.DeKe_dialog.show_Url3("\u9009\u62e9\u4f1a\u5458","/html/cash/xianzhehuiy.html?v=42",f4,["730px",""],"shoyin2"),$("#userid").val(""),memberlist=n.list;else{if(n.isOverdue)return layer.msg("\u6b64\u5361\u5df2\u8fc7\u671f"),!1;if(n.sv_mr_status==1)return layer.msg("\u6b64\u5361\u5df2\u6302\u5931"),$("#memberNamep").html(""),$("#memberNamenumber").html(""),$("#membercatagory").html(""),$("#memberintegral").html(""),$("#memberbalance").html(""),$("#memberconsumptiongrand").html(""),$("#memberbirthday").html(""),$("#txtPayselectmember").val(""),$("#yuecount").attr("data-money",0),$("#member_photo").attr("src","/images/001.png"),!1;_cache_memberinfo_json=n;$("#txtPayselectmember").blur();n.sv_mr_name!=null&&n.sv_mr_name!=""&&n.sv_mr_name!=undefined?$("#memberNamep").html(n.sv_mr_name):$("#memberNamep").html(n.member_id);$("#btnMemberRecharge").attr("data-userId",n.user_id).attr("data-cardno",n.sv_mr_cardno).attr("data-level",n.memberlevel_id);$("#member_photo").attr("src",_g_res_images_url+n.sv_mr_headimg);$("#huiyuan_id").attr("data-id",n.member_id);$("#memberNamenumber").html(n.sv_mr_mobile);n.sv_ml_commondiscount>0&&n.sv_ml_commondiscount<10?$("#memberdIscount").html("\u6298\u6263:"+(parseFloat(n.sv_ml_commondiscount)*10).toFixed(2)+"%"):$("#memberdIscount").html("\u6298\u6263:100%");$("#membercatagory").html(n.sv_ml_name);$("#memberintegral").html(n.sv_mw_availablepoint);$("#memberbalance").html(n.sv_mw_availableamount);$("#memberconsumptiongrand").html(n.sv_mw_sumamount);$("#memberbirthday").html(new Date(n.sv_mr_birthday).Format("MM-dd"));$("#member_id").val(n.member_id);$("#userid").val(n.user_id);$(".sv_mr_cardno").text(n.sv_mr_cardno);$(".sv_mr_name").text(n.sv_mr_name);$("#yuecount").attr("data-money",n.sv_mw_availableamount).text(n.sv_mw_availableamount);$(".sv_mw_availableamount").text(n.sv_mw_availableamount);_member_discount=n.sv_ml_commondiscount!=null&&n.sv_ml_commondiscount!=undefined&&n.sv_ml_commondiscount!=""&&n.sv_ml_commondiscount!=0&&n.sv_ml_commondiscount!="0"?parseFloat(n.sv_ml_commondiscount)*10:100;$("#huiyuan_id").text(n.sv_mr_name).data("id",n.member_id).data("jiekou",_member_discount);$("#ttuser_descount").val("100");$("#user_descount").text(_member_discount);$(".paywaylist .selectpaytype").eq(1).click();IntegralToNow()}$("#member_photo").error(function(){$(this).attr("src","/images/001.png")})})}function fightCateringTableOrderList(){var t=$(".cateringTableList-ul>li.active").attr("data-id"),n="";$.getJSON("/Catering/GetWithoutListByTableId",{tableId:t},function(t){if(t&&t.length>0)for(var i=0;i<t.length;i++)n+='<li data-id="'+t[i].wt_nober+'" data-personNum ="'+t[i].sv_person_num+'"',n+=' data-withListId="'+t[i].sv_without_list_id+'" ',n+='data-tableid="'+t[i].sv_table_id+'" data-grade="'+t[i].sv_catering_grade+'">',n+='<div class="tablename"><span>'+t[i].sv_catering_grade+"("+t[i].sv_person_num+"\u4eba)<\/span><\/div>",n+='<div class="tablename ordernumber"><span>'+t[i].wt_nober+"<\/span><\/div>",n+='<div class="tablename orderTime"><span>'+new Date(t[i].wt_datetime).Format("MM-dd hh:mm:ss")+"<\/span><\/div>",n+="<\/li>";$("#cateringTableOrderListHtml").html(n)})}function getGuandanmModelByTableId(n,t,i,r){var f=$("#catering_CateringGrade").attr("data-tableid"),u;f>0&&f==n&&$("#catering_CateringGrade").text(t);u="";$.getJSON("/Catering/GetGuandanmModelByTableId",{tableId:n,withoutListId:i,queryType:r},function(n){var i,r,h,s,l,o,e,f,p,b,y;if(n!=null){if(setCateringGradeInfo(t,n.sv_table_id,n.sv_without_list_id,n.sv_person_num,!1,!1),$("#danhao").text(n.wt_nober),$("#Cashlefsit").html(""),i=n.prlist,i.length>0)for(r=0;r<i.length;r++){if(h=0,h=i[r].sv_pricing_method==1?i[r].sv_p_weight:i[r].product_num,s="",l="",i[r].productTasteJson!=null&&i[r].productTasteJson.length>0)for(o=eval(i[r].productTasteJson),f=0;f<o.length;f++)s+='<i data-id="'+o[f].sv_taste_id+'" data-price="'+o[f].sv_taste_price+'" data-type="0" class="productTaste">'+o[f].sv_taste_name+"("+o[f].sv_taste_price+")<\/i>";if(i[r].cateringChargingJson&&i[r].cateringChargingJson.length>0)for(e=eval(i[r].cateringChargingJson),f=0;f<e.length;f++)p=e[f].sv_charging_type==0?1:2,b=e[f].sv_charging_type==0?"addFoods":"addFoodSpec",s+='<i data-id="'+e[f].sv_taste_id+'" data-price="'+e[f].sv_taste_price+'" data-type="'+p+'" class="addFoodSpec">'+e[f].sv_charging_name+"("+e[f].sv_taste_price+")<\/i>";i[r].sv_is_packing&&(s+='<i data-id="0" data-price="'+i[r].sv_packing_charges+'" data-type="3" class="productblae">\u6253\u5305('+i[r].sv_packing_charges+")<\/i>");i[r].sv_remark&&(l='<p class="foodsRemarks"><span style="padding-right:5px;">\u5907\u6ce8:<\/span><span class="orderProductRemarks">'+i[r].sv_remark+"<\/span><\/p>");var a=returnFloat(i[r].sv_p_minunitprice)==0?"":returnFloat(i[r].sv_p_minunitprice),v=returnFloat(i[r].sv_p_mindiscount)==0?"":returnFloat(i[r].sv_p_mindiscount),w=returnFloat(i[r].sv_p_memberprice)==0?"":returnFloat(i[r].sv_p_memberprice),c="";w>0?c='<p class="nn4" style="color:red"><span class="fl">\u4f1a\u5458\u5355\u4ef7\u00a5 <text class="memberprice">'+returnFloat(w)+"<\/text><\/span><\/p>":v>0?c=is_mindiscount_priceShow?'<p class="nn4" style="color:red;"><span class="fl">\u6700\u4f4e\u6298\u6263 <text class="mindiscount">'+v*10+"<\/text>%<\/span><\/p>":'<p class="nn4" style="color:red; display: none;"><span class="fl">\u6700\u4f4e\u6298\u6263 <text class="mindiscount">'+v*10+"<\/text>%<\/span><\/p>":a>0&&(c=is_mindiscount_priceShow?'<p class="nn4" style="color:red;"><span class="fl">\u6700\u4f4e\u5355\u4ef7\u00a5 <text class="minunitprice">'+returnFloat(a)+"<\/text><\/span><\/p>":'<p class="nn4" style="color:red; display: none;"><span class="fl">\u6700\u4f4e\u5355\u4ef7\u00a5 <text class="minunitprice">'+returnFloat(a)+"<\/text><\/span><\/p>");y=!1;i[r].setup&&i[r].setup.is_no_wholediscount&&(y=!0);u+='<li  data-sv_order_guid="'+NewGuid()+'"  data-producttype_id="'+i[r].producttype_id+'" data-is_no_wholediscount="'+y+'" data_order_product_status="'+data_order_product_status.Pendding+'" data-product_total="'+i[r].product_total+'" data-mindiscount="'+i[r].sv_p_mindiscount+'" data-minunitprice="'+i[r].sv_p_minunitprice+'" ';u+='data-memberprice="'+i[r].sv_p_memberprice+'" id="'+i[r].product_id+'" data-product_discount="'+i[r].product_discount+'"';u+='data-pricingmethod="'+i[r].sv_pricing_method+'" data-product_number="'+h+'"';u+='data-prname ="'+i[r].product_name+'" data-untprice="'+i[r].product_unitprice+'" ';u+='data-categoryId="'+i[r].productcategory_id+'" data-smallcategoryId="'+i[r].productsubcategory_id+'" data-url ="" data-packprice="'+i[r].sv_packing_unitprice+'" data-printerip="'+i[r].sv_printer_ip+'" data-printerport="'+i[r].sv_printer_port+'" data-sv_without_product_id = "'+i[r].sv_without_product_id+'">';u+='<div class="cateringProductNamebox"><p class="cateringProductName">'+i[r].product_name+"<\/p><\/div>";u+='<div class="cateringProductNumberbox">';u+='<span class="cateringProductNumber nump">'+h+"<\/span>";u+="<\/div>";u+='<div class="cateringProductpricebox"><span class="cateringProductprice"><i>\u00a5<\/i><i class="zhong" ';u+=' data-sv_p_originalprice="'+i[r].sv_p_originalprice+'">'+parseFloat(i[r].product_total).toFixed(2)+"<\/i><\/span><\/div>";u+='<text style="display:none;" class="jiage" data-rjia="'+i[r].product_unitprice+'" data-orgprice="'+i[r].product_unitprice+'"> '+i[r].product_unitprice+"<\/text>";u+='<div class="cateringProductMoreinfo catering_taste_list">'+s+"<\/div>";u+='<div class="cateringProductMoreinfo catering_taste_remarks">'+l+"<\/div>";u+='<div class="cateringProductMoreinfo naerigh_new">'+c+"<\/div>";u+="<\/li>"}$("#Cashlefsit").html(u);zhonger()}else $("#Cashlefsit").html(""),getCashierRegionTableInfo(0,!0,!0,0,-1)})}function eatNumberFn(n,t){setTimeout(function(){$("#jishukuan").val("").focus();$("#updateNum_en").hide();$(".posia").click(function(){$("#jishukuan").val("")});var i=$(".cateringTableList-ul>li.active").attr("data-name");$("#woquren").click(function(){if($("#jishukuan").val().replace(/\ +/g,"")){var r=$("#jishukuan").val().replace(/\ +/g,"");t==0&&operateCateringTableByOperateType(n,r,0,0,0);t==1&&(setCateringGradeInfo(i,n,0,r,!0,!1),closeCateringFunc(-1),$("#openCateringTableContent").hide(),shuxin(),$("#Cashlefsit").html(""),zhonger(),layer.closeAll())}else layer.msg("\u8bf7\u8f93\u5165\u5c31\u9910\u4eba\u6570\uff01"),$("#jishukuan").focus()})},200)}function cateringChangeCateringTable(){setTimeout(function(){var t='<li data-id="-1" class="active">\u5168\u90e8<\/li>',n;if(_g_cateringRegionListCacheJson&&_g_cateringRegionListCacheJson.length>0){for(n=0;n<_g_cateringRegionListCacheJson.length;n++)t+='<li data-id="'+_g_cateringRegionListCacheJson[n].sv_region_id+'" >'+_g_cateringRegionListCacheJson[n].sv_region_name+"<\/li>";$("#catering_tableArealist_html").html(t)}getCashierRegionTableInfo(2,!1,!1,0,0)},100)}function commondCleanOderInfos(){resetSettlementInformation();commondCleanCateringGrade()}function closeCateringFunc(n){$("#funcCateringFistFreeTable").hide();$("#funcCateringAlreadyOpen_Table").hide();$("#funcCateringAlreadyOpen_Table_foods").hide();$("#funcCateringDefault").hide();n==-1?$("#funcCateringDefault").show():n==0?($("#funcCateringDefault").show(),$("#btnCateringOpenCateringTable").click()):n==1?$("#funcCateringAlreadyOpen_Table").show():n==2?$("#funcCateringAlreadyOpen_Table_foods").show():n==3&&$("#btnCateringCloseCateringTable").click()}function getCashierRegionTableInfo(n,t,i,r,u){var s='<li data-id="-1" class="swiper-slide activ"><span>\u5168\u90e8<\/span><\/li>',f="",e,o,h;$.getJSON("/Catering/GetCashierRegionTableInfo",{QueryType:n||0,PageIndex:1,PageSize:200,queryRegion:t,queryTableCount:i,regionId:r,using_state:u},function(t){var r=t.cateringTablePageList,p,l,u,k,d,c,i;if(n<2){if(p=t.cateringTableCount,n==0){if(l=t.cateringRegionList,l!=null&&l.length>0)for(_g_cateringRegionListCacheJson=l,i=0;i<l.length;i++)s+='<li data-id="'+l[i].sv_region_id+'" class="swiper-slide"><span>'+l[i].sv_region_name+"<\/span><\/li>";$("#cateringRegionNavListHtml").html(s);setTimeout(function(){var n=new Swiper(".swiper-container_table",{slidesPerView:6,paginationClickable:!0,spaceBetween:4,freeMode:!0})},200)}else n==1;if(r!=null&&r.length>0)for(e=Math.ceil(r.length/cateringPageSize),u=0;u<e;u++){for(o=u==e-1?cateringPageSize*(u+1)-(cateringPageSize*(u+1)-r.length):cateringPageSize*(u+1),h=u*cateringPageSize,f+='<div class="swiper-slide"><ul class="tablelist-ul cateringTableList-ul" style="min-height:340px;">',i=h;i<o;i++){var a="",v="",w="",b=0,y=r[i].sv_table_number;r[i].sv_table_using_state==0?(a="tableidle",v="\u7a7a\u95f2"):r[i].sv_table_using_state==1?(a="orderdishes",v="\u70b9\u83dc",y=r[i].sv_table_use_number):r[i].sv_table_using_state==2?(a="tableuseing",v=minuteByDateTimeTemp(r[i].sv_table_begindate),y=r[i].sv_table_use_number):r[i].sv_table_using_state==3&&(a="tableclearing",v="\u5f85\u6e05\u684c",y=r[i].sv_table_use_number);r[i].sv_table_is_merge?(w="\u5e76\u53f0",b=1):r[i].sv_table_is_together&&(w="\u62fc\u53f0",b=2);f+='<li data-id="'+r[i].sv_table_id+'" data-personNum ="'+r[i].sv_table_use_number+'" data-name="'+r[i].sv_table_name+'" ';f+='data-mergeparentid="'+r[i].sv_table_merge_parentid+'" data-type="'+b+'" data-state="'+r[i].sv_table_using_state+'" class="'+a+'">';f+='<div class="peoplenumber"><span>'+y+"\u4eba\u684c<\/span><\/div>";f+='<div class="tablenumber"><span>'+r[i].sv_table_name+"<\/span><\/div>";f+='<div class="tablestatus"><span>'+v+'<\/span><span class="addtablenumber">'+w+"<\/span><\/div><\/li>"}f+="<\/ul><\/div>"}else f+='<li class="addtable"><a href="/CateringTable/Table">\u6dfb\u52a0\u623f\u53f0<\/a><\/li>';for(k in p)$("#"+k).html(p[k]);$("#cateringTableListHtml").html(f)}else if(n==2){if(d=$(".cateringTableList-ul>li.active").attr("data-id"),c="",r.length>0)for(i=0;i<r.length;i++)d!=r[i].sv_table_id&&(c+='<li data-id="'+r[i].sv_table_id+'" data-personNum ="'+r[i].sv_table_use_number+'"',c+='data-state="'+r[i].sv_table_using_state+'" data-name="'+r[i].sv_table_name+'" >',c+='<div class="peopleNumber"><span>'+r[i].sv_table_number+"\u4eba\u684c<\/span><\/div>",c+='<div class="tableNumber"><span>'+r[i].sv_table_name+"<\/span><\/div>",c+='<div class="tablestat"><span>\u7a7a\u95f2<\/span><\/div>',c+="<\/li>");$("#catering_free_tableList").html(c)}})}function operateCateringTableByOperateType(n,t,i,r,u){var f={OperateTableId:n,OpenTableNum:t,AndCateringTableIds:i,ChangeOrFightCateringTableId:r,OperateType:u},e=$(".cateringTableList-ul>li.active").attr("data-name");f.OperateTableId==null||f.OperateTableId==""||f.OperateTableId==undefined||f.OperateTableId<=0?layer.msg("\u8bf7\u9009\u62e9\u8981\u64cd\u4f5c\u7684\u623f\u53f0"):f.OperateType!=0||/^[1-9]*[1-9][0-9]*$/.test(f.OpenTableNum)?(f.OperateType==3||f.OperateType==4)&&(f.ChangeOrFightCateringTableId<=0||f.ChangeOrFightCateringTableId==null||f.ChangeOrFightCateringTableId==undefined||f.ChangeOrFightCateringTableId=="")?f.OperateType==3?layer.msg("\u8bf7\u8bf7\u9009\u62e9\u623f\u53f0\uff01"):layer.msg("\u8bf7\u8bf7\u9009\u62e9\u623f\u53f0\uff01"):f.OperateType==5&&f.AndCateringTableIds.length<=0?layer.msg("\u8bf7\u8bf7\u9009\u62e9\u623f\u53f0\uff01"):$.post("/Catering/OperateCateringTableByOperateType",f,function(i){i.succeed?f.OperateType==0?($("#catering_CateringGrade").text(e).attr("data-tableId",n).attr("data-withListId",0).attr("data-personNum",t).attr("data-together",!1).attr("data-addFood",!1),setTimeout(function(){layer.closeAll();$("#openCateringTableContent").hide()},300)):f.OperateType==1?(commondCleanCateringGrade(),layer.closeAll(),layer.msg("\u64cd\u4f5c\u6210\u529f"),getCashierRegionTableInfo(0,!0,!0,0,-1),$("#operatinglist").hide()):(u==5||u==3)&&(commondCleanCateringGrade(),$("#Cashlefsit").html(""),zhonger(),shuxin(),setTimeout(function(){layer.closeAll()},300),getCashierRegionTableInfo(0,!0,!0,0,-1),$("#operatinglist").hide()):(layer.msg(i.errmsg),getCashierRegionTableInfo(0,!0,!0,0,-1));try{socket.emit("common_by_shop_refresh_desk_server",{user_id:1})}catch(r){}}):(layer.msg("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u5c31\u9910\u4eba\u6570\uff01"),$("#jishukuan").val("").focus())}function loadCateringTasteInfo(){var f=$("#Cashlefsit .active").attr("id"),e=$("#Cashlefsit .active").attr("data-categoryid"),r,u;$("#cateringProductName").html($("#Cashlefsit .active").attr("data-prname"));$("#cateringProductPrice").html($("#Cashlefsit .active").find(".jiage").text());$("#cateringProductNowPrice").html($("#Cashlefsit .active").find(".jiage").data("rjia"));$("#cateringProductNum").html($("#Cashlefsit .active").find(".nump").text());$("#cateringProductTotalPrice").html($("#Cashlefsit .active").find(".zhong").text());$("#cateringProductImgUrl").attr("src",_g_res_images_url+$("#Cashlefsit .active").attr("data-url"));$("#cateringPackingCharges").html($("#Cashlefsit .active").attr("data-packprice"));r=$("#Cashlefsit li.active").find(".catering_taste_list i.productblae");u=$("#Cashlefsit li.active").find(".catering_taste_remarks .orderProductRemarks").text();r&&r.length==1&&$("#ckCateringIsPacking").attr("checked","true");u&&$("#txtOrderProductRemarks").val(u);var n="",t="",i="";$.getJSON("/Catering/GetCashierTasteInfoQueryByProductId",{productId:f,productcategoryId:e},function(r){var u,h,s,c;if(r){var e=r.tasteList,o=r.chargingList,f=r.specList;if(e.length>0){for(n+='<div class="title">\u53e3\u5473\uff1a<\/div><ul>',u=0;u<e.length;u++)n+='<li class="'+selectProductTasteActive(e[u].id,0)+'" data-sv_newspec_algorithm="0"  data-spec_multiple="0"  data-id="'+e[u].id+'" data-name="'+e[u].name+'" data-price="'+e[u].price+'">'+e[u].name+" "+e[u].price+"<\/li>";n+="<\/ul>"}if(o.length>0){for(t+='<div class="title">\u52a0\u6599\uff1a<\/div><ul>',u=0;u<o.length;u++)t+='<li class="'+selectProductTasteActive(o[u].id,1)+'" data-sv_newspec_algorithm="0" data-spec_multiple="0" data-id="'+o[u].id+'" data-name="'+o[u].name+'" data-price="'+o[u].price+'">'+o[u].name+" "+o[u].price+"<\/li>";t+="<\/ul>"}if(f.length>0){for(i+='<div class="title">\u89c4\u683c\uff1a<\/div><ul>',u=0;u<f.length;u++)h=0,s=0,f[u].sv_newspec_algorithm&&f[u].sv_newspec_algorithm==1?(h=f[u].sv_spec_multiple,s=f[u].sv_p_unitprice):s=f[u].price,c=s==0?h==0?0:"X"+h+"\u500d":s,i+='<li class="'+selectProductTasteActive(f[u].id,2)+'" data-sv_newspec_algorithm="'+f[u].sv_newspec_algorithm+'" data-spec_multiple="'+h+'" data-id="'+f[u].id+'" data-name="'+f[u].name+'" data-price="'+s+'">'+f[u].name+" "+c+"<\/li>";i+="<\/ul>"}}$("#cateringTasteListHtml").html(n);$("#cateringChargingListHtml").html(t);$("#cateringSpecLstHtml").html(i)})}function selectProductTasteActive(n,t){var f=$("#Cashlefsit li.active").find(".catering_taste_list i"),i=[],u,r;if(f.length>0&&$.each(f,function(){var n={sv_taste_id:$(this).attr("data-id"),sv_taste_data_type:$(this).attr("data-type")};i.push(n)}),u="",i.length>0)for(r=0;r<i.length;r++)n==i[r].sv_taste_id&&i[r].sv_taste_data_type==t&&(u="active");return u}function changeCateringProductTotalPrice(n,t,i){var v,l,f,e,y,s,k,o,w,d;i=i||!1;var u=0,p=0,h=n.hasClass("active"),c=parseFloat($("#cateringProductNowPrice").text()||0),r=parseFloat($("#cateringProductNum").text()||0),a=0;if(i){if(a=$("#cateringSpecLstHtml li.active").data("sv_newspec_algorithm")||0,v=parseFloat($("#cateringSpecLstHtml li.active").data("price")||0),l=n.data("sv_newspec_algorithm")||0,a==1&&l!=1){var f=parseFloat($("#Cashlefsit li.active").find(".jiage").attr("data-orgprice")||0),e=parseFloat($("#Cashlefsit li.active").find(".jiage").attr("data-rjia")||0),b=parseFloat($("#cateringProductTotalPrice").text()||0);f==e&&e!=v?$("#cateringProductTotalPrice").text(b-v*r+(f==0?e:f)*r):$("#cateringProductTotalPrice").text(b-e*r+(f==0?e:f)*r);$("#cateringProductNowPrice").text(f==0?e:f);c=f==0?e:f}else a!=1&&l==1?(f=parseFloat($("#Cashlefsit li.active").find(".jiage").attr("data-orgprice")||0),e=parseFloat($("#Cashlefsit li.active").find(".jiage").attr("data-rjia")||0),u+=(f==0?e:f)*r):a==1||l==1||h?l==1&&h&&(e=parseFloat($("#Cashlefsit li.active").find(".jiage").attr("data-rjia")||0),u+=e*r):u+=v*r;h&&n.removeClass("active");y=$("#cateringSpecLstHtml li.active");y&&y.length>0&&n.data("sv_newspec_algorithm")&&n.data("sv_newspec_algorithm")==1&&$.each(y,function(){$(this).data("sv_newspec_algorithm")&&$(this).data("sv_newspec_algorithm")==1?parseFloat($(this).attr("data-price"))>0?u+=parseFloat($(this).attr("data-price"))*r:$(this).data("spec_multiple")&&$(this).data("spec_multiple")>0&&(u+=parseFloat(parseFloat($("#Cashlefsit li.active").data("untprice"))*parseFloat($(this).data("spec_multiple")))*r):u+=parseFloat($(this).attr("data-price"))*r});$("#cateringSpecLstHtml li").removeClass("active")}s=0;n.data("sv_newspec_algorithm")&&n.data("sv_newspec_algorithm")==1?h?n.data("price")>0?(p=c*r,u=n.data("price")*r):n.data("spec_multiple")&&n.data("spec_multiple")>0&&(p=c*r,u=parseFloat(parseFloat($("#Cashlefsit li.active").data("untprice"))*parseFloat(n.data("spec_multiple")))*r):n.data("price")>0?(s=n.data("price"),u==0&&(u=c*r)):n.data("spec_multiple")&&n.data("spec_multiple")>0&&(s=parseFloat(parseFloat($("#Cashlefsit li.active").data("untprice"))*parseFloat(n.data("spec_multiple"))),u==0&&(u=c*r)):s=parseFloat(n.attr("data-price")||0);k=n.attr("data-id");o=parseFloat($("#cateringProductTotalPrice").text()||0);o=parseFloat(+o+p-u);t&&(w=$("#cateringSpecLstHtml li.active").attr("data-price"),d=$("#cateringSpecLstHtml li.active").attr("data-id"),w>0&&k!=d&&(o=o-parseFloat(w)),$("#cateringSpecLstHtml li").removeClass("active"));h?(n.removeClass("active"),o=o-s*r):(n.addClass("active"),o=o+s*r);$("#cateringProductTotalPrice").text(o.toFixed(2))}function saveCateringSelectTableInfo(n){setTimeout(function(){$("#woquren").click(function(){if($("#jishukuan").val().replace(/\ +/g,"")){var i=$(".cateringTableList-ul>li.active").attr("data-id"),t=$("#jishukuan").val().replace(/\ +/g,"");t>0?operateCateringTableByOperateType(i,t,n,0,5):(layer.msg("\u8bf7\u8f93\u5165\u5c31\u9910\u4eba\u6570\uff01"),$("#jishukuan").focus())}else layer.msg("\u8bf7\u8f93\u5165\u5c31\u9910\u4eba\u6570\uff01"),$("#jishukuan").focus()})},100)}function couponList(){var n=$("#huiyuan_id").attr("data-id");isNullOrWhiteSpace(n)&&n>0&&getCouponListByMemberIdOrCouponCode(n,null,0)}function getCouponListByMemberIdOrCouponCode(n,t,i){var u=$("#hidden_coupon_record_id").val(),r="";$.getJSON("/Coupon/GetCouponListByMemberIdOrCouponCode",{memberId:n,couponCode:t,queryType:i},function(n){var t,o,e,f,i,s;if(n&&n.length>0)for(t=0;t<n.length;t++)o="",n[t].sv_record_id==u&&(o='class="active"'),e="",f=0,n[t].sv_coupon_termofvalidity_type==0?(f=Date.parse(new Date(n[t].sv_coupon_enddate)),f=f/1e3,e=new Date(n[t].sv_coupon_bendate).Format("yyyy-MM-dd")+"-"+new Date(n[t].sv_coupon_enddate).Format("yyyy-MM-dd")):(i=new Date(n[t].sv_coupon_bendate),i.setDate(i.getDate()+n[t].sv_coupon_numday),s=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate(),e=new Date(n[t].sv_coupon_bendate).Format("yyyy-MM-dd")+"-"+s),r+='<li data-id ="'+n[t].sv_record_id+'" data-money="'+n[t].sv_coupon_money+'" data-type="'+n[t].sv_coupon_type+'" data-conditions="'+n[t].sv_coupon_use_conditions+'" data-time="'+f+'" '+o+'><i class="selectcoupon"><\/i>',r+='<div class="searchcouponlistinfo"><div class="couponinfo">',r+="<span>"+n[t].sv_coupon_name+'<\/span><\/div><div class="coupontime">',r+="<span>\u6709\u6548\u671f\uff1a<i>"+e+"<\/i><\/span><\/div><\/div>",r+='<div class="couponmoney"><span><\/span><i class="moneytype">'+n[t].sv_coupon_money+"<\/i>",r+="<\/div><\/li>";$("#couponListHtml").html(r)})}function viewTheTransaction(){getCashierOrderListPagelist(0,1,50,null)}function returngoods_N3(){if(productlistJsonList!=null&&productlistJsonList.length>0){var n=$("#jieshuajie2").text();$("#returngoods").unbind("click","#returngoods_N3").on("click","#returngoods_N3",function(){var i="0",t;$("#huiyuan_id").attr("data-id")!=null&&$("#huiyuan_id").attr("data-id")!=""&&!$("#huiyuan_id").attr("data-id")!=undefined&&(i=$("#huiyuan_id").attr("data-id"));t={return_cause:$("#return_cause").val(),sv_remarks:$("#return_remark").val(),user_nober:i,prlist:productlistJsonList};$.ajax({url:"/intelligent/ProductReturn",type:"post",data:JSON.stringify(t),contentType:"application/json",async:!1,success:function(i){i?i==-2?layer.msg("\u4f60\u6ca1\u6709\u8be5\u64cd\u4f5c\u6743\u9650"):(resetSettlementInformation(),layer.closeAll(),layer.open({type:1,area:["300px","200px"],shadeClose:!1,content:'<div class="box-center"><div class="success-bg"><\/div><p>\u9000\u8d27\u6210\u529f <\/p><\/div>',time:"1500"}),is_SingleProduct_ReturnGoods=!1,$("#Cashchongzhi").attr("style","font-family: SimHei"),$("#Cashlebtn").text(_Settlement_text),$("#Should_be_charged").text(_Should_be_charged_text),$("#settlementReturnGoods").text("\u9000\u8d27"),is_open_print!=null&&Boolean(parseInt(is_open_print.split("@")[1]))?(t&&i&&(i.order_running_id&&(t.order_running_id=i.order_running_id),i.order_operator&&(sv_current_operato=i.order_operator)),t.user=i.user,t.order_payment="\u73b0\u91d1",t.order_payment2="\u5f85\u6536",t.sv_order_total_money=n,t.order_money=n,$.getJSON("/system/Getprint",function(i){pushprintData(JSON.stringify(t),JSON.stringify(i),0,n,"0","0",!1,"\u5546\u54c1\u9000\u8d27");cateringPrint(t,i)})):open_cashbox_func()):layer.msg("\u64cd\u4f5c\u5931\u8d25\uff01")}})})}else layer.msg("\u8bf7\u9009\u62e9\u8981\u9000\u8d27\u7684\u5546\u54c1")}function getCashierOrderListPagelist(n,t,i,r,u,f,e,o,s,h,c){var w,b,y,p;if(!$("#selectstartDate").val()||!$("#selectendDate").val()){var k=(new Date).Format("yyyy-MM-dd hh:mm"),v=new Date,d=new Date;v.setDate(d.getDate()-1);var g=v.getFullYear(),nt=v.getMonth()+1,tt=new Date(g+"-"+nt+"-"+v.getDate()).Format("yyyy-MM-dd hh:mm");$("#selectstartDate").val(tt);$("#selectendDate").val(k);optercomentfntime()}e=e||1;w=0;b=!1;n==1001&&(b=!0,n=0);y=!1;p=0;isNullOrWhiteSpace($("#selectstartDate").val()||$("#selectendDate").val())&&(w=4);var a="",l="",it=commonOpenLoading();$.getJSON("/settle/GetCashierOrderListPagelist",{QueryType:n||0,pageIndex:1,pageSize:50,seachStr:r,queryDayType:w,IsQueryPageList:!0,beginDate:$("#selectstartDate").val()||"",endDate:$("#selectendDate").val(),order_id:u||"",queryDayNumber:""},function(t){var f,ut,g,i,v,k,w,nt,tt,ot,st,rt,ht;if(commonCloseLoading(it),t)if(n==0){if(f=t.orderList,f&&f.length>0)for(i=0;i<f.length;i++)ut=f[i].order_money+f[i].order_money2>0?f[i].order_money+f[i].order_money2-f[i].sv_give_change:f[i].order_money+f[i].order_money2,a+='<li  class="sv_order_list_id_'+f[i].order_id+'"data-sv_order_source='+f[i].sv_order_source+' data-sv_assembledetail_w_list_id = "'+f[i].sv_assembledetail_w_list_id+'" data-order_discount="'+f[i].order_discount+'" data-id="'+f[i].order_id+'" data-state="'+f[i].order_state+'"  data-order_money_bak="'+(f[i].order_money_bak+f[i].order_money2_bak-f[i].sv_give_change_bak)+'" data-order_money="'+ut+'" data-free_change_bak="'+f[i].free_change_bak+'" data-member_id="'+f[i].user_cardno+'">',a+='<div class="cateringPendingOrderlistNumber">',a+=_g_sv_uit_cache_name=="cache_name_catering"?"<span>"+(f[i].sv_catering_grade||"")+"<\/span><\/div>":"<span>"+(i+1)+"<\/span><\/div>",a+='<div class="cateringPendingOrderlistinformation">',a+='<div class="cateringPendingOrderNumber"><span>'+f[i].order_running_id+"<\/span><\/div>",a+='<div class="cateringPendingOrderTime"><span class="fl">'+new Date(f[i].order_datetime).Format("MM-dd hh:mm:ss")+"<\/span>",a+='<span class="cateringPendingOrderRemarks" style="display:none;">'+f[i].sv_remarks+"<\/span>",f[i].order_state==1?a+='<span class="fr"><i class="orderPeopleNumber">\u6709\u9000\u8d27<\/i><\/span><\/div>':f[i].order_state==2?(a+='<span class="fr"><i class="orderPeopleNumber">\u5df2\u9000\u8d27<\/i><\/span><\/div>',$("#catering_order_product tr td:last-child").html("<td>\u5df2\u9000\u8d27<\/td>")):a+='<span class="fr"><i class="orderPeopleNumber"><\/i><\/span><\/div>',a+="<\/div><\/li>";$("#cashierOrderListHtml").html(a);b&&$(".sv_order_list_id_"+u).click()}else if(n==2){$("#btnOrderSendMsg").hide(0);var r=t.orderProductList,ft=0,ct=0,d=0,et=parseFloat(o)||0,lt=parseFloat(h)||0,at=parseFloat(s)||0;if(r&&r.length>0){for(l+="<thead><tr><th>\u5e8f\u53f7<\/th>",_g_sv_uit_cache_name=="cache_name_catering"?(l+="<th>\u83dc\u54c1<\/th>",g=$("#cashierOrderListHtml li.active").attr("data-member_id")||"",g&&g!="0"&&$("#btnOrderSendMsg").show(0)):l+="<th>\u5546\u54c1<\/th>",l+="<th>\u89c4\u683c<\/th><th>\u6570\u91cf<\/th><th>\u5355\u4ef7<\/th><th>\u552e\u4ef7<\/th><th>\u64cd\u4f5c<\/th><\/tr><\/thead>",l+='<tbody id="catering_order_product">',i=0;i<r.length;i++){v="";try{if(r[i].cateringChargingJson)for(k=JSON.parse(r[i].cateringChargingJson),w=0;w<k.length;w++)v+=k[w].sv_taste_name+"("+k[w].sv_taste_price+")"}catch(vt){}nt=r[i].sv_p_name||"\u65e0\u7801\u6536\u94f6";v&&v.length>1&&(nt+=v);l+="<tr> <td>"+(i+1)+'<\/td><td style="width:100px;">'+nt+"<\/td>";l+="<td>"+r[i].sv_p_specs+"<\/td>";tt=r[i].sv_pricing_method==1?r[i].sv_p_weight_bak:r[i].product_num_bak;l+="<td>"+tt+"<\/td>";l+="<td>"+r[i].product_unitprice+"<\/td> <td>"+(r[i].product_total_bak*e-at).toFixed(2)+"<\/td>";ot=r[i].sv_pricing_method==1?r[i].sv_p_weight:r[i].product_num;l+="";l+=r[i].order_stutia==2?'<td class="Proofofreturn">\u5df2\u9000\u8d27<\/td>':c>0?'<td><a href="javascript:void(0)" style="pointer-events:none;color:#b5b1b1" data-id="'+r[i].id+'" data-num="'+(r[i].sv_pricing_method==1?r[i].sv_p_weight:r[i].product_num)+'" order_state="'+r[i].order_stutia+'" data-pricingmethod="'+r[i].sv_pricing_method+'" data-prid="'+r[i].product_id+'" class="remarksDetails" data-mp_id='+(r[i].sv_mp_id||-1)+"  data-sales_type="+(r[i].sv_product_sales_type||-1)+">\u9000\u6b3e<\/a><\/td><\/tr>":'<td><a href="javascript:void(0)" data-id="'+r[i].id+'" data-num="'+(r[i].sv_pricing_method==1?r[i].sv_p_weight:r[i].product_num)+'" order_state="'+r[i].order_stutia+'" data-pricingmethod="'+r[i].sv_pricing_method+'" data-prid="'+r[i].product_id+'" class="remarksDetails" data-mp_id='+(r[i].sv_mp_id||-1)+"  data-sales_type="+(r[i].sv_product_sales_type||-1)+">\u9000\u6b3e<\/a><\/td><\/tr>";r[i].sv_mp_id&&r[i].sv_product_sales_type&&r[i].sv_product_sales_type>0&&r[i].sv_mp_id>=0&&(p=r[i].sv_order_list_id,y=!0);ct+=r[i].product_total*e+r[i].sv_taste_total_money;ft+=ot;d+=tt}l+="<\/tbody>"}p>0&&y&&$(".sv_order_list_id_"+p).attr("data-is_mp",y);$("#singleOrderMoney_bak").text(et.toFixed(2));$("#singleOrderNumber_bak").text(d.toFixed(2));$("#singleOrderMoney").text((et-lt).toFixed(2));$("#singleOrderNumber").text((d-ft).toFixed(2));$("#showordermoneybox").show();st=$("#cashierOrderListHtml li.active .cateringPendingOrderRemarks").html();st?($("#singleOrderRemark").text($("#cashierOrderListHtml li.active .cateringPendingOrderRemarks").html()),$("#singleOrderRemark_div").show()):$("#singleOrderRemark_div").hide();$("#cashierOrderProductHtml").html(l);rt=$("#catering_order_product tr td").find(".remarksDetails").length;ht=$("#catering_order_product tr").find(".Proofofreturn").length;rt>0&&ht>0?$("#cashierOrderListHtml li").each(function(){var n=$(this).data("id");n==u&&($("#btnOrderAllReturnGoods").attr("disabled","disabled"),$("#btnOrderListPrint").attr("disabled","disabled"),$(this).children().children().children().find(".orderPeopleNumber").text("\u6709\u9000\u8d27"))}):rt==0&&$("#cashierOrderListHtml li").each(function(){var n=$(this).data("id");n==u&&($("#btnOrderAllReturnGoods").attr("disabled","disabled"),$("#btnOrderListPrint").attr("disabled","disabled"),$(this).children().children().children().find(".orderPeopleNumber").text("\u5df2\u9000\u8d27"))})}})}function orderAllReturnGoods(n){var i=!1,t;try{PreferentialTopUpGivingConfigList("AndroidPrinterConfig","AndroidPrinterConfig");Preferential_TopUpGiving_ConfigList!=null&&Preferential_TopUpGiving_ConfigList.length>0&&(t=$.parseJSON(Preferential_TopUpGiving_ConfigList[0].sv_detail_value),t&&(i=t[0].whetherToEnablenable==!0?!0:!1))}catch(r){layer.msg("\u8bf7\u67e5\u770b\u540e\u53f0\u6253\u5370\u914d\u7f6e")}setTimeout(function(){$("#btnwindowsClose").click(function(){layer.closeAll()});$("#dantuhuo1").click(function(){$("#return_num")==""?layer.msg("\u5355\u54c1\u9000\u8d27\u5fc5\u987b\u8f93\u5165\u6570\u91cf"):(disableButton("dantuhuo1"),$.post("/intelligent/returensales",{order_id:n,return_cause:$("#return_cause").val(),return_remark:$("#return_remark").val(),return_num:0,return_pordcot:0,return_type:0},function(t){t==-2?(enabledButton("dantuhuo1"),layer.msg("\u5bf9\u4e0d\u8d77\uff0c\u60a8\u9000\u8d27\u7684\u6570\u91cf\u8d85\u8fc7\u8d2d\u4e70\u7684\u6570\u91cf\uff0c\u8bf7\u6838\u5bf9\uff01"),layer.close(index)):t==0?(enabledButton("dantuhuo1"),layer.msg("\u5bf9\u4e0d\u8d77\uff0c\u64cd\u4f5c\u9000\u8d27\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u91cd\u8bd5"),layer.close(index)):t==-3?(enabledButton("dantuhuo1"),layer.msg("\u4f60\u6ca1\u6709\u8be5\u64cd\u4f5c\u6743\u9650"),layer.close(index)):(is_open_print!=null&&Boolean(parseInt(is_open_print.split("@")[1]))&&i==!1&&ReturnGoodsPrint(n,"0",0,$("#return_remark").val(),$("#return_cause").val()),enabledButton("dantuhuo1"),layer.msg("\u64cd\u4f5c\u6210\u529f"),product_id=0,order_id="0",layer.close(index),getCashierOrderListPagelist(1001,1,50,null,n))}))})},100)}function returnProduct(n,t,i,r){var f=!1,u;try{PreferentialTopUpGivingConfigList("AndroidPrinterConfig","AndroidPrinterConfig");Preferential_TopUpGiving_ConfigList!=null&&Preferential_TopUpGiving_ConfigList.length>0&&(u=$.parseJSON(Preferential_TopUpGiving_ConfigList[0].sv_detail_value),u&&(f=u[0].whetherToEnablenable==!0?!0:!1))}catch(e){layer.msg("\u8bf7\u67e5\u770b\u540e\u53f0\u6253\u5370\u914d\u7f6e")}setTimeout(function(){$("#return_num").attr("data-sv_pricing_method",n);$("#btnwindowsClose").click(function(){layer.closeAll()});$("#dantuhuo").click(function(){var n=$("#return_num").val().trim(),u;n==null||n==""||n==undefined?layer.msg("\u5355\u54c1\u9000\u8d27\u5fc5\u987b\u8f93\u5165\u6570\u91cf"):parseFloat(n)>t?layer.msg("\u5bf9\u4e0d\u8d77\uff0c\u60a8\u9000\u8d27\u7684\u6570\u91cf\u8d85\u8fc7\u8d2d\u4e70\u7684\u6570\u91cf\uff0c\u8bf7\u6838\u5bf9\uff01"):(u=$("#cashierOrderListHtml>li.active").attr("data-id"),disableButton("dantuhuo"),$.post("/intelligent/returensales",{order_id:u,return_cause:$("#return_cause").val(),return_remark:$("#return_remark").val(),return_num:$("#return_num").val(),return_pordcot:r,return_type:1,order_product_id:parseInt(i)},function(n){if(n==-2)enabledButton("dantuhuo"),layer.msg("\u5bf9\u4e0d\u8d77\uff0c\u60a8\u9000\u8d27\u7684\u6570\u91cf\u8d85\u8fc7\u8d2d\u4e70\u7684\u6570\u91cf\uff0c\u8bf7\u6838\u5bf9\uff01"),layer.close(index);else if(n==0)enabledButton("dantuhuo"),layer.msg("\u5bf9\u4e0d\u8d77\uff0c\u64cd\u4f5c\u9000\u8d27\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u91cd\u8bd5"),layer.close(index);else if(n==1){var t=$("#return_num").val(),i=$("#return_cause").val(),e=$("#return_remark").val();enabledButton("dantuhuo");layer.msg("\u64cd\u4f5c\u6210\u529f");product_id=0;layer.close(index);is_open_print!=null&&Boolean(parseInt(is_open_print.split("@")[1]))&&f==!1&&ReturnGoodsPrint(u,r,t,e,i);getCashierOrderListPagelist(1001,1,50,null,u)}else n==-3?(enabledButton("dantuhuo"),layer.msg("\u5bf9\u4e0d\u8d77\uff0c\u60a8\u6ca1\u6709\u8be5\u529f\u80fd\u64cd\u4f5c\u6743\u9650\uff0c\u627e\u60a8\u7684\u8001\u677f\u5f00\u901a\u5427\uff01"),layer.close(index)):(enabledButton("dantuhuo"),layer.msg("\u64cd\u4f5c\u5931\u8d25\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01"),layer.close(index))}))})},100)}function ReturnGoodsPrint(n,t,i,r,u){GetReturnGoods(n,t,i,r,u)}function GetReturnGoods(n,t,i,r,u){$.getJSON("/intelligent/SalesLogPrint?order_id="+n,function(n){var e,h,a,c,l,y,s;if(n){n==-1?(layer.msg("\u6253\u5370\u5931\u8d25\uff01"),layer.close(index)):n==-2?(layer.msg("\u6ca1\u6709\u6743\u9650\u64cd\u4f5c\uff01"),layer.close(index)):n.prdata.user=n.myuser;var f=n.prdata,o=0,v=0;if(f&&f.prlist&&f.prlist.length>0)for(o=f.sv_order_total_money?f.sv_order_total_money:0,(f.order_money_bak||f.order_money2_bak)&&(v=parseFloat(f.order_money_bak||0)+parseFloat(f.order_money2_bak||0),v>0&&(o=v)),e=0;e<f.prlist.length;e++){if(f.prlist[e].cateringChargingJson){h="";try{if(f.prlist[e].cateringChargingJson)for(a=JSON.parse(f.prlist[e].cateringChargingJson),c=0;c<a.length;c++)h+=a[c].sv_taste_name+"("+a[c].sv_taste_price+")"}catch(p){}h&&h.length>1&&(f.prlist[e].product_name+=h)}else f.prlist[e].sv_p_specs&&(f.prlist[e].pf_newspec="["+f.prlist[e].sv_p_specs.replace(",",".")+"]");if(l=f.prlist[e].sv_pricing_method==1?f.prlist[e].sv_p_weight_bak:f.prlist[e].product_num_bak,t&&t!="0"){if(f.prlist[e].product_id==t){o=(f.prlist[e].product_total_bak/l*i).toFixed("2");l=i;f.prlist[e].product_num=l;f.prlist[e].product_total=o;f.prlist[e];f.prlist[e].sv_order_total_money=o;y=[];y.push(f.prlist[e]);s={prlist:y,return_cause:u,sv_remarks:r,order_running_id:f.order_running_id};s.user=n.myuser;s.order_money=o;s.sv_order_total_money=o;s.order_payment=f.order_payment;s.order_payment2=f.order_payment2;pushprintData(JSON.stringify(s),JSON.stringify(n.peizhi),0,0,"0","0",!1,"\u5355\u54c1\u9000\u8d27");break}}else f.prlist[e].product_num=l,f.prlist[e].product_total=f.prlist[e].product_total_bak}t&&t=="0"&&(f.sv_order_total_money=o,f.order_money_bak||f.order_money2_bak?(f.order_money=f.order_money_bak,f.order_money2=f.order_money2_bak):f.order_money=o,f.sv_remarks=r,pushprintData(JSON.stringify(n.prdata),JSON.stringify(n.peizhi),0,0,"0","0",!1,"\u6574\u5355\u9000\u8d27"));return}})}function resetSettlementInformation(){if(sales_promotion_conditions=[],settlement_product_list=[],promotion_product_guid=[],sv_discount_config=[],$("#sv_mr_cardno").val("").data("level_id",""),$("#memberlevel_id").val("-1"),$("#thisProductTotalnumber").val(0),$("#Cashlefsit").html(""),$("#huiyuan_id").text("").data("id","0").data("jiekou","100"),$("#huiyuan_id").text("").attr("data-id","0").attr("data-jiekou","100"),$("#yuecount").text(returnFloat(0)).attr("data-money",0),$("#user_descount").text("100"),_member_discount=100,queryProductFocus(),_cache_memberinfo_json=null,new_cache_memberinfo_json=null,commondCleanCateringGrade(),shuxin_add($("#danhao").text()),zhonger(),_g_sv_uit_cache_name=="cache_name_catering"){$("input[name='cateringSettlementType']:eq(0)").click();var n=$("#openCateringTableContent").is(":hidden");_g_Catering_Is_Ceremonial_Eat==0&&n&&($("#openCateringTable").click(),socket.emit("common_by_shop_refresh_desk_server",{user_id:1}))}push_sunmiT1_second_clear();shuxin()}function signOrderListPrintStateById(n,t,i){$.post("/Catering/SignOrderListPrintStateById",{orderId:n,orderProductId:t,type:i},function(n){if(n){if(i==0)$("#catering_order_list>li.active .cateringPendingOrderNumber .hasbeenprinted").length==0&&$("#catering_order_list>li.active .cateringPendingOrderNumber").append('<span class="sharestyle hasbeenprinted">\u5df2\u6253\u5370<\/span>')}else layer.msg("\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u9875\u9762\u540e\u518d\u8bd5\uff01")})}function getMobileOrderListPrintByUserId(n){const t=200;_g_catering_print_success=!0;$.get("/Catering/GetMobileOrderListPrintByUserId",function(i){var f,r,u;if(i&&i.length>0)for(layer.msg("\u60a8\u6709\u4e00\u7b14\u7ebf\u4e0a\u8ba2\u5355\uff0c\u5df2\u5411\u53a8\u623f\u53d1\u9001\u83dc\u54c1\u6253\u5370",{time:1500}),f=!1,r=0;r<i.length;r++)_g_catering_print_data_total=i.length,u=i[r],function(i){setTimeout(function(){for(var r,f,u,o,e=!1,t=0;t<i.prlist.length;t++){i.prlist[t].product_name&&(i.prlist[t].product_name=i.prlist[t].product_name.replace(",","."));i.prlist[t].sv_printer_ip&&i.prlist[t].sv_printer_port&&i.prlist[t].sv_printer_ip!="null"&&i.prlist[t].sv_printer_port!="null"||(e=!0,i.prlist[t].sv_printer_ip=_g_TakeOutFoodPrintIP,i.prlist[t].sv_printer_port=_g_TakeOutFoodPrintPort);r="";try{if(i.prlist[t].cateringChargingJson){for(f=JSON.parse(i.prlist[t].cateringChargingJson),u=0;u<f.length;u++)r+=f[u].sv_taste_name+"("+f[u].sv_taste_price+")";o=i.prlist[t].product_name||"\u65e0\u7801\u6536\u94f6";r&&r.length>1&&(i.prlist[t].product_name=o+r)}}catch(s){}}i.sv_order_type==0||i.sv_order_type==1?pushprintData(JSON.stringify(i),JSON.stringify(n),0,0,0,0):i.sv_order_type==2&&pushcateringprintData(JSON.stringify(i),JSON.stringify(n),1);!e||isNullOrWhiteSpace(_g_TakeOutFoodPrintIP)&&isNullOrWhiteSpace(_g_TakeOutFoodPrintPort)?pushcateringprintData(JSON.stringify(i),JSON.stringify(n),2):layer.msg("\u8bf7\u914d\u7f6e\u597d\u5916\u5356\u6253\u5370\u673a\u4fe1\u606f\u540e\u624d\u80fd\u8fdb\u884c\u540e\u53a8\u6253\u5370\uff01");_g_catering_print_data_index++;_g_catering_print_data_total==_g_catering_print_data_index&&(_g_catering_print_success=!1,_g_catering_print_data_index=0,_g_catering_print_data_total=0)},r*t)}(u);else _g_catering_print_success=!1,_g_catering_print_data_index=0,_g_catering_print_data_total=0})}function getMobileOrderToPayCountByUserId(){$.get("/Catering/GetMobileOrderToPayCountByUserId",{},function(n){n!=null&&n!=undefined&&typeof n=="number"&&$("#cateringOnlineTotal").text(n)})}function show_Android_Pos_T1_SecondScreen(n,t){var i,e;if(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android)try{if(g_set_pos_t1_secondscreen_enable){var r=$("#sv_user_givingtype").val(),u=$("#sv_sumobtain_value").val(),f="0";$("#huiyuan_id").attr("data-id")!=null&&$("#huiyuan_id").attr("data-id")!=""&&!$("#huiyuan_id").attr("data-id")!=undefined&&(f=$("#huiyuan_id").attr("data-id"));i=$("#order_remark").val().trim();i.indexOf("'")>0&&(i=i.replace("'","''"));e={everyday_serialnumber:GetDailySerialNumber(!0),availableIntegralSwitch:availableIntegralSwitch,rankDemotion:rankDemotion,MembershipGradeGroupingIsON:MembershipGradeGroupingIsON,rankPromotionIsON:rankPromotionIsON,prlist:productlistJsonList,order_running_id:$("#danhao").text(),order_receivable:$("#yinshou").val(),order_payment:$("#xianjinname").text(),order_money:$("#xianjin").val(),order_payment2:$("#daoshouname").text(),order_money2:$("#daishou").val(),order_change:$("#yinshou").val(),user_cardno:f,order_discount:(parseFloat($("#ttuser_descount").val())/100).toFixed(5),order_receivabley:$("#yinshou").data("val"),sv_remarks:i,givingtype:r,deserved:r==1?u:0,deserved_cash:r==1?0:u,sv_recommended_peopleid:$("#sv_recommended_peopleid").val(),free_change:$("#jieshuaanniu").attr("freechange"),sv_member_discount:(parseFloat($("#user_descount").text())/100).toFixed(2),sv_member_total_money:parseFloat($("#jieshuajie2").text()),sv_order_total_money:parseFloat($("#jieshuajie").text()),sv_give_change:parseFloat($("#zhaoling").val()),authcode:"",type:"",WhetherAsCatering:!0,sv_table_id:$("#catering_CateringGrade").attr("data-tableid")||0,sv_catering_grade:$("#catering_CateringGrade").text()||"",sv_coupon_amount:$("#hidden_coupon_amount").val()||0,sv_coupon_discount:$("#hidden_coupon_discount").val()||0,sv_without_list_id:$("#catering_CateringGrade").attr("data-withListId")||0,sv_person_num:$("#catering_CateringGrade").attr("data-personNum")||0,sv_order_source:0,sv_record_id:$("#hidden_coupon_record_id").val()||0,order_operator:_g_user_config.order_operator||_g_user_config.user_id};try{$.getJSON("/system/Getprint",function(i){var o=getsunmipushprintData(JSON.stringify(e),JSON.stringify(i),0,0,u,r),f={FooterList:[]};f.FooterList.push({Content:".",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});f.FooterList.push({Content:".",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});f.FooterList.push({Content:"\u5e94\u6536\u91d1\u989d\uff1a\u00a5"+(n||"0.00"),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});try{cordova.plugins.barcodeScanner.showsecond(function(){},function(){},{myPrintData:JSON.stringify(f),myPrintImg:t})}catch(s){}})}catch(o){layer.msg(o.message)}}}catch(o){layer.msg(o.message)}}function cateringPrint(n,t){_g_sv_uit_cache_name=="cache_name_catering"&&n&&(n.sv_without_list_id!=0&&n.sv_without_list_id&&n.sv_without_list_id!="0"||pushcateringprintData(JSON.stringify(n),JSON.stringify(t),2))}function getCateringProductsPrintListByUserId(){_g_sv_uit_cache_name=="cache_name_catering"&&$.get("/Catering/GetCateringProductsPrintListByUserId",{pageIndex:1,pageSize:50,queryType:-1},function(n){var i,t,r;if(n&&n.length>0)for(i=0;i<n.length;i++)if(n[i].order_product_list_json&&(t=JSON.parse(n[i].order_product_list_json),t&&t.length>0))for(r=0;r<t.length;r++)t[r].producttastejson,t[r].cateringchargingjson})}function getCateringOnlineWithOutListInfo(n,t){$.get("/Catering/GetCateringOnlineWithOutListInfo",{orderNober:n,shopUserId:t},function(n){n})}function funcSetCateringGrades(){}function inspectCommodityWhetherZeroStock(){var e=!1,t=$("#Cashlefsit").children("li"),n,u;if(_g_sv_uit_cache_name!="cache_name_catering")for(n=0;n<t.length;n++){var i=parseFloat($(t[n]).attr("data-prnumber")||0),f=parseFloat($(t[n]).attr("data-untprice")||0),r=parseFloat($(t[n]).find(".nump").text()||0);if($(t[n]).attr("data-sv_product_type")==1&&automaticDevanning){if(e=!0,$(t[n]).data("salesmode")!="0"&&$(t[n]).data("producttype_id")!="1"&&r>i&&!is_SingleProduct_ReturnGoods)if($(t[n]).attr("data-prcombinationid")!=null&&$(t[n]).attr("data-prcombinationid")!="0"&&!$(t[n]).attr("data-sv_is_newspec")&&automaticDevanning){if(ProductDevanning_temp($(t[n]).attr("id"),$(t[n]).attr("data-pricingmethod"),$(t[n]).attr("data-prcombinationid"),r-i,ProductDevanning_tem_onsuccess,$(t[n]),i),!g_ZeroInventorySalesQ)for(u=0;u<splitOpenCaseList.length;u++)$(t[n]).attr("id")!=null&&splitOpenCaseList[u]==$(t[n]).attr("id")&&($(t[n]).find(".zhong").text(parseFloat(i*f).toFixed(2)),$(t[n]).find(".nump").text(parseFloat(i).toFixed(2)),i<=0&&$(t[n]).remove(),layer.msg("\u8be5\u5546\u54c1\u5e93\u5b58\u4e0d\u8db3"))}else g_ZeroInventorySalesQ||$(t[n]).data("salesmode")!="0"&&$(t[n]).data("producttype_id")!="1"&&r>i&&(layer.msg("\u8be5\u5546\u54c1\u5e93\u5b58\u4e0d\u8db3"),i<=0?$(t[n]).remove():($(t[n]).find(".zhong").text(parseFloat(i*f).toFixed(2)),$(t[n]).find(".nump").text(parseFloat(i).toFixed(2)),zhonger()))}else g_ZeroInventorySalesQ||$(t[n]).data("salesmode")!="0"&&$(t[n]).data("producttype_id")!="1"&&r>i&&(layer.msg("\u8be5\u5546\u54c1\u5e93\u5b58\u4e0d\u8db3"),i<=0?$(t[n]).remove():($(t[n]).find(".zhong").text(parseFloat(i*f).toFixed(2)),$(t[n]).find(".nump").text(parseFloat(i).toFixed(2)),zhonger()))}e&&zhonger()}function inspectCommodityWhetherZeroStock_new(n,t){var i=$("#Cashlefsit").children("li"),r,u,f,e;if(_g_sv_uit_cache_name!="cache_name_catering"&&i&&i.length>0)for(r=0;r<i.length;r++){if(n=t==$(i[r]).attr("id")?n:0,u=parseFloat($(i[r]).attr("data-prnumber")||0),f=Getnumber_Byproduct_id($(i[r]).attr("id"),!0)+n+Getnumber_Byproduct_id($(i[r]).attr("id"),!1),$(i[r]).data("sv_product_type")==1&&automaticDevanning){if($(i[r]).data("salesmode")!="0"){if($(i[r]).data("producttype_id")!="1"){if(f>u&&!is_SingleProduct_ReturnGoods){if($(i[r]).attr("data-prcombinationid")!=null&&$(i[r]).attr("data-prcombinationid")!="0"&&!$(i[r]).attr("data-sv_is_newspec")&&automaticDevanning){if(ProductDevanning_temp($(i[r]).attr("id"),$(i[r]).attr("data-pricingmethod"),$(i[r]).attr("data-prcombinationid"),f-u,ProductDevanning_tem_onsuccess,$(i[r]),u),!g_ZeroInventorySalesQ)for(e=0;e<splitOpenCaseList.length;e++)return $(i[r]).attr("id")!=null&&splitOpenCaseList[e]==$(i[r]).attr("id")?($(i[r]).find(".nump").text(parseFloat(u).toFixed(2)),u<=0&&$(i[r]).remove(),!1):(updatesettlement_product_storage($(i[r]).attr("id"),u),!0);return!0}return $(i[r]).data("salesmode")!="0"&&$(i[r]).data("producttype_id")!="1"?(f>u&&u<=0&&$(i[r]).remove(),!1):!0}return!0}return!0}return!0}return $(i[r]).data("salesmode")!="0"&&$(i[r]).data("producttype_id")!="1"?f>u?(u<=0&&$(i[r]).remove(),!1):!0:!0}else return!0}function ProductDevanning_tem_onsuccess(n,t){if(!g_ZeroInventorySalesQ){var i=0;$(n)!=null&&$(n).find(".nump")!=null&&$(n).find(".nump").text()!=null&&(i=parseFloat($(n).find(".nump").text()||0));$(n).attr("data-prnumber",parseFloat(t));i>t&&($(n).find(".nump").text(parseFloat(t).toFixed(2)),t<=0&&$(n).remove(),layer.msg("\u8be5\u5546\u54c1\u6ca1\u6709\u5e93\u5b58\u4e86"))}}function ProductDevanning_temp(n,t,i,r,u,f,e){var s,o,h;if(automaticDevanning){for(s=0;s<splitOpenCaseList.length;s++)if(splitOpenCaseList[s]==n)return 0;o=-1;h=0;$.ajax({type:"POST",url:"/AjaxProduct/ProductDevanning?product="+n+"&userid="+user_id+"&addpeople="+_g_user_config.order_operator+"&ountway="+t+"&parentid="+i+"&ordernumber="+r,dataType:"json",async:!1,success:function(t){var c,s,r,l,h;if(o=t,o<=0){for(c=!0,r=0;r<splitOpenCaseList.length;r++)if(splitOpenCaseList[r]==n){c=!1;break}c&&(splitOpenCaseList[splitOpenCaseList.length]=n)}else if(updatesettlement_product_storage(n,o),s=$(".productlistboxaaa").children("div"),s!=null&&s.length>0)for(r=0;r<s.length;r++)l=$(s[r]).attr("data-prid"),l==n&&(h=parseFloat($(s[r]).find(".sv_p_storage").text()),h+parseFloat(o)>99?$(s[r]).find(".sv_p_storage").text("99+"):$(s[r]).find(".sv_p_storage").text(h+parseFloat(o)),$(s[r]).find(".goodsNumber").val(h+parseFloat(o))),l==i&&(h=parseFloat($(s[r]).find(".sv_p_storage").text()),$(s[r]).find(".sv_p_storage").text(h-parseFloat(1)),$(s[r]).find(".goodsNumber").val(h-parseFloat(1)));u(f,e+o)}})}}function open_cashbox_func(n){if(is_open_MoneyBox||n=="1")try{if(typeof Cef!="undefined")Cef.OpenCashBox();else if(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android)try{cordova.plugins.barcodeScanner.open(function(){},function(n){layer.msg("\u6253\u5f00\u94b1\u7bb1\u5931\u8d25: "+n)},{})}catch(t){layer.msg("\u6253\u5f00\u94b1\u7bb1\u5931\u8d25: "+t.message)}}catch(t){}}function EditOrderMoneyUpdateProductDetailedMoney(n,t,i,r){var e,o,c,l,b,v;if(t=t||!1,i=i||!1,getmenberprotArr&&getmenberprotArr.length>0&&(i=!0),single_discount_amount_Remarks="",e=[],o=0,r||i||zhonger(1,t,!0),productlistJsonList&&productlistJsonList.length>0){var f=$("#yinshou").val(),d=n,u=0,h=0,p=$("#huiyuan_id").attr("data-id"),y=0,s=0;if(n!=1||_member_discount/100!=1){$.each(productlistJsonList,function(t,i){if(i){i.product_total=i.product_total-(i.productSpecTotalMoney+i.productPackTotalMoney+i.productTasteTotalMoney+i.productChargingTotalMoney)+i.productSpecTotalMoney_new;var r=0;i.sv_mp_id&&i.sv_mp_id>0&&i.sv_product_sales_type&&i.sv_product_sales_type>0?(r+=parseFloat(i.product_total),h+=parseFloat(i.product_total)):(_member_discount!=null&&_member_discount!=undefined&&_member_discount!=""&&_member_discount!=0&&_member_discount!="0"&&p!="0"&&p>0?i.sv_p_minunitprice>0?u==parseFloat(f)?(r=parseFloat(i.sv_p_minunitprice)*parseFloat(i.product_num),u+=parseFloat(i.sv_p_minunitprice)*parseFloat(i.product_num)):u==parseFloat(f)?(r=parseFloat(i.sv_p_minunitprice)*parseFloat(i.product_num),u+=parseFloat(i.sv_p_minunitprice)*parseFloat(i.product_num)):parseFloat(i.sv_p_minunitprice)*parseFloat(i.product_num)<(parseFloat(i.product_total)*n).toFixed(2)?(e.push(i),o+=parseFloat(i.product_total)):cashAllowWithoutDiscount?(e.push(i),o+=parseFloat(i.product_total)):(r=parseFloat(i.sv_p_minunitprice)*parseFloat(i.product_num),u+=parseFloat(i.sv_p_minunitprice)*parseFloat(i.product_num)):i.sv_p_mindiscount>0?u==parseFloat(f)?(r=parseFloat(i.product_single_untprice)*parseFloat(i.sv_p_mindiscount)*parseFloat(i.product_num),u+=parseFloat(i.product_single_untprice)*parseFloat(i.sv_p_mindiscount)*parseFloat(i.product_num)):u==parseFloat(f)?(r=parseFloat(i.product_single_untprice)*parseFloat(i.sv_p_mindiscount)*parseFloat(i.product_num),u+=parseFloat(i.product_single_untprice)*parseFloat(i.sv_p_mindiscount)*parseFloat(i.product_num)):parseFloat(i.product_single_untprice)*parseFloat(i.sv_p_mindiscount)*parseFloat(i.product_num)<(parseFloat(i.product_total)*n).toFixed(2)?(e.push(i),o+=parseFloat(i.product_total)):cashAllowWithoutDiscount?(e.push(i),o+=parseFloat(i.product_total)):(r=parseFloat(i.product_single_untprice)*parseFloat(i.sv_p_mindiscount)*parseFloat(i.product_num),u+=parseFloat(i.product_single_untprice)*parseFloat(i.sv_p_mindiscount)*parseFloat(i.product_num)):(e.push(i),o+=parseFloat(i.product_total)):i.sv_p_minunitprice>0?u==parseFloat(f)?(r=parseFloat(i.sv_p_minunitprice)*parseFloat(i.product_num),u+=parseFloat(i.sv_p_minunitprice)*parseFloat(i.product_num)):u==parseFloat(f)?(r=parseFloat(i.sv_p_minunitprice)*parseFloat(i.product_num),u+=parseFloat(i.sv_p_minunitprice)*parseFloat(i.product_num)):parseFloat(i.sv_p_minunitprice)*parseFloat(i.product_num)<(parseFloat(i.product_total)*n).toFixed(2)?(e.push(i),o+=parseFloat(i.product_total)):cashAllowWithoutDiscount?(e.push(i),o+=parseFloat(i.product_total)):(r=parseFloat(i.sv_p_minunitprice)*parseFloat(i.product_num),u+=parseFloat(i.sv_p_minunitprice)*parseFloat(i.product_num)):i.sv_p_mindiscount>0?u==parseFloat(f)?(r=parseFloat(i.product_single_untprice)*parseFloat(i.sv_p_mindiscount)*parseFloat(i.product_num),u+=parseFloat(i.product_single_untprice)*parseFloat(i.sv_p_mindiscount)*parseFloat(i.product_num)):u==parseFloat(f)?(r=parseFloat(i.product_single_untprice)*parseFloat(i.sv_p_mindiscount)*parseFloat(i.product_num),u+=parseFloat(i.product_single_untprice)*parseFloat(i.sv_p_mindiscount)*parseFloat(i.product_num)):parseFloat(i.product_single_untprice)*parseFloat(i.sv_p_mindiscount)*parseFloat(i.product_num)<(parseFloat(i.product_total)*n).toFixed(2)?(e.push(i),o+=parseFloat(i.product_total)):cashAllowWithoutDiscount?(e.push(i),o+=parseFloat(i.product_total)):(r=parseFloat(i.product_single_untprice)*parseFloat(i.sv_p_mindiscount)*parseFloat(i.product_num),u+=parseFloat(i.product_single_untprice)*parseFloat(i.sv_p_mindiscount)*parseFloat(i.product_num)):(e.push(i),o+=parseFloat(i.product_total)),r>0&&(parseFloat(f)==0&&(r=0),i.product_total=r.toFixed(2),s+=parseFloat(i.product_total),i.product_discount_new=i.product_single_untprice&&parseFloat(i.product_single_untprice)!=0?(parseFloat(i.product_total)/parseFloat(i.product_num)/parseFloat(i.product_single_untprice)).toFixed(4):1,i.product_unitprice=(parseFloat(i.product_total)/parseFloat(i.product_num)).toFixed(2),i.product_discount=1,i.product_orig_discount=1,is_update_order_discount=!0))}y=parseFloat(f)-s;u=parseFloat(u.toFixed(2));y<0&&parseFloat(f)<u&&!cashAllowWithoutDiscount?single_discount_amount_Remarks="\u4e0d\u80fd\u4f4e\u4e8e\u6700\u4f4e\u5b9e\u6536\u91d1\u989d"+u:h>0&&parseFloat(f)<h&&(single_discount_amount_Remarks="\u5b9e\u6536\u91d1\u989d\u4e0d\u80fd\u4f4e\u4e8e\u6d3b\u52a8\u5546\u54c1\u603b\u91d1\u989d"+h);i.product_total=i.product_total+(i.productSpecTotalMoney+i.productPackTotalMoney+i.productTasteTotalMoney+i.productChargingTotalMoney)-i.productSpecTotalMoney_new});var k=parseFloat(f)-u,a=0,w=1;if(e&&e.length>0&&(single_discount_amount_Remarks="",w=t?n:y/parseFloat(o).toFixed(4)),$.each(e,function(n,t){t&&(t.product_total=parseFloat(t.product_total)-(t.productSpecTotalMoney+t.productPackTotalMoney+t.productTasteTotalMoney+t.productChargingTotalMoney)+t.productSpecTotalMoney_new,t.product_total>0&&(t.product_total=k==0?0:(parseFloat(t.product_total)*w).toFixed(2),t.product_discount_new=t.product_single_untprice&&parseFloat(t.product_single_untprice)!=0?(parseFloat(t.product_total)/parseFloat(t.product_num)/parseFloat(t.product_single_untprice)).toFixed(4):1,t.product_unitprice=(parseFloat(t.product_total)/parseFloat(t.product_num)).toFixed(2),t.product_discount=1,t.product_orig_discount=1,is_update_order_discount=!0,t.product_total=parseFloat(t.product_total)+(t.productSpecTotalMoney+t.productPackTotalMoney+t.productTasteTotalMoney+t.productChargingTotalMoney)-t.productSpecTotalMoney_new,a+=parseFloat(t.product_total)))}),t&&(f=(u+a).toFixed(2),$("#yinshou").val(f),$("#xianjin").val(returnFloat(f))),Judgingindustry()){for(s=s+a,c=[],l=0;l<productlistJsonList.length;l++)productlistJsonList[l].product_total>0&&c.push(productlistJsonList[l]);c&&c.length>0&&(b=c[c.length-1].product_total,v=(parseFloat(c[c.length-1].product_total)+parseFloat(f)-parseFloat(s)).toFixed(2),c[c.length-1].product_total=v,u!=-1&&s<u&&s!=0&&parseFloat(f)<u&&!cashAllowWithoutDiscount?single_discount_amount_Remarks="\u4e0d\u80fd\u4f4e\u4e8e\u6700\u4f4e\u5b9e\u6536\u91d1\u989d"+u:h>0&&parseFloat(f)<h&&(single_discount_amount_Remarks="\u5b9e\u6536\u91d1\u989d\u4e0d\u80fd\u4f4e\u4e8e\u6d3b\u52a8\u5546\u54c1\u603b\u91d1\u989d"+h))}else s=s+a,b=productlistJsonList[productlistJsonList.length-1].product_total,v=(parseFloat(productlistJsonList[productlistJsonList.length-1].product_total)+parseFloat(f)-parseFloat(s)).toFixed(2),productlistJsonList[productlistJsonList.length-1].product_total=v,u!=-1&&s<u&&s!=0&&parseFloat(f)<u&&!cashAllowWithoutDiscount?single_discount_amount_Remarks="\u4e0d\u80fd\u4f4e\u4e8e\u6700\u4f4e\u5b9e\u6536\u91d1\u989d"+u:h>0&&parseFloat(f)<h&&(single_discount_amount_Remarks="\u5b9e\u6536\u91d1\u989d\u4e0d\u80fd\u4f4e\u4e8e\u6d3b\u52a8\u5546\u54c1\u603b\u91d1\u989d"+h)}}}function GetUserLevelDiscount_Config(n){var t,i;if(sv_discount_config=[],$("#sv_mr_cardno").val()&&$("#sv_mr_cardno").val()!=""&&(new_cache_memberinfo_json&&new_cache_memberinfo_json.member_id==$("#huiyuan_id").attr("data-id")&&(new_cache_memberinfo_json.memberlevel_id!=$("#sv_mr_cardno").attr("data-level_id")||new_cache_memberinfo_json.memberlevel_id!=$("#memberlevel_id").val())?n=new_cache_memberinfo_json.memberlevel_id||-1:_cache_memberinfo_json&&_cache_memberinfo_json.member_id==$("#huiyuan_id").attr("data-id")&&(_cache_memberinfo_json.memberlevel_id!=$("#sv_mr_cardno").attr("data-level_id")||_cache_memberinfo_json.memberlevel_id!=$("#memberlevel_id").val())&&(n=_cache_memberinfo_json.memberlevel_id||-1)),typeof moduleConfigListIgnore!="undefined"&&moduleConfigListIgnore!=null&&moduleConfigListIgnore.length>0&&(t=moduleConfigListIgnore[0].getUserLevel,typeof t!="undefined"&&t!=null&&t.length>0))for(i=0;i<t.length;i++)if(t[i].memberlevel_id==n){typeof t[i].sv_discount_config!="undefined"&&t[i].sv_discount_config!=null&&(sv_discount_config=JSON.parse(t[i].sv_discount_config));break}}function GetClassifyDiscountedvalue(n,t){var r=-1,i,f,u,e;if(typeof sv_discount_config!="undefined"&&sv_discount_config!=null&&sv_discount_config.length>0)for(i=0;i<sv_discount_config.length;i++)if(sv_discount_config[i].Discountedpar==n)if(f=sv_discount_config[i].Discounted,u=sv_discount_config[i].bigDiscounted,typeof sv_discount_config[i].Discounted!="undefined"&&sv_discount_config[i].Discounted!=null&&JSON.stringify(f)!="{}"&&JSON.stringify(u)=="{}"){if(n!=null&&n>0)for(e in sv_discount_config[i].Discounted)if(sv_discount_config[i].Discounted[e]==t){r=parseFloat(sv_discount_config[i].Discountedvalue||10)/100;break}}else if(typeof sv_discount_config[i].Discounted!="undefined"&&sv_discount_config[i].Discounted!=null&&JSON.stringify(u)!="{}"){r=parseFloat(sv_discount_config[i].Discountedvalue||10)/100;break}else break;return r}function ductionchare(){var c,n,l,t,r;if(getmenberprotArr.length>0){for(t=0;t<getmenberprotArr.length;t++)getmenberprotArr[t].getmenber=!1;for(c=parseFloat($("#jieshuajie2").text()),n=0,member_surplus_total=0,l=0,t=0;t<getmenberprotArr.length;t++){var i=getmenberprotArr[t].sv_mcc_leftcount,f=getmenberprotArr[t].sv_charge_type,e=getmenberprotArr[t].sv_serialnumber,o=getmenberprotArr[t].userecord_id,s=getmenberprotArr[t].validity_date,u=i,h=GetorigProductValue(getmenberprotArr[t].product_id);h!=null&&h.length>0&&$.each(h,function(t,r){var a=r,h,l,c;
//!guidarrcanco(userecord_id) && || conmentitemid(d.userecord_id, d.product_num)
if($("#jiFenDiXian").is(":checked")&&!r.type&&(r.notleftcoun=!0),r.product_num<=i&&u>0&&!Getguidarr(r.sv_order_guid)&&!r.leftcountfaltype&&!r.type&&!r.notleftcoun)r.cnum=i,i=i-r.product_num,u=u-r.product_num,n+=parseFloat(r.product_total),c=parseFloat(r.product_total),productlistJsonListCombination(r,f,e,o,r.product_num,s),n=parseFloat(r.product_total)==0?n:n-parseFloat(c);else if(r.product_num>i&&u>0&&!r.leftcountfaltype&&!r.type&&!r.notleftcoun){h={};for(l in a)l=="sv_order_guid",h[l]=a[l];r.cnum=i;h=productConversion(h,r.sv_order_guid);h.product_num=h.product_num-i;h.product_total=r.product_unitprice*h.product_num;productlistJsonListCombination(h,f,e,o,"",s);r.product_num=i;c=r.product_unitprice*r.product_num;productlistJsonListCombination(r,f,e,o,i,s);n+=c;n=parseFloat(r.product_total)==0?n:n-parseFloat(c);u=u-i}})}n.toFixed(2)>0?(r=parseFloat($("#jieshuajie2").text()),$("#jieshuajie2").text((r-n).toFixed(2)),$("#yinshou").val(parseFloat(r-n).toFixed(2)),$("#xianjin").val((r-n).toFixed(2)),CalculateGiving(),EditOrderMoneyUpdateProductDetailedMoney(parseFloat($("#user_descount").text()||100)/100,!1,!1,!0),$("#jiFenDiXian").is(":checked")?automaticChangeMoney():automaticChangeMoney(!0,0)):(r=parseFloat($("#jieshuajie2").text()),$("#jieshuajie2").text((r-n).toFixed(2)),$("#yinshou").val(parseFloat(r-n).toFixed(2)),$("#xianjin").val((r-n).toFixed(2)),CalculateGiving(),EditOrderMoneyUpdateProductDetailedMoney(parseFloat($("#user_descount").text()||100)/100,!1,!1,!0),$("#jiFenDiXian").is(":checked")?(automaticChangeMoney(),automaticChangeMoney(!0,0)):automaticChangeMoney(!0,0))}else $("#jiFenDiXian").is(":checked")?automaticChangeMoney():(CalculateGiving(),automaticChangeMoney(!0,0))}function guidarrcanco(n){var i=!0,t;if(guidarrcansle&&guidarrcansle.length>0){for(t=0;t<guidarrcansle.length;t++)if(n==guidarrcansle[t].userecord_id&&guidarrcansle[t].leftcount!=0){i=!1;guidarrcansle[t].leftfalg=!1;break}}else i=!1;return i}function automaticChangeMoney(n,t){var f=parseFloat($("#jieshuajie2").text()),i,r,u;n=n||!1;i=JSON.parse(dataconioctorn.sv_uc_saletozeroset);t=t||0;t>0&&(r=parseFloat($("#jieshuajie2").text()),$("#jieshuajie2").text((r-t).toFixed(2)),$("#yinshou").val(parseFloat(r-t).toFixed(2)),$("#xianjin").val((r-t).toFixed(2)));u=$("#yinshou").val()||0;i.whether&&(i.auto==0?($("#yinshou").val(parseInt($("#yinshou").val()||0)),$("#xianjin").val($("#yinshou").val()||0).change(),cashFocus()):i.auto==1?($("#yinshou").val(parseInt(($("#yinshou").val()||0)*10)/10),$("#xianjin").val($("#yinshou").val()||0).change(),cashFocus()):i.auto==2?($("#yinshou").val(parseInt(($("#yinshou").val()||0)/10)*10),$("#xianjin").val($("#yinshou").val()||0).change(),cashFocus()):i.auto==5?($("#yinshou").val(parseFloat($("#yinshou").val()||0).toFixed(1)),$("#xianjin").val($("#yinshou").val()||0).change(),cashFocus()):i.auto==6&&($("#yinshou").val(parseFloat($("#yinshou").val()||0).toFixed(0)),$("#xianjin").val($("#yinshou").val()||0).change(),cashFocus()),$("#jieshuaanniu").attr("freechange",(parseFloat(u)-parseFloat($("#yinshou").val()||0)).toFixed(2)),(parseFloat(u)-parseFloat($("#yinshou").val()||0)).toFixed(2)!=0?$("#sp_automaticchangemoney").show():$("#sp_automaticchangemoney").hide(),$("#automaticchangemoney").text((parseFloat(u)-parseFloat($("#yinshou").val()||0)).toFixed(2)));n||(_g_sumorigprice=parseFloat(parseFloat($("#yinshou").val()||0).toFixed(2)))}function order_discount_Settlement(){function t(n){n.val(n.val().replace(/[^\d.]/g,""));n.val(n.val().replace(/^\./g,""));n.val(n.val().replace(/\.{2,}/g,"."));n.val(n.val().replace(".","$#$").replace(/\./g,"").replace("$#$","."));n.val(n.val().replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"))}var i=layer.index,n;if(flsgindexclose=i,$("#discount_value").val(""),$("#discount_value").focus(),n=$("#operation_type").val(),$("#Update_money").click(function(){$("#discount_value").focus();n=$(this).data("discount_type");$("#operation_type").val(n);$("."+$(this).data("show_id")).show();$("."+$(this).data("hide_id")).hide()}),$("#Update_discount").click(function(){is_discount_catering?($("#discount_value").focus(),n=$(this).data("discount_type"),$("#operation_type").val(n),$("."+$(this).data("show_id")).show(),$("."+$(this).data("hide_id")).hide(),t($("#discount_value")),parseFloat($("#discount_value").val())>99&&$("#discount_value").val(99)):layer.msg("\u65e0\u6b64\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u5f00\u901a\uff01")}),$("#calui_new_discount li").click(function(){$("#discount_value").val($("#discount_value").val()+$(this).data("val"));t($("#discount_value"));n==0&&parseFloat($("#discount_value").val())>99&&$("#discount_value").val(99);$("#discount_value").focus()}),$("#quxiao_discount").click(function(){layer.close(i)}),$("#woquren_discount").click(function(){$("#discount_value").focus();$("#discount_value").val()&&$("#discount_value").val()!=""?(n==0?$("#ttuser_descount").val($("#discount_value").val()).change():($("#xianjin").val($("#discount_value").val()).change(),$("#yinshou").val($("#discount_value").val()).change()),queryProductFocus(),n==1&&automaticChangeMoney()):(layer.msg("\u6ca1\u6709\u8bbe\u7f6e\u4efb\u4f55\u503c\u54e6"),$("#discount_value").focus());layer.close(i)}),$("#discount_value").length>0){$("#xianjin").focus();$(document).unbind("keypress","#discount_value").on("keypress","#discount_value",function(t){t.keyCode==13&&($("#discount_value").val()&&$("#discount_value").val()!=""?(n==0?$("#ttuser_descount").val($("#discount_value").val()).change():($("#xianjin").val($("#discount_value").val()).change(),$("#yinshou").val($("#discount_value").val()).change()),queryProductFocus(),n==1&&automaticChangeMoney()):layer.msg("\u6ca1\u6709\u8bbe\u7f6e\u4efb\u4f55\u503c\u54e6"))})}$("#discount_value").blur(function(){$("#discount_value").focus()});$(document).unbind("click",".layui-layer-ico, .layui-layer-close, .layui-layer-close2").on("click",".layui-layer-ico ,.layui-layer-close ,.layui-layer-close2",function(){$("#xianjin").focus()});$("#remove_discount").click(function(){var i,n;if($("#discount_value").focus(),i="",n=$("#discount_value").get(0),n.setSelectionRange){var r=n.selectionStart,u=n.selectionEnd,o=n.value.substring(r-1,r),f=n.value.substring(0,r-1),e=n.value.substring(u);i=f+e}$("#discount_value").val(i);t($("#discount_value"))});$("#discount_value").bind("change keyup",function(){var n=$("#selectorder_discount_type").find("a.active").data("discount_type");t($("#discount_value"));n==0&&parseFloat($("#discount_value").val())>99&&$("#discount_value").val(99)})}function GetorigProductValue(n){for(var i=[],t=0;t<productlistJsonList.length;t++)productlistJsonList[t].product_id!=n||productlistJsonList[t].type||i.push(productlistJsonList[t]);return i}function productlistJsonListCombination(n,t,i,r,u,f){var o,e;if(guidarrcansle&&guidarrcansle.length>0){for(e=0;e<productlistJsonList.length;e++)if(productlistJsonList[e].sv_order_guid==n.sv_order_guid&&productlistJsonList[e].product_id==n.product_id){if(o=guidarrcanslearr(productlistJsonList[e].leftcountfaltype,n.product_id,u,r),o==1)n.sv_serialnumber="",n.product_total=n.product_unitprice*u,n.leftcountfaltype=!0,n.type=!1,n.userecord_id="",n.sv_charge_type="",n.p_validity_date="";else if(o==2)n.sv_serialnumber=i,n.p_validity_date=f,n.product_total=0,n.sv_charge_type=t,n.userecord_id=r,n.type=!0;else break;productlistJsonList[e]=n;break}else if(productlistJsonList[e].product_id==n.product_id&&n.new_sv_order_guid&&!productlistJsonList[e].type&&!productlistJsonList[e].leftcountfaltype){productlistJsonList.push(n);break}}else for(e=0;e<productlistJsonList.length;e++)if(productlistJsonList[e].sv_order_guid==n.sv_order_guid&&productlistJsonList[e].product_id==n.product_id){n.sv_serialnumber=i;n.sv_charge_type=t;n.userecord_id=r;n.p_validity_date=DateToUnix(f);n.type=!0;n.product_total=0;productlistJsonList[e]=n;break}else if(productlistJsonList[e].product_id==n.product_id&&n.new_sv_order_guid&&!productlistJsonList[e].type){productlistJsonList.push(n);break}}function productConversion(n,t){return n.sv_order_guid=NewGuid(),n.new_sv_order_guid=NewGuid(),n.flag_sv_order_guid=t,n}function Getguidarr(n){var t=!1;return guidarr&&guidarr.length>0&&$.each(guidarr,function(i,r){n==r.guid&&(t=!1)}),t}function Getleftcount(n){var t=0;return guidarr&&guidarr.length>0&&$.each(guidarr,function(i,r){r.userecord_id==n&&(t+=r.leftcount)}),t}function guidarrcanslearr(n,t,i,r){var f=0,u;if(guidarrcansle&&guidarrcansle.length>0)for(u=0;u<guidarrcansle.length;u++)if(i!=guidarrcansle[u].leftcount||guidarrcansle[u].userecord_id!=r||guidarrcansle[u].leftfalg)n||(f=2);else{guidarrcansle[u].leftfalg=!0;f=1;break}return f}function conmentitemid(n,t,i){var u=!1,r;if(i){for(r=0;r<getmenberprotArr.length;r++)if(n==getmenberprotArr[r].userecord_id&&!getmenberprotArr[r].getmenber&&getmenberprotArr[r].sv_mcc_leftcount!=0){u=!0;getmenberprotArr[r].getmenber=!0;break}}else for(r=0;r<getmenberprotArr.length;r++)if(n==getmenberprotArr[r].userecord_id&&t<=getmenberprotArr[r].sv_mcc_leftcount&&t!=0&&!getmenberprotArr[r].getmenber){u=!0;getmenberprotArr[r].getmenber=!0;break}return u}function DateToUnix(n){var t=n.split(" ",2),i=(t[0]?t[0]:"").split("-",3),r=(t[1]?t[1]:"").split(":",3);return new Date(parseInt(i[0],10)||null,(parseInt(i[1],10)||1)-1,parseInt(i[2],10)||null,parseInt(r[0],10)||null,parseInt(r[1],10)||null,parseInt(r[2],10)||null).getTime()/1e3}function Judgingindustry(){var n=!1;return(_g_sv_uit_cache_name=="cache_name_cosmetology"||_g_sv_uit_cache_name=="cache_name_maternal_supplies"||_g_sv_uit_cache_name=="cache_name_auto_beauty")&&(n=!0),n}function PromotionSpecialPrice(n,t,i,r,u){var s,e;t=t||!1;r=r||!1;var o=null,c=Getp_promotion_data(n),f=[],l=!1,h=!1;return[],i=i||1,s=!1,u=u||1,$("#huiyuan_id").attr("data-id")!="0"&&$("#huiyuan_id").attr("data-id")>0&&(l=!0),c&&c.length>0&&$.each(c,function(t,e){var a,o,t;if(h=l&&e.sv_mp_user!=2?!0:!1,h=h?h:!l&&e.sv_mp_user!=1?!0:!1,h)if(e&&e.sv_mp_type==0&&e.is_sv_mpd_special){var c=new Date,w=(c.getHours()>9?c.getHours().toString():"0"+c.getHours())+":"+(c.getMinutes()>9?c.getMinutes().toString():"0"+c.getMinutes()),v=w+":00",y=w+":"+(c.getSeconds()>9?c.getSeconds().toString():"0"+c.getSeconds()),p=(new Date).getDay();e.sv_mp_mode==10&&e.sv_mp_special_timeconfig&&e.sv_mp_special_timeconfig.length>0?$.each(e.sv_mp_special_timeconfig,function(t,r){var h,u,o;r.weeks&&(r.weeks.indexOf(p)>=0||r.weeks=="-1")&&r.Timelist&&r.Timelist.length>0&&(h=!1,$.each(r.Timelist,function(n,t){t.startTime<=v&&t.endTime>=y&&(h=!0)}),h&&(u=0,o=0,e.sv_mpd_special_order_lc>0&&(u=e.sv_mpd_special_order_lc||0),e.sv_mpd_special_member_lc>0&&(o=e.sv_mpd_special_member_lc||0),e.sv_mp_range!=0&&(s=!0),f.push({id:n,price:e.sv_mpd_special_price,order_Number:u,member_Number:o,type:e.sv_mp_mode,sv_mp_id:e.sv_mp_id,sv_mpd_id:e.sv_mpd_id,sales_typ:e.sv_mp_mode,mp_user:e.sv_mp_user,depict:"\u76f4\u63a5\u7279\u4ef7("+e.sv_mpd_special_price+")",name:e.sv_mp_name+"\u5546\u54c1",buycount:1,discount:10,p_f_money:e.sv_mpd_special_price*i,sv_mp_range:e.sv_mp_range,sv_mp_point:e.sv_mp_point}),activity_conditions&&activity_conditions.length>0&&deleteactivity_conditions(n),activity_conditions.push({sv_mp_point:e.sv_mp_point,sv_mp_id:e.sv_mp_id,sv_mpd_id:e.sv_mpd_id,id:n,sales_typ:10,order_Number:u,member_Number:o,name:e.sv_mp_name+"\u6761\u4ef6\u5546\u54c1",sv_mp_range:e.sv_mp_range,p_f_money:e.sv_mpd_special_price*i})))}):e.sv_mp_mode==11?e.sv_mp_special_condition&&e.sv_mp_special_condition>0&&e.sv_mp_special_timeconfig&&e.sv_mp_special_timeconfig.length>0&&$.each(e.sv_mp_special_timeconfig,function(t,r){var h,u,o;r.weeks&&(r.weeks.indexOf(p)>=0||r.weeks=="-1")&&r.Timelist&&r.Timelist.length>0&&(h=!1,$.each(r.Timelist,function(n,t){t.startTime<=v&&t.endTime>=y&&(h=!0)}),h&&(u=0,o=0,e.sv_mpd_special_order_lc>0&&(u=e.sv_mpd_special_order_lc||0),e.sv_mpd_special_member_lc>0&&(o=e.sv_mpd_special_member_lc|0),e.sv_mp_range!=0&&(s=!0),f.push({id:n,price:e.sv_mpd_special_price,order_Number:u,member_Number:o,condition:e.sv_mp_special_condition,type:e.sv_mp_mode,sv_mp_id:e.sv_mp_id,sv_mpd_id:e.sv_mpd_id,sales_typ:e.sv_mp_mode,mp_user:e.sv_mp_user,depict:"\u6ee1("+e.sv_mp_special_condition+")\u4ef6\u7279\u4ef7("+e.sv_mpd_special_price+")",name:e.sv_mp_name+"\u5546\u54c1",buycount:1,discount:10,sv_mp_range:e.sv_mp_range,p_f_money:e.sv_mpd_special_price*i,sv_mp_point:e.sv_mp_point}),activity_conditions&&activity_conditions.length>0&&deleteactivity_conditions(n),activity_conditions.push({sv_mp_point:e.sv_mp_point,sv_mp_id:e.sv_mp_id,sv_mpd_id:e.sv_mpd_id,id:n,sales_typ:11,order_Number:u,member_Number:o,name:e.sv_mp_name+"\u6761\u4ef6\u5546\u54c1",sv_mp_range:e.sv_mp_range,p_f_money:e.sv_mpd_special_price*i})))}):e.sv_mp_mode==12&&e.sv_mp_special_timeconfig&&e.sv_mp_special_timeconfig.length>0&&$.each(e.sv_mp_special_timeconfig,function(t,r){var h,u,o;r.weeks&&(r.weeks.indexOf(p)>=0||r.weeks=="-1")&&r.Timelist&&r.Timelist.length>0&&(h=!1,$.each(r.Timelist,function(n,t){t.startTime<=v&&t.endTime>=y&&(h=!0)}),h&&(u=0,o=0,e.sv_mpd_special_order_lc>0&&(u=e.sv_mpd_special_order_lc||0),e.sv_mpd_special_member_lc>0&&(o=e.sv_mpd_special_member_lc||0),e.sv_mp_range!=0&&(s=!0),f.push({id:n,price:e.sv_mpd_special_price,order_Number:u,member_Number:o,type:e.sv_mp_mode,sv_mp_id:e.sv_mp_id,sv_mpd_id:e.sv_mpd_id,sales_typ:e.sv_mp_mode,mp_user:e.sv_mp_user,depict:"\u5076\u6570\u7279\u4ef7("+e.sv_mpd_special_price+")",name:e.sv_mp_name+"\u5546\u54c1",buycount:1,discount:10,sv_mp_range:e.sv_mp_range,p_f_money:e.sv_mpd_special_price*i,sv_mp_point:e.sv_mp_point}),activity_conditions&&activity_conditions.length>0&&deleteactivity_conditions(n),activity_conditions.push({sv_mp_point:e.sv_mp_point,sv_mp_id:e.sv_mp_id,sv_mpd_id:e.sv_mpd_id,id:n,sales_typ:121,order_Number:u,member_Number:o,name:e.sv_mp_name+"\u6761\u4ef6\u5546\u54c1",sv_mp_range:e.sv_mp_range,p_f_money:e.sv_mpd_special_price*i})))})}else if((!e||e.sv_mp_type!=1||!e.is_sv_mpd_discount)&&(!e||e.sv_mp_type!=2||!e.is_sv_mpd_fullprom)&&(!e||e.sv_mp_type!=3||!e.is_sv_mpd_fullgive)&&(!e||e.sv_mp_type!=4||!e.is_sv_mpd_increase)&&e&&e.sv_mp_type==5&&(e.is_sv_mpd_extr||e.sv_mp_range==0)&&e.sv_mp_extr_config&&e.sv_mp_extr_config.length>0)if(e.sv_mp_mode==60)$.each(e.sv_mp_extr_config,function(t,r){e.sv_mp_range!=0&&(s=!0);f.push({id:n,price:1,order_Number:e.sv_mpd_extr_order_lc||0,member_Number:e.sv_mpd_extr_member_lc||0,type:e.sv_mp_mode,sv_mp_id:e.sv_mp_id,sv_mpd_id:e.sv_mpd_id,sales_typ:e.sv_mp_mode,mp_user:e.sv_mp_user,depict:"\u534a\u4ef7\u6298\u7b2c("+r.buycount+")\u4ef6("+r.discount+")\u6298",buycount:r.buycount,discount:r.discount,is_sv_mpd_extr:e.is_sv_mpd_extr,name:e.sv_mp_name+"\u5546\u54c1",sv_mp_range:e.sv_mp_range,p_f_money:u*parseInt(i/r.buycount)*(r.discount/10)==0?u*i:u*parseInt(i/r.buycount)*(r.discount/10),sv_mp_point:e.sv_mp_point});activity_conditions&&activity_conditions.length>0&&deleteactivity_conditions(n);activity_conditions.push({sv_mp_point:e.sv_mp_point,sv_mp_id:e.sv_mp_id,sv_mpd_id:e.sv_mpd_id,id:n,sales_typ:601,order_Number:e.sv_mpd_extr_order_lc||0,member_Number:e.sv_mpd_extr_member_lc||0,name:e.sv_mp_name+"\u6761\u4ef6\u5546\u54c1",sv_mp_range:e.sv_mp_range})});else if(e.sv_mp_mode==61)if(r){for(o=[],t=0;t<e.sv_mp_extr_config.length;t++)e.sv_mp_extr_config[t].buycount<=i&&o.push(e.sv_mp_extr_config[t]);o&&o.length>0&&$.each(o,function(t,r){e.sv_mp_range!=0&&(s=!0);f.push({id:n,price:1,order_Number:e.sv_mpd_extr_order_lc||0,member_Number:e.sv_mpd_extr_member_lc||0,type:e.sv_mp_mode,sv_mp_id:e.sv_mp_id,sv_mpd_id:e.sv_mpd_id,sales_typ:e.sv_mp_mode,mp_user:e.sv_mp_user,depict:"\u68af\u5ea6\u4f18\u60e0\u7b2c("+r.buycount+")\u4ef6("+r.discount+")\u6298",buycount:r.buycount,discount:r.discount,is_sv_mpd_extr:e.is_sv_mpd_extr,name:e.sv_mp_name+"\u5546\u54c1",sv_mp_range:e.sv_mp_range,sv_mp_point:e.sv_mp_point});r.buycount>i&&(activity_conditions&&activity_conditions.length>0&&deleteactivity_conditions(n),activity_conditions.push({sv_mp_point:e.sv_mp_point,sv_mp_id:e.sv_mp_id,sv_mpd_id:e.sv_mpd_id,type:e.sv_mp_mode,sv_mp_id:e.sv_mp_id,sv_mpd_id:e.sv_mpd_id,id:n,sales_typ:611,order_Number:e.sv_mpd_extr_order_lc||0,member_Number:e.sv_mpd_extr_member_lc||0,name:e.sv_mp_name+"\u6761\u4ef6\u5546\u54c1",sv_mp_range:e.sv_mp_range}))})}else{for(p_f_money=u*i,a=i,o=[],t=0;t<e.sv_mp_extr_config.length;t++)e.sv_mp_extr_config[t].buycount<=i&&o.push(e.sv_mp_extr_config[t]);o&&o.length>0&&(a=0,p_f_money=0,$.each(o,function(){p_f_money+=u*dd.discount*1;a++}));p_f_money+=u*(i-a);$.each(e.sv_mp_extr_config,function(t,r){r.buycount==i&&(e.sv_mp_range!=0&&(s=!0),f.push({id:n,price:1,order_Number:e.sv_mpd_extr_order_lc||0,member_Number:e.sv_mpd_extr_member_lc||0,type:e.sv_mp_mode,sv_mp_id:e.sv_mp_id,sv_mpd_id:e.sv_mpd_id,sales_typ:e.sv_mp_mode,mp_user:e.sv_mp_user,depict:"\u68af\u5ea6\u4f18\u60e0\u7b2c("+r.buycount+")\u4ef6("+r.discount+")\u6298",buycount:r.buycount,discount:r.discount,is_sv_mpd_extr:e.is_sv_mpd_extr,name:e.sv_mp_name+"\u5546\u54c1",sv_mp_range:e.sv_mp_range,p_f_money:p_f_money,sv_mp_point:e.sv_mp_point}));r.buycount>i&&(activity_conditions&&activity_conditions.length>0&&deleteactivity_conditions(n),activity_conditions.push({sv_mp_point:e.sv_mp_point,sv_mp_id:e.sv_mp_id,sv_mpd_id:e.sv_mpd_id,type:e.sv_mp_mode,sv_mp_id:e.sv_mp_id,sv_mpd_id:e.sv_mpd_id,id:n,sales_typ:611,order_Number:e.sv_mpd_extr_order_lc||0,member_Number:e.sv_mpd_extr_member_lc||0,name:e.sv_mp_name+"\u6761\u4ef6\u5546\u54c1",sv_mp_range:e.sv_mp_range,p_f_money:p_f_money}))})}}),i&&i>0?t?s?(e=[],f&&f.length>0&&(e=GetMultiple_Factor_Sort(f),e&&e.length>0&&(o=e))):(e=GetSingle_Factor_Sort(f,1),o=GetSingle_Factor_Sort(e)):s?(e=[],f&&f.length>0&&(e=GetMultiple_Factor_Sort(f),e&&e.length>0&&(o=e[0]))):f&&f.length>0&&(f.length==1?o=f[0]:(e=GetSingle_Factor_Sort(f),o=e[0])):f&&f.length>0&&(t?s?(e=[],f&&f.length>0&&(e=GetMultiple_Factor_Sort(f),e&&e.length>0&&(o=e))):f&&f.length>0&&(f.length==1?o=f[0]:(e=GetSingle_Factor_Sort(f),e&&e.length>0&&(o=e[0]))):s?(e=[],f&&f.length>0&&(e=GetMultiple_Factor_Sort(f),e&&e.length>0&&(o=e[0]))):f&&f.length>0&&(f.length==1?o=f[0]:(e=GetSingle_Factor_Sort(f),e&&e.length>0&&(o=e[0])))),o}function GetMultiple_Factor_Sort(n){var t=[],f,u,e,i,r;if(n&&n.length>0){for(f=n.length,u=0;u<f;u++)n[u].sv_mp_range>0&&t.push(n[u]);if(t&&t.length>0&&!(t.length<=1))for(i=0;i<t.length;i++)for(r=i;r<t.length;r++)t[i].p_f_money>t[r].p_f_money&&(e=t[r],t[r]=t[i],t[i]=e)}return t}function GetSingle_Factor_Sort(n,t){var u,i,r;if(t=t||0,t==1)for(i=0;i<n.length;i++)for(r=i;r<n.length;r++)n[i].price>n[r].price&&(u=n[r],n[r]=n[i],n[i]=u);else for(i=0;i<n.length;i++)for(r=i;r<n.length;r++)n[i].p_f_money>n[r].p_f_money&&(u=n[r],n[r]=n[i],n[i]=u);return n}function Getp_promotion_data(n){var i=null,t;if(promotionConfig_data&&promotionConfig_data.length>0)for(t=0;t<promotionConfig_data.length;t++)if(promotionConfig_data[t].id==n){i=promotionConfig_data[t].mpconfg;break}return i}function deleteCheckedpromotionConfig_data(n){if(promotionConfig_data&&promotionConfig_data.length>0)for(var t=0;t<promotionConfig_data.length;t++)promotionConfig_data[t].id==n&&promotionConfig_data.splice(t,1)}function isexistence_product_special_number(n,t){var r=!1,i;if(product_special_number&&product_special_number.length>0)for(i=0;i<product_special_number.length;i++)if(product_special_number[i].id==n&&product_special_number[i].type==t){r=!0;break}return r}function isexistencepromotion_exceed_limit(n){var i=!1,t;if(promotion_exceed_limit&&promotion_exceed_limit.length>0)for(t=0;t<promotion_exceed_limit.length;t++)if(promotion_exceed_limit[t].id==n){i=!0;break}return i}function deletepromotion_exceed_limit(n){if(promotion_exceed_limit&&promotion_exceed_limit.length>0)for(var t=0;t<promotion_exceed_limit.length;t++)promotion_exceed_limit[t].id==n&&promotion_exceed_limit.splice(t,1)}function ispromotion_product_guid(n,t){var r=!1,i;if(promotion_product_guid&&promotion_product_guid.length>0)for(i=0;i<promotion_product_guid.length;i++)if(promotion_product_guid[i].pid==n&&promotion_product_guid[i].id==t){r=promotion_product_guid[i].is_promotion;break}return r}function Getnumber_Byproduct_id(n,t){var r=0,i;if(promotion_product_guid&&promotion_product_guid.length>0)for(i=0;i<promotion_product_guid.length;i++)promotion_product_guid[i].pid==n&&promotion_product_guid[i].is_promotion==t&&(parseFloat($("."+promotion_product_guid[i].id).find(".nump").text()||0)==0&&$("."+promotion_product_guid[i].id).length==0?deletepromotion_product_guid(promotion_product_guid[i].id):(Current_operation_Settlement_product_list.push({number:parseFloat($("."+promotion_product_guid[i].id).find(".nump").text()||0),is_promotion:t,type:promotion_product_guid[i].type}),r+=parseFloat($("."+promotion_product_guid[i].id).find(".nump").text()||0)));return r}function ispromotion_product_pid(){var t=!0,n;if(promotion_product_guid&&promotion_product_guid.length>0)for(n=0;n<promotion_product_guid.length;n++)if($("."+promotion_product_guid[n].id).length==0){t=!1;break}return t}function Getproduct_Byproduct_id(n,t){var r=[],i;if(promotion_product_guid&&promotion_product_guid.length>0)for(i=0;i<promotion_product_guid.length;i++)promotion_product_guid[i].pid==n&&promotion_product_guid[i].is_promotion==t&&r.push(promotion_product_guid[i]);return r}function deletepromotion_product_guid(n){if(promotion_product_guid&&promotion_product_guid.length>0)for(var t=0;t<promotion_product_guid.length;t++)promotion_product_guid[t].id==n&&promotion_product_guid.splice(t,1)}function deletepromotion_product_pid(n){if(promotion_product_guid&&promotion_product_guid.length>0)for(var t=0;t<promotion_product_guid.length;t++)promotion_product_guid[t].pid==n&&promotion_product_guid.splice(t,1)}function Getproduct_guid_Byproduct_id(n,t,i){var u="",r;if(promotion_product_guid&&promotion_product_guid.length>0)for(r=0;r<promotion_product_guid.length;r++)if(promotion_product_guid[r].pid==n&&promotion_product_guid[r].is_promotion==t&&promotion_product_guid[r].type==i){u=promotion_product_guid[r].id;break}return u}function Getproduct_guid_Byproduct_Listid(n,t,i){var u=[],r;if(promotion_product_guid&&promotion_product_guid.length>0)for(r=0;r<promotion_product_guid.length;r++)promotion_product_guid[r].pid==n&&promotion_product_guid[r].is_promotion==t&&promotion_product_guid[r].type==i&&u.push({id:promotion_product_guid[r].id});return u}function deletesettlement_product_list(n){if(settlement_product_list&&settlement_product_list.length>0)for(var t=0;t<settlement_product_list.length;t++)settlement_product_list[t].pid==n&&settlement_product_list.splice(t,1)}function isexistencesettlement_product_list(n){var i=!1,t;if(settlement_product_list!=null&&settlement_product_list.length>0)for(t=0;t<settlement_product_list.length;t++)settlement_product_list[t].pid==n&&(i=!0);return i}function Getsettlement_product_list(n){var i="",t;if(settlement_product_list!=null&&settlement_product_list.length>0)for(t=0;t<settlement_product_list.length;t++)settlement_product_list[t].pid==n&&ispromotion_product_pid(n)&&(i=settlement_product_list[t].info);return i}function updatepromotion_product_guid(n,t,i){if(promotion_product_guid&&promotion_product_guid.length>0)for(var r=0;r<promotion_product_guid.length;r++)if(promotion_product_guid[r].pid==n&&promotion_product_guid[r].id==t&&promotion_product_guid[r].is_promotion==!i){promotion_product_guid[r].is_promotion=i;break}}function Getactivity_conditions(n){var i=null,t;if(activity_conditions&&activity_conditions.length>0)for(t=0;t<activity_conditions.length;t++)if(activity_conditions[t].id==n){i=activity_conditions[t];break}return i}function deleteactivity_conditions(n){if(activity_conditions&&activity_conditions.length>0)for(var t=0;t<activity_conditions.length;t++)activity_conditions[t].id==n&&activity_conditions.splice(t,1)}function deletesales_promotion_conditions(n){if(sales_promotion_conditions&&sales_promotion_conditions.length>0)for(var t=0;t<sales_promotion_conditions.length;t++)sales_promotion_conditions[t].gid==n&&sales_promotion_conditions.splice(t,1)}function deletesales_promotion_conditions_prid(n){if(sales_promotion_conditions&&sales_promotion_conditions.length>0)for(var t=0;t<sales_promotion_conditions.length;t++)sales_promotion_conditions[t].id==n&&sales_promotion_conditions.splice(t,1)}function object_transform(n,t){var i="";if(n)if(t==2)i={goodsNumber:returnFloat($(n).find(".goodsNumber").val()||0),minunitprice:parseFloat(n.data("minunitprice"))==0?"":parseFloat(n.data("minunitprice")),mindiscount:parseFloat(n.data("mindiscount"))==0?"":parseFloat(n.data("mindiscount")),memberprice:parseFloat(n.data("memberprice"))==0?"":parseFloat(n.data("memberprice")),jiage:parseFloat(n.find(".jiage").text()),prid:n.data("prid"),is_no_wholediscount:n.attr("data-is_no_wholediscount")||!1,sv_product_type:n.attr("data-sv_product_type"),categoryId:n.attr("data-categoryId"),url:n.attr("data-url"),packprice:n.attr("data-packprice"),smallcategoryId:n.attr("data-smallcategoryId")||"",printerip:n.attr("data-printerip")||"",printerport:n.attr("data-printerport")||"",sv_p_commissiontype:n.data("sv_p_commissiontype")||0,sv_p_commissionratio:n.data("sv_p_commissionratio")||"",sv_product_integral:n.attr("data-sv_product_integral")||"",name:n.find(".name").text(),sv_p_originalprice:n.find(".jiage").data("sv_p_originalprice"),sv_has_iemino:n.data("sv_has_iemino"),spec:n.find(".spec").text()||"",producttype_id:n.data("producttype_id"),sv_is_monthly_performance:n.data("sv_is_monthly_performance"),project_config_value:n.data("project_config_value"),project_config_type:n.data("project_config_type"),sv_p_unit:n.data("sv_p_unit")||"",pricingmethod:n.data("pricingmethod"),prcombinationid:n.attr("data-prcombinationid"),sv_iemi_no:$(n).data("sv_iemi_no")||"",sv_p_barcode:$(n).data("sv_p_barcode")||"",sv_p_artno:$(n).data("sv_p_artno"),id:n.data("id"),org_price:parseFloat(n.find(".jiage").text())};else if(t==1||t==3){var r="",u=0,f=0,e=0,o="";t==1?(e=returnFloat(n.find("td").eq(4).text()),f=returnFloat(n.find("td").eq(5).text()),o=n.find("td").eq(1).text(),u=parseFloat(n.find("td").eq(3).text()||0),n.children("td").eq(0).html(),r=""):(e=$(this).attr("data-untprice"),f=$(this).attr("data-originalprice"),o="",u=parseFloat(n.attr("data-num")),r=n.children("td").eq(0).html());i={id:n.data("id"),prid:n.data("id"),sv_product_sales_type:n.data("sv_product_sales_type"),unitprice:n.data("unitprice"),withlist_guid:n.data("withlist_guid"),num:parseFloat(n.attr("data-num")),untprice:n.attr("data-untprice"),product_remarks:n.find(".product_remarks").text(),pricingmethod:parseInt(n.data("pricingmethod")),minunitprice:returnFloat(n.data("minunitprice")||0)==0?"":returnFloat(n.data("minunitprice")||0),mindiscount:returnFloat(n.data("mindiscount")||0)==0?"":returnFloat(n.data("mindiscount")||0),memberprice:returnFloat(n.data("memberprice")||0)==0?"":returnFloat(n.data("memberprice")||0),prnumber:n.data("prnumber"),is_no_wholediscount:n.attr("data-is_no_wholediscount")||!1,sv_is_monthly_performance:n.data("sv_is_monthly_performance"),project_config_value:n.data("project_config_value"),project_config_type:n.data("project_config_type"),name:n.attr("data-name"),categoryId:n.attr("data-categoryId"),url:n.attr("data-url"),packprice:+n.attr("data-packprice"),smallcategoryId:n.attr("data-smallcategoryId")||"",printerip:n.attr("data-printerip")||"",printerport:n.attr("data-printerport")||"",originalprice:parseFloat(n.data("product_price")),productotal:parseFloat(n.attr("data-productotal")).toFixed(2),catering_taste_list:r,sv_p_specs:n.data("sv_p_specs"),spec:n.data("sv_p_specs"),sv_p_commissionratio:n.attr("data-sv_p_commissionratio")||"",sv_product_integral:n.attr("data-sv_product_integral")||"",sv_p_originalprice:returnFloat(f||0),rjia:returnFloat(e||0),order_code:o,number:parseFloat(u||0),goodsNumber:returnFloat(n.data("sv_p_storage")),jiage:parseFloat(n.data("product_price")),sv_product_type:n.data("sv_product_type"),sv_p_commissiontype:n.data("sv_p_commissiontype")||0,sv_has_iemino:n.data("sv_has_iemino"),sv_iemi_no:+n.data("sv_iemi_no"),sv_iemi_no_used:n.data("sv_iemi_no_used"),sv_initial_stock:n.data("sv_initial_stock"),producttype_id:n.data("producttype_id"),org_price:n.attr("data-untprice")}}return _g_sv_uit_cache_name!="cache_name_mobile_digital"||i.sv_has_iemino!=!0||isexistencesettlement_product_list(i.prid+"_"+i.sv_iemi_no)?isexistencesettlement_product_list(i.prid)||settlement_product_list.push({info:i,pid:i.prid}):settlement_product_list.push({info:i,pid:i.prid+"_"+i.sv_iemi_no}),i}function showCommonLeftProductList_new(n,t,i,r,u,f,e,o){var b,v,h,l,a,y,c,rt,p,ut,k,nt,tt,d,g,w,s,it;$("#Cashlefsit > li").removeClass("active");e=e||"";t=parseFloat(t||0);_g_sv_uit_cache_name=="cache_name_mobile_digital"&&(o=!1);b=n.goodsNumber||n.sv_p_storage||0;v=!1;i==2&&(v=!0);h="";l=parseFloat(n.minunitprice)==0?"":parseFloat(n.minunitprice);l=parseFloat(n.sv_p_minunitprice)==0?l:parseFloat(n.sv_p_minunitprice);a=parseFloat(n.mindiscount)==0?"":parseFloat(n.mindiscount);a=parseFloat(n.sv_p_mindiscount)==0?a:parseFloat(n.sv_p_mindiscount);y=parseFloat(n.memberprice)==0?"":parseFloat(n.memberprice);y=parseFloat(n.sv_p_memberprice)==0?y:parseFloat(n.sv_p_memberprice);c=parseFloat(n.org_price||0)||parseFloat(n.sv_p_unitprice||0||n.org_price||0);n.prid=n.product_id||n.prid;rt=10;isexistencesettlement_product_list(n.prid)||settlement_product_list.push({info:n,pid:n.prid});f==0&&(y>0?r='<p class="nn4" style="color:red"><span class="fl">\u4f1a\u5458\u5355\u4ef7\u00a5 <text class="memberprice">'+y.toFixed(2)+"<\/text><\/span><\/p>":a>0?r=is_mindiscount_priceShow?'<p class="nn4" style="color:red; "><span class="fl">\u6700\u4f4e\u6298\u6263 <text class="mindiscount">'+(a*10).toFixed(2)+"<\/text>%<\/span><\/p>":'<p class="nn4" style="color:red; display: none;"><span class="fl">\u6700\u4f4e\u6298\u6263 <text class="mindiscount">'+(a*10).toFixed(2)+"<\/text>%<\/span><\/p>":l>0&&(r=is_mindiscount_priceShow?'<p class="nn4" style="color:red; "><span class="fl">\u6700\u4f4e\u5355\u4ef7\u00a5 <text class="minunitprice">'+l.toFixed(2)+"<\/text><\/span><\/p>":'<p class="nn4" style="color:red; display: none;"><span class="fl">\u6700\u4f4e\u5355\u4ef7\u00a5 <text class="minunitprice">'+l.toFixed(2)+"<\/text><\/span><\/p>"));f>0&&(l=0,a=0,y=0);p="";n.sv_product_integral!=null&&n.sv_product_integral>=0&&(p=n.sv_product_integral);_g_sv_uit_cache_name=="cache_name_catering"||_g_sv_uit_cache_name=="cache_name_cosmetology"||_g_sv_uit_cache_name=="cache_name_massage_regimen"?($("#Cashlefsit li").removeClass("active"),sales_promotion_conditions.push({id:n.prid,gid:u,number:t,is_promotion:v}),promotion_product_guid.push({id:u,pid:n.prid,is_promotion:v,type:f}),h+="<li  "+e+' class="'+u+" productInfo_"+n.prid+'"  data-sv_order_guid="'+u+'"  data-is_no_wholediscount="'+n.is_no_wholediscount+'" class="active" data-mindiscount="'+a+'" data-minunitprice="'+l+'" ',h+='data-sv_product_type="'+n.sv_product_type+'" data-prnumber="'+b+' "',h+='data-memberprice="'+y+'" id="'+n.prid+'" data-pricingmethod="'+n.pricingmethod+' " ',h+='data-prname="'+n.name+'" data-untprice="'+c+'" ',h+='data-categoryId="'+n.categoryId+'" data-url ="'+n.url+'" data-packprice="'+n.packprice+'" data-smallcategoryId="'+n.smallcategoryId+'" ',h+='data-printerip="'+(n.printerip||"")+'" data-printerport="'+(n.printerport||"")+'" ',h+='data-sv_p_commissiontype="'+n.sv_p_commissiontype+'" data-sv_p_commissionratio="'+(n.sv_p_commissionratio||"")+'" data-sv_product_integral="'+p+'" >',h+='<div class="cateringProductNamebox"><p class="cateringProductName">'+n.name+"<\/p><\/div>",h+='<div class="cateringProductNumberbox">',h+='<button class="btn catering_minus"><i class="icon-minus-sign"><\/i><\/button><span class="cateringProductNumber nump">'+t+"<\/span>",h+='<button class="btn catering_plus"><i class="icon-plus-sign"><\/i><\/button><\/div>',h+='<div class="cateringProductpricebox"><span class="cateringProductprice"><i>\u00a5<\/i><i class="zhong" data-sv_p_originalprice="'+n.sv_p_originalprice+'">'+(c*t).toFixed(2)+"<\/i><\/span><\/div>",h+='<text style="display:none;" class="jiage" data-rjia="'+c+'" data-orgprice="'+parseFloat(c)+'"> '+c+"<\/text>",h+='<div class="cateringProductMoreinfo catering_taste_list"><\/div>',h+='<div class="cateringProductMoreinfo catering_taste_remarks"><\/div>',h+='<div class="cateringProductMoreinfo naerigh_new" id="'+u+'_promotion"" >'+r+"<\/div>",h+="<\/li>",$("#Cashlefsit").prepend(h)):n.sv_is_newspec?(sales_promotion_conditions.push({id:n.prid,gid:u,number:t,is_promotion:v}),ut=$("#"+n.product_id).length,k=!1,n.setup&&n.setup.is_no_wholediscount&&(k=!0),promotion_product_guid.push({id:u,pid:n.prid,is_promotion:v,type:f}),s="<li   "+e+'" class="'+u+" productInfo_"+n.prid+'"  data-sv_order_guid="'+u+'" data-is_no_wholediscount="'+k+'" data-sv_is_newspec="'+n.sv_is_newspec+'" data-mindiscount="'+a+'" data-minunitprice="'+parseFloat(l).toFixed(2)+'" ',s+='data-sv_product_type="'+n.producttype_id+'"  data-pricingmethod="0"',s+='data-prcombinationid="'+(n.sv_is_combination||"")+'" ',s+='data-prname="'+n.sv_p_name+'" ',s+='data-prnumber="'+n.sv_p_storage+'" ',s+='data-sv_p_unit="'+(n.sv_p_unit||"")+'" ',s+='data-untprice="'+n.sv_p_unitprice+'" ',s+='data-pf_newspec="['+(n.sv_p_specs||"").replace(",",".")+']" ',s+='data-memberprice="'+parseFloat(y).toFixed(2)+'" id="'+n.product_id+'" data-pricingmethod="1" data-categoryId="'+n.productcategory_id+'" data-smallcategoryId="'+n.productsubcategory_id+'" data-url="'+loadProductImgUrl(n)+'" data-sv_p_commissiontype="'+(n.sv_p_commissiontype||"")+'" data-sv_p_commissionratio="'+(n.sv_p_commissionratio||"")+'" ',s+=' data-sv_product_integral="'+p+'" ',s+=' data-sv_p_barcode="'+(n.sv_p_barcode||"")+'" ',s+=' data-sv_p_artno="'+(n.sv_p_artno||"")+'" ',s+='><div class="naelfe">'+osd+"",s+='<\/div> <div class="naerigh"><p class="nn1">'+n.sv_p_name+"["+n.sv_p_specs+']<\/p><p class="nn2"><span class="fl">',s+=""+n.sv_p_barcode+'<\/span><span class="fr">\u6570\u91cf <text class="nump" data-cnum="0">'+t+'<\/text><\/span><\/p> <p class="nn3">',s+='<span class="fl">\u00a5<text class="jiage" data-rjia="'+parseFloat(c)+'" data-orgprice="'+parseFloat(c)+'"> ',s+=""+parseFloat(c).toFixed(2)+'<\/text><\/span><span class="fr">\u00a5 <text class="zhong" data-zhekou="1" ',s+='data-sv_p_originalprice="'+parseFloat(c).toFixed(2)+'"> ',s+=""+parseFloat(c*t).toFixed(2)+'<\/span><\/p><div  class="cateringProductMoreinfo naerigh_new" id="'+u+'_promotion"" >'+r+"<\/div><\/div> <\/li>",$("#Cashlefsit").prepend(s)):($("#"+n.prid)&&$("#"+n.prid).data("salesmode")=="0"&&(nt=isNullOrWhiteSpace($("#"+n.prid).find(".nump").text())?parseFloat($("#"+n.prid).find(".nump").text()):1,tt=isNullOrWhiteSpace($("#"+n.prid).find(".nump").attr("data-cnum"))?parseFloat($("#"+n.prid).find(".nump").attr("data-cnum")):1,nt>=tt&&(insertNewProduct=!0)),d="",_g_sv_uit_cache_name=="cache_name_mobile_digital"&&n.sv_has_iemino==!0?(insertNewProduct=!0,d="_"+n.sv_iemi_no):_g_sv_uit_cache_name=="cache_name_mobile_digital"&&$("#"+n.prid).length>0&&$("#"+n.prid).attr("data-sv_has_iemino")==!0&&$("#"+n.prid).attr("data-sv_iemi_no")&&(insertNewProduct=!0),g=n.name||"",w=n.spec||"",w&&(w="("+n.spec.replace(/,/g,".")+")",g+=w),_g_sv_uit_cache_name!="cache_name_mobile_digital"||n.sv_has_iemino!=!0||isexistencesettlement_product_list(n.prid+"_"+n.sv_iemi_no)?(sales_promotion_conditions.push({id:n.prid,gid:u,number:t,is_promotion:v}),promotion_product_guid.push({id:u,pid:n.prid,is_promotion:v,type:f})):(sales_promotion_conditions.push({info:n,pid:n.prid+"_"+n.sv_iemi_no}),promotion_product_guid.push({id:u,pid:n.prid,is_promotion:v,type:f})),s="<li  "+e+'"  class="'+u+" productInfo_"+n.prid+d+'"   data-sv_order_guid="'+u+'" data-is_no_wholediscount="'+n.is_no_wholediscount+'" data-sv_is_monthly_performance="'+n.sv_is_monthly_performance+'" data-project_config_value="'+n.project_config_value+'" data-project_config_type="'+n.project_config_type+'" data-producttype_id="'+n.producttype_id+'" data-mindiscount="'+a+'" ',s+='data-sv_p_unit="'+(n.sv_p_unit||"")+'" data-prnumber="'+b+' "',s+='data-minunitprice="'+parseFloat(l).toFixed(2)+'" ',s+='data-pricingmethod="'+n.pricingmethod+'" data-categoryId="'+n.categoryId+'" data-url ="'+n.url+'" data-smallcategoryId ="'+n.smallcategoryId+'" ',s+='data-sv_product_type="'+n.sv_product_type+'" data-prcombinationid="'+n.prcombinationid+'"  data-pricingmethod="'+n.pricingmethod+'"  data-prname="'+n.name+'"data-prnumber="'+n.goodsNumber+' " data-untprice="'+c+'" ',s+='data-memberprice="'+parseFloat(y).toFixed(2)+'" id="'+n.prid+'" ',s+=' data-sv_p_commissiontype="'+n.sv_p_commissiontype+'" data-sv_p_commissionratio="'+n.sv_p_commissionratio+'" data-sv_product_integral="'+p+'" data-spec="'+w+'" ',s+=' data-sv_has_iemino="'+n.sv_has_iemino+'" data-sv_iemi_no="'+(n.sv_iemi_no||"")+'" ',s+=' data-sv_p_barcode="'+(n.sv_p_barcode||"")+'" ',s+=' data-sv_p_artno="'+(n.sv_p_artno||"")+'" ',s+='><div class="naelfe">'+osd+"",s+='<\/div><div class="naerigh"><p class="nn1"><span>'+g+"<\/span>",_g_sv_uit_cache_name=="cache_name_mobile_digital"&&(s+=n.sv_iemi_no!=""?"<span>\u3010"+n.sv_iemi_no+"\u3011<\/span>":"<span>\u3010\u65e0\u4e32\u53f7\u3011<\/span>"),s+="",s+='<\/p><p class="nn2"><span class="fl">',s+=""+n.id+'<\/span><span class="fr">\u6570\u91cf <text class="nump" data-cnum="0">'+t+'<\/text><\/span><\/p> <p class="nn3">',s+='<span class="fl">\u00a5<text class="jiage" data-rjia="'+c+'" data-orgprice="'+parseFloat(c)+'"> ',s+=""+parseFloat(c).toFixed(2)+'<\/text><\/span><span class="fr">\u00a5 <text class="zhong" data-zhekou="1" ',s+='data-sv_p_originalprice="'+n.sv_p_originalprice+'"> ',s+=""+(c*t).toFixed(2)+'<\/span><\/p><div  class="cateringProductMoreinfo naerigh_new" id="'+u+'_promotion"" >'+r+"<\/div><\/div><\/li>",$("#Cashlefsit").prepend(s));o&&layer.closeAll();$("."+u).addClass("active");$("#queryproduct").val("");zhonger();queryProductFocus();it=n.producttype_id;it!=1&&inspectCommodityWhetherZeroStock()}function regroupsettlementdata(){settlement_product_list&&settlement_product_list.length&&$(settlement_product_list).each(function(n,t){var i,r;if(Current_operation_Settlement_product_list=[],i=t.pid,r=PromotionSpecialPrice(i),r){var u=Getnumber_Byproduct_id(i,!1)||0,f=Getnumber_Byproduct_id(i,!0)||0,e=f+u,o=Getsettlement_product_list(i);showCommonLeftProductList(o,e,null,!0,2,1,1)}})}function GetReturnValidationPromotion(){var t=!1,n;if(productlistJsonList&&productlistJsonList.length>0)for(n=0;n<productlistJsonList.length;n++)if(productlistJsonList[n].sv_activity_depict&&productlistJsonList[n].sv_mp_id&&productlistJsonList[n].sv_mp_id>0){t=!0;break}return t}function updatesettlement_product_data(n,t){if(settlement_product_list!=null&&settlement_product_list.length>0)for(var i=0;i<settlement_product_list.length;i++)settlement_product_list[i].pid==n&&(settlement_product_list[i].info.org_price=t,settlement_product_list[i].info.sv_p_unitprice=t)}function updatesettlement_product_storage(n,t){if(settlement_product_list!=null&&settlement_product_list.length>0)for(var i=0;i<settlement_product_list.length;i++)settlement_product_list[i].pid==n&&(settlement_product_list[i].info.goodsNumber=parseFloat(settlement_product_list[i].info.goodsNumber||0)+t,settlement_product_list[i].info.sv_p_storage=parseFloat(settlement_product_list[i].info.sv_p_storage||0)+t)}function GetVerification_product_Price_change(n,t){var r=0,i;if(settlement_product_list&&settlement_product_list.length>0)for(i=0;i<settlement_product_list.length;i++)if(settlement_product_list[i].pid==id&&settlement_product_list[i].guid&&settlement_product_list[i].guid==t&&settlement_product_list[i].is_Price_change){r=settlement_product_list[i].neworg_price=r;break}return r}function test_pushprintData(n,t,i){var y=new Date,tt=y.getFullYear(),it=y.getMonth(),rt=y.getDate(),ut=y.getHours(),ft=y.getMinutes(),et=y.getSeconds(),nt=tt+"/"+fnW(it+1)+"/"+fnW(rt)+" "+fnW(ut)+":"+fnW(ft)+":"+fnW(et),v=JSON.parse(n),c=JSON.parse(t),p,a,d,l,b,g,f;if(c&&c.cof&&c.cof.sv_uc_dayin&&(p=JSON.parse(c.cof.sv_uc_dayin),p!="[]"&&p!=""&&p!=null&&(i=p.xiaopiao==58?0:1)),c&&c.cof&&c.cof.sv_pfconfig)try{var w=JSON.parse(c.cof.sv_pfconfig),r={HeaderList:[],BodyList:[],TitleList:[],FooterList:[],LogoData:null,QRCodeData:null,Action:1,PageType:i},s=w.h.split(","),u=w.b.split(","),o=v.content,e=w.f.split(","),k=w.q,h=w.l;if(s&&s.length>0&&(s.length>0&&s[0]==1&&r.HeaderList.push({Content:convertString(c.user.sv_us_name),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0}),s.length>1&&s[1]==1&&r.HeaderList.push({Content:"\u5fae\u4fe1:"+convertString(c.user.sv_wechat_number),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0}),s.length>4&&s[4]==1&&r.HeaderList.push({Content:"\u5355\u53f7\uff1a"+convertString(v.order_running_id),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0}),s.length>5&&s[5]==1&&r.HeaderList.push({Content:"\u6536\u94f6\u5458\uff1a"+v.userinfo.operator,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),s.length>6&&s[6]==1&&r.HeaderList.push({Content:"\u4f1a\u5458\u59d3\u540d\uff1a"+v.userinfo.sv_mr_name,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),s.length>7&&s[7]==1&&r.HeaderList.push({Content:"\u4f1a\u5458\u5361\u53f7\uff1a"+v.userinfo.sv_mr_cardno,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),r.HeaderList.push({Content:"......................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),u&&u.length>0&&(a="",u.length>0&&u[0]==1&&(a+="\u5546\u54c1      ",r.TitleList.push({Content:"\u5546\u54c1  ",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:10})),u.length>2&&u[2]==1&&(a+="\u793c\u54c1      ",r.TitleList.push({Content:"\u793c\u54c1",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:10})),u.length>1&&u[1]==1&&(a+="   \u5355\u4ef7    ",r.TitleList.push({Content:"\u5355\u4ef7",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:5})),u.length>3&&u[3]==1&&(a+="   \u79ef\u5206    ",r.TitleList.push({Content:"\u79ef\u5206",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:5})),u.length>4&&u[4]==1&&(a+="\u6570\u91cf ",r.TitleList.push({Content:"\u6570\u91cf",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:4})),u.length>5&&u[5]==1&&(a+="\u5c0f\u8ba1 ",r.TitleList.push({Content:"\u5c0f\u8ba1",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:5})),u.length>6&&u[6]==1&&(a+="\u5408\u8ba1 ",r.TitleList.push({Content:"\u5408\u8ba1",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:5})),r.HeaderList.push({Content:a,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),d=0,o&&o.length>0)for(f=0;f<o.length;f++)l="",o[f].product!=undefined&&u.length>0&&u[0]==1&&(l=o[f].product+","),o[f].sv_name!=undefined&&u.length>2&&u[2]==1&&(l+=o[f].sv_name+","),o[f].unitPrice!=undefined&&u.length>1&&u[1]==1&&(l+=o[f].unitPrice+","),o[f].sv_integral!=undefined&&u.length>3&&u[3]==1&&(l+=o[f].sv_integral+","),o[f].sv_number!=undefined&&u.length>4&&u[4]==1&&(l+=o[f].sv_number+",",d+=parseInt(o[f].sv_number)),o[f].subtotal!=undefined&&u.length>5&&u[5]==1&&(l+=o[f].subtotal+","),o[f].sumintegral!=undefined&&u.length>6&&u[6]==1&&(l+=o[f].sumintegral+","),l=l.replace(/,$/gi,""),r.BodyList.push({Content:l,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});if(e&&e.length>0&&(r.FooterList.push({Content:"......................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),e.length>1&&e[1]==1&&r.FooterList.push({Content:"\u793c\u54c1\u603b\u6570\uff1a "+d,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),e.length>2&&e[2]==1&&e.length>4&&e[4]==1&&r.FooterList.push({Content:"\u50a8\u503c\u4f59\u989d\uff1a\u00a5 "+v.userinfo.sv_mw_availableamount,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),e.length>7&&e[7]==1&&r.FooterList.push({Content:"\u652f\u4ed8\u65b9\u5f0f\uff1a\u79ef\u5206\u5151\u6362",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),e.length>8&&e[8]==1&&r.FooterList.push({Content:"\u79ef\u5206\uff08\u672c\u6b21/\u5269\u4f59\uff09\uff1a"+v.Finfo.remaining_integral,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),e.length>9&&e[9]==1&&r.FooterList.push({Content:"\u9500\u552e\u65f6\u95f4\uff1a"+nt,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),e.length>12&&e[12]==1&&r.FooterList.push({Content:"\u6253\u5370\u65f6\u95f4\uff1a"+nt,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),e.length>10&&e[10]==1&&r.FooterList.push({Content:"\u7535\u8bdd\uff1a"+convertString(c.user.sv_us_phone),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),e.length>11&&e[11]==1&&r.FooterList.push({Content:"\u5730\u5740\uff1a"+convertString(c.user.sv_us_address),Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0}),_g_sv_uit_cache_name&&_g_sv_uit_cache_name!="cache_name_pharmaceutical_indu"&&r.FooterList.push({Content:"\u8c22\u8c22\u60e0\u987e\uff0c\u6b22\u8fce\u4e0b\u6b21\u5149\u4e34",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),k&&k.ImageString&&(r.FooterList.push({Content:"\u4e8c\u7ef4\u7801",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),r.QRCodeData=k),PreferentialTopUpGivingConfigList("PrintSeting","PrintSet_ExtraInfo"),Preferential_TopUpGiving_ConfigList!=null&&Preferential_TopUpGiving_ConfigList.length>0&&(b=Preferential_TopUpGiving_ConfigList[0].sv_detail_value,b))if(b.toLowerCase().indexOf("<br/>")>0)for(g=b.split("<br/>"),f=0;f<g.length;f++)r.FooterList.push({Content:g[f],Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0});else r.FooterList.push({Content:b,Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0});r.FooterList.push({Content:"\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});h&&h.ImageString&&(r.FooterList.push({Content:"",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),h.ImageString.indexOf("http")>=0||h.ImageString.indexOf("https")>=0?(h.ImageString=h.ImageString,r.LogoData=h):h.ImageString.indexOf("res.decerp.cc")>=0?(h.ImageString="https:"+h.ImageString,r.LogoData=h):(h.ImageString="http://res.decerp.cc"+h.ImageString,r.LogoData=h));r.FooterList.push({Content:"........................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});Cef.CustormPrint(JSON.stringify(r),""+receptionPtNum+"",receptionPtName)}catch(ot){}else layer.msg("\u793c\u54c1\u5c0f\u7968\u6253\u5370\u53ea\u652f\u6301\u81ea\u5b9a\u4e49\u79ef\u5206\u6253\u5370\u6a21\u677f")}function pushprintData(n,t,i,r,u,f,e,o){var di=!1,ct,gr,hr,nu,p,gi,at,ot,s,wt,vr,rr,pr,ur,st,ht,kt,br,y,hu,cu,ui,nt,dt,lu,si,ci,yt,bi,kr,er,ii,au,ki,rt,ut,pt,dr,li,gt,a,ai,ni,it,b,ti,hi,ri,or,l,vi,sr,vu;if(_g_sv_uit_cache_name=="cache_name_clothing_and_shoes"&&(di=!0),ct=!1,typeof Cef!="undefined"&&(gr=typeof Cef.CustormPrintV3,gr=="function"&&(ct=!0)),hr=!1,typeof Cef!="undefined"&&(nu=typeof Cef.CustormPrintV4,nu=="function"&&(hr=!0)),hr)return pushprintDataN3(n,t,i,r,u,f,e,o);p={user_id:"47116375",bt:[1,0,0,0],bb:[0,0,0,0,0,0,0,0,0],bf:[0,0,0,0,0,0,0,0,0,0,0,0,0],bh:[0,0,0,0,0,0,0,0],fontSize:9};is_open_PrintingComplexFont==!0&&o&&o.replace("\u7ed3\u8d26\u5355-\u8865","\u7d50\u8cec\u55ae-\u88dc").replace("\u53cd\u7ed3\u8d26\u5355","\u53cd\u7d50\u8cec\u55ae").replace("\u7ed3\u8d26\u5355","\u7d50\u8cec\u55ae");gi=1;(user_id=="11101835"||user_id=="31003611"||user_id=="67792135"||user_id=="73691726"||user_id=="78273121"||user_id=="89190430")&&(gi=0);var ft={pagetitle2:languageText("\u5546\u54c1","productText")+","+languageText("\u5355\u4ef7","unitPriceText")+","+languageText("\u6570\u91cf","numberText")+","+languageText("\u5c0f\u8ba1","subtotal"),meter_Title2:languageText("\u793c\u54c1","giftText")+","+languageText("\u79ef\u5206","integralText")+","+languageText("\u6570\u91cf","numberText")+","+languageText("\u5408\u8ba1","total")},lt=[{pagesize:58,fontSize:9,pagetitle:languageText("\u5546\u54c1","productText")+"      "+languageText("\u5355\u4ef7","unitPriceText")+"    "+languageText("\u6570\u91cf","numberText")+"  "+languageText("\u5c0f\u8ba1","subtotal"),meter_Title:languageText("\u793c\u54c1","giftText")+"        "+languageText("\u79ef\u5206","integralText")+"   "+languageText("\u6570\u91cf","numberText")+" "+languageText("\u5408\u8ba1","total"),pageline:"",pageTitleWidth:[9,4,5,5],pagetitle2:ft.pagetitle2,meter_Title2:ft.meter_Title2},{pagesize:58,fontSize:12,pagetitle:languageText("\u5546\u54c1","productText")+"     "+languageText("\u5355\u4ef7","unitPriceText")+" "+languageText("\u6570\u91cf","numberText")+" "+languageText("\u5c0f\u8ba1","subtotal"),pageline:"",pageTitleWidth:[10,3,1,3],pagetitle2:ft.pagetitle2,meter_Title2:ft.meter_Title2},{pagesize:80,fontSize:9,pagetitle:languageText("\u5546\u54c1","productText")+"                "+languageText("\u5355\u4ef7","unitPriceText")+"       "+languageText("\u6570\u91cf","numberText")+"  "+languageText("\u5c0f\u8ba1","subtotal"),pageline:"",pageTitleWidth:[15,13,5,6],pagetitle2:ft.pagetitle2,meter_Title2:ft.meter_Title2},{pagesize:80,fontSize:12,pagetitle:languageText("\u5546\u54c1","productText")+"            "+languageText("\u5355\u4ef7","unitPriceText")+"  "+languageText("\u6570\u91cf","numberText")+"  "+languageText("\u5c0f\u8ba1","subtotal"),pageline:"",pageTitleWidth:[14,5,4,5],pagetitle2:ft.pagetitle2,meter_Title2:ft.meter_Title2},{pagesize:210,fontSize:9,pagetitle:languageText("\u5546\u54c1","productText")+"             "+languageText("\u7f16\u7801","barcodelText")+"              "+languageText("\u89c4\u683c","specText")+"             "+languageText("\u5355\u4ef7","unitPriceText")+"  "+languageText("\u6570\u91cf","numberText")+"  "+languageText("\u5c0f\u8ba1","subtotal"),pageline:"",pageTitleWidth:[25,5,4,5,10,15],pagetitle2:ft.pagetitle2,meter_Title2:ft.meter_Title2},{pagesize:210,fontSize:9,pagetitle:languageText("\u5546\u54c1","productText")+"             "+languageText("\u7f16\u7801","barcodelText")+"              "+languageText("\u89c4\u683c","specText")+"             "+languageText("\u5355\u4ef7","unitPriceText")+"  "+languageText("\u6570\u91cf","numberText")+"  "+languageText("\u5c0f\u8ba1","subtotal"),pageline:"",pageTitleWidth:[50,10,10,10,15,15],pagetitle2:ft.pagetitle2,meter_Title2:ft.meter_Title2},{pagesize:76,fontSize:12,pagetitle:languageText("\u5546\u54c1","productText")+"            "+languageText("\u5355\u4ef7","unitPriceText")+"      "+languageText("\u6570\u91cf","numberText")+"      "+languageText("\u5c0f\u8ba1","subtotal"),pageline:"",pageTitleWidth:[13,5,7,9],pagetitle2:ft.pagetitle2,meter_Title2:ft.meter_Title2}],d=lt[0];getAndroidPrintConfig();var tu=!0,fi=0,ei=new Date,yu=ei.getFullYear(),pu=ei.getMonth(),wu=ei.getDate(),cr=ei.getHours(),lr=ei.getMinutes(),bu=ei.getSeconds(),iu=yu+"/"+fnW(pu+1)+"/"+fnW(wu)+" "+fnW(cr)+":"+fnW(lr)+":"+fnW(bu),h=JSON.parse(n),w=JSON.parse(t),v=0,ru=[],nr=!1,tr=0;if(w&&w.cof&&w.cof.sv_uc_dayin&&(at=JSON.parse(w.cof.sv_uc_dayin),at!="[]"&&at!=""&&at!=null&&(v=at.xiaopiao==58?0:1,at.xiaopiao==58?(v=0,d=p.fontSize==12?lt[1]:lt[0]):at.xiaopiao==80?(v=1,d=p.fontSize==12?lt[3]:lt[2]):at.xiaopiao==76?(v=1,d=p.fontSize==12?lt[3]:lt[6],ct&&(tr=76)):at.xiaopiao==210?(v=2,d=lt[4],ct&&(d=lt[5])):(d=lt[0],v=0),fi=at.mo)),ot=[],s={HeaderList:[],BodyList:[],TitleList:[],FooterList:[],LogoData:null,QRCodeData:null,Action:1,PageType:v,PageWidth:0,PageRealWidth:0,PagePadding:0,FontSize:p.fontSize,PrintVersion:1,Gtype:gi},ct&&tr>0&&(s.PageWidth=tr,tr==76),w&&w.cof&&w.cof.sv_pfconfig&&w.cof.sv_pfconfig.length>10?(tu=!1,ot=JSON.parse(w.cof.sv_pfconfig)):(ot={a:1,b:"1,1,0,0,1,1,0,0,0",f:"0,1,1,1,1,1,0,1,1,1,1,1,1",h:"1,0,1,1,1,0,1,1",l:null,p:0,q:{Align:1,Width:100,Height:100,ImageString:""},t:"",be:0},fi==1?ot.f="0,1,1,0,0,1,0,0,0,0,0,0,0":fi==2?ot.f="0,1,1,1,1,1,0,1,1,1,1,1,1":fi==3&&(ot.f="0,1,1,1,1,1,0,1,1,1,1,1,1")),w&&w.cof)try{h.user&&h.user.sv_mr_cardno&&(wt=isNullOrWhiteSpace(h.user.sv_mr_cardno));var uu=0,fu=h.order_receivable,eu=1,ir="",ou=0,oi="",bt=0,ar=0;wt&&(w.cof.sv_uc_pointtocashset!="[]"&&w.cof.sv_uc_pointtocashset!=""&&w.cof.sv_uc_pointtocashset!=null&&(oi=JSON.parse(w.cof.sv_uc_pointtocashset)),oi!="[]"&&oi!=""&&oi!=null&&(fu=oi[0],eu=oi[1]),uu=parseInt(h.order_receivable/fu*eu),ou=h.user.sv_mw_availablepoint,ir=uu+"/ "+(ou||""),f==1&&f>0&&(ir=ir+languageText("(\u542b\u6d3b\u52a8\u6d88\u8d39\u8d60\u9001","activeFreeText")+u+languageText("\u79ef\u5206)","integral")));try{vr=parseInt((r-h.order_receivable).toFixed(2)*100)/100;ar=h.sv_member_discount>0&&h.sv_member_discount!=1?h.sv_member_discount*100:h.order_discount>0&&h.order_discount!=1?h.order_discount*100:h.order_discount_new>0&&h.order_discount_new!=1?h.order_discount_new*100:h.order_discount*100;vr>0&&(bt=vr+"")}catch(su){}f==2&&(bt=bt==0?u+languageText("(\u6d3b\u52a8\u6d88\u8d39\u51cf\u514d","activeFreecut")+u+languageText("\u5143)","yuan"):bt+languageText("(\u6d3b\u52a8\u6d88\u8d39\u51cf\u514d","activeFreecut")+u+languageText("\u5143)","yuan"));var tt=ot.h.split(","),g=ot.b.split(","),c=h.prlist,k=ot.f.split(","),yr=ot.q,et=ot.l;if(tt&&tt.length>0){if(o&&s.HeaderList.push({Content:o,Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0,FontStyleType:p.bh[0]}),tt.length>0&&tt[0]==1&&s.HeaderList.push({Content:convertString(w.user.sv_us_name),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0,FontStyleType:p.bh[0]}),tt.length>1&&tt[1]==1&&s.HeaderList.push({Content:languageText("\u5fae\u4fe1","wechat")+":"+convertString(w.user.sv_wechat_number),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0,FontStyleType:p.bh[1]}),_g_sv_uit_cache_name=="cache_name_catering"&&h.sv_catering_grade&&s.HeaderList.push({Content:languageText("\u684c/\u724c\u53f7","deskNumber")+"\uff1a"+convertString(h.sv_catering_grade),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),rr=h.order_running_id,h.everyday_serialnumber&&_g_everyDaySerialNumber&&(rr=h.everyday_serialnumber),h!=null&&h.meiridanhao!=null&&h.meiridanhao!=""&&(rr=h.meiridanhao),tt.length>4&&tt[4]==1&&s.HeaderList.push({Content:languageText("\u5355\u53f7","orderNumber")+"\uff1a"+convertString(rr),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[4]}),tt.length>5&&tt[5]==1&&s.HeaderList.push({Content:languageText("\u6536\u94f6\u5458","cashier")+"\uff1a"+sv_current_operato,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[5]}),tt.length>6&&tt[6]==1&&wt&&s.HeaderList.push({Content:languageText("\u4f1a\u5458\u59d3\u540d","memberName")+"\uff1a"+h.user.sv_mr_name,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[6]}),tt.length>7&&tt[7]==1&&wt&&s.HeaderList.push({Content:languageText("\u4f1a\u5458\u5361\u53f7","memberCard")+"\uff1a"+h.user.sv_mr_cardno,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[7]}),tt.length>8&&tt[8]==1&&wt&&s.HeaderList.push({Content:languageText("\u4f1a\u5458\u7b49\u7ea7","memberCard")+"\uff1a"+(h.user.sv_ml_name||""),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[8],RowStyle:1}),o&&o=="\u7ebf\u4e0a\u5546\u57ce\u8ba2\u5355-\u8865"){var ei=new Date(h.sv_order_adddate).Format("yy-MM-dd hh:mm:ss"),ku=h.sv_shipping_methods==0?"\u5230\u5e97\u81ea\u63d0":"\u9001\u8d27\u4e0a\u95e8",si=h.order_payment==""?"\u672a\u652f\u4ed8":h.order_payment,yi="";h.order_state==0?yi="\u5f85\u4ed8\u6b3e":h.order_state==1?yi="\u5df2\u4ed8\u6b3e":h.order_state==2?yi="\u4ea4\u6613\u5df2\u5173\u95ed":h.order_state==3&&(yi="\u4ea4\u6613\u5df2\u5173\u95ed");s.HeaderList.push({Content:"\u914d\u9001\u65b9\u5f0f\uff1a"+ku,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[7]});s.HeaderList.push({Content:"\u652f\u4ed8\u65b9\u5f0f\uff1a"+si,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[7]});s.HeaderList.push({Content:"\u4ed8\u6b3e\u72b6\u6001\uff1a"+yi,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[7]})}h.sv_isbook&&h.sv_deliverTime&&(s.HeaderList.push({Content:languageText("\u5916\u5356\u9884\u5b9a\u5355","deliveryOrder"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0,FontStyleType:p.bh[7]}),s.HeaderList.push({Content:languageText("\u914d\u9001\u65f6\u95f4","deliveryTime")+"\uff1a"+new Date(h.sv_deliverTime).Format("yyyy.MM.dd hh:mm:ss"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0,FontStyleType:p.bh[7]}));v<2&&(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android?s.HeaderList.push({Content:"......................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):s.HeaderList.push({Content:"..........................................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}))}if(pr=0,ur=0,v==1?ur=3:v==2&&(ur=20,s.PagePadding=ur),c&&c.length>0)for(kt=[],l=0;l<c.length;l++)pi+=parseFloat(c[l].product_num),(c[l].type==!0||c[l].product_type==1)&&c[l].p_validity_date&&(nr=!0);st="";nr||g&&g.length>0&&(ht="",g.length>0&&g[0]==1&&(v==2&&ct&&(ht+="   "+languageText("\u7f16\u7801","barcodelText")+"    ",st+=languageText("\u7f16\u7801","barcodelText")+",",s.TitleList.push({Content:languageText("\u7f16\u7801","barcodelText"),Columns:1,RowNum:1,RowMaxLength:10,Align:2,TextFont:0,Width:d.pageTitleWidth[1],FontStyleType:p.bt[0]-5})),v==1?(ht+=languageText("\u5546\u54c1","productText")+"              ",st+=languageText("\u5546\u54c1","productText")+","):(ht+=languageText("\u5546\u54c1","productText")+"     ",st+=languageText("\u5546\u54c1","productText")+","),s.TitleList.push({Content:languageText("\u5546\u54c1","productText"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:d.pageTitleWidth[0],FontStyleType:p.bt[0]})),v!=2||ct||(ht+="   "+languageText("\u7f16\u7801","barcodelText")+"    ",st+=languageText("\u7f16\u7801","barcodelText")+",",s.TitleList.push({Content:languageText("\u7f16\u7801","barcodelText"),Columns:1,RowNum:1,RowMaxLength:10,Align:2,TextFont:0,Width:d.pageTitleWidth[5],FontStyleType:p.bt[0]-5})),g.length>2&&g[2]==1&&(v==1?(ht+=languageText("\u793c\u54c1","giftText")+"              ",st+=languageText("\u793c\u54c1","giftText")+","):(ht+=languageText("\u793c\u54c1","giftText")+"     ",st+=languageText("\u793c\u54c1","giftText")+","),s.TitleList.push({Content:languageText("\u793c\u54c1","giftText"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:d.pageTitleWidth[0],FontStyleType:p.bt[0]})),v==2&&(ht+="   "+languageText("\u89c4\u683c","specText")+"    ",st+=languageText("\u89c4\u683c","specText")+",",s.TitleList.push({Content:languageText("\u89c4\u683c","specText"),Columns:1,RowNum:1,RowMaxLength:10,Align:2,TextFont:0,Width:d.pageTitleWidth[5],FontStyleType:p.bt[0]-5})),g.length>1&&g[1]==1&&(ht+="   "+languageText("\u5355\u4ef7","unitPriceText")+"    ",st+=languageText("\u5355\u4ef7","unitPriceText")+",",s.TitleList.push({Content:languageText("\u5355\u4ef7","unitPriceText"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:d.pageTitleWidth[1],FontStyleType:p.bt[1]})),g.length>3&&g[3]==1&&(ht+="   "+languageText("\u79ef\u5206","integralText")+"    ",st+=languageText("\u79ef\u5206","integralText")+",",s.TitleList.push({Content:languageText("\u79ef\u5206","integralText"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:d.pageTitleWidth[1],FontStyleType:p.bt[1]})),g.length>4&&g[4]==1&&(ht+=v==1?languageText("\u6570\u91cf","numberText")+"     ":languageText("\u6570\u91cf","numberText")+" ",st+=languageText("\u6570\u91cf","numberText")+",",s.TitleList.push({Content:languageText("\u6570\u91cf","numberText"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:d.pageTitleWidth[2],FontStyleType:p.bt[2]})),g.length>5&&g[5]==1&&(ht+=languageText("\u5c0f\u8ba1","subtotal")+" ",st+=languageText("\u5c0f\u8ba1","subtotal")+",",s.TitleList.push({Content:languageText("\u5c0f\u8ba1","subtotal"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:d.pageTitleWidth[3],FontStyleType:p.bt[3]})),g.length>6&&g[6]==1&&(ht+=languageText("\u5408\u8ba1","total")+" ",st+=languageText("\u5408\u8ba1","total")+",",s.TitleList.push({Content:languageText("\u5408\u8ba1","total"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:d.pageTitleWidth[3],FontStyleType:p.bt[3]})),decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android||(v==2?g.length>2&&g[2]==1?s.HeaderList.push({Content:d.meter_Title,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):s.HeaderList.push({Content:d.pagetitle,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):g.length>2&&g[2]==1?s.HeaderList.push({Content:d.meter_Title,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):di?s.BodyList.push({Content:"\u54c1\u540d/\u6761\u7801,\u5355\u4ef7,\u6570\u91cf,\u5c0f\u8ba1",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):s.HeaderList.push({Content:d.pagetitle,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})));var wr="",pi=0,wi=[];if(c&&c.length>0){for(kt=[],l=0;l<c.length;l++)if(pi+=parseFloat(c[l].product_num),c[l].type==!0||c[l].product_type==1)c[l].p_validity_date?(nr=!0,br=getDateFromTimestamp(c[l].p_validity_date),nt="",nt=c[l].cnum-c[l].product_num>0?c[l].product_name+","+c[l].product_num+"/"+(c[l].cnum-c[l].product_num||0)+","+br+",.":c[l].product_name+","+c[l].product_num+"/0,"+br+",.",kt.push({Content:nt,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})):(nt=c[l].product_name+","+c[l].product_num+",-"+c[l].product_num+","+(c[l].cnum-c[l].product_num||0),kt.push({Content:nt,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}));else{if(y=c[l].product_name,_g_sv_uit_cache_name=="cache_name_catering"){if(c[l].ProductTasteList&&c[l].ProductTasteList.length>0)for(y+=" ",it=0;it<c[l].ProductTasteList.length;it++)y+="("+c[l].ProductTasteList[it].sv_taste_data_name+")"}else _g_sv_uit_cache_name=="cache_name_mobile_digital"&&c[l].sv_iemi_no?wi.push(c[l].sv_iemi_no):_g_sv_uit_cache_name=="cache_name_fresh_fruit"&&c[l].sv_p_unit&&(c[l].product_num+=c[l].sv_p_unit);ot.be==1&&c[l].sv_p_barcode?y=v==2?ct?c[l].sv_p_barcode+","+y:y+","+c[l].sv_p_barcode:c[l].sv_p_barcode+"/"+y:ot.be==2&&c[l].sv_p_artno?y=v==2?ct?c[l].sv_p_artno+","+y:y+","+c[l].sv_p_artno:c[l].sv_p_artno+"/"+y:c[l].sv_p_barcode&&v==2?y=ct?c[l].sv_p_barcode+","+y:y+","+c[l].sv_p_barcode:c[l].sv_p_artno&&v==2&&(y=c[l].sv_p_artno+","+y);c[l].spec?v==2?y=y+","+c[l].spec:y+=c[l].spec:c[l].pf_newspec?v==2?y=y+","+c[l].pf_newspec:y+=c[l].pf_newspec:v==2&&(y=y+",");wr+=c[l].product_id+",";var nt="",fr=c[l].product_unitprice,vt=c[l].product_unitprice;(typeof c[l].product_single_untprice=="undefined"||c[l].product_single_untprice==0)&&c[l].product_price>0&&(c[l].product_single_untprice=c[l].product_price);typeof c[l].product_single_memberprice=="undefined"&&c[l].sv_p_memberprice>0&&(c[l].product_single_memberprice=c[l].sv_p_memberprice);c[l].product_single_untprice&&(fr=c[l].product_single_untprice,vt=c[l].product_single_untprice,v==1?(typeof Cef!="undefined"||gi==0)&&(wt&&h.prlist[l].product_single_memberprice&&h.prlist[l].product_single_memberprice>0?fr!=h.prlist[l].product_single_memberprice&&(vt+=languageText("(\u4f1a\u5458","member")+convertfloat(h.prlist[l].product_single_memberprice)+")"):fr!=h.prlist[l].product_unitprice&&(vt+=languageText("(\u6298\u540e","discount")+convertfloat(h.prlist[l].product_unitprice)+")")):v==0&&fr!=h.prlist[l].product_unitprice&&(vt=convertfloat(h.prlist[l].product_unitprice)));g_TraceabilityCode?nt=y+","+vt+","+c[l].product_num+","+c[l].product_total+","+c[l].product_id+"productid":_g_sv_uit_cache_name=="cache_name_catering"?c[l].sv_taste_total_money&&c[l].sv_taste_total_money>0?(hi=parseFloat(c[l].product_total)+parseFloat(c[l].sv_taste_total_money),nt=y+","+vt+","+c[l].product_num+","+hi.toFixed(2)):nt=y+","+vt+","+c[l].product_num+","+c[l].product_total:di?decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android?nt=y+","+vt+","+c[l].product_num+","+c[l].product_total:(nt=c[l].sv_p_barcode+","+vt+","+c[l].product_num+","+c[l].product_total,s.BodyList.push({Content:y,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,SingleRow:1})):nt=y+","+vt+","+c[l].product_num+","+c[l].product_total;s.BodyList.push({Content:nt,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});hu=y+","+c[l].product_num;ru.push({Content:hu,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})}if(kt&&kt.length>0){if(cu=!1,nr){if(s.HeaderList[s.HeaderList.length-1].Content=s.HeaderList[s.HeaderList.length-1].Content.replace("\u6570\u91cf","").replace("\u5355\u4ef7","\u5355\u4ef7*\u6570\u91cf"),s.BodyList&&s.BodyList.length>0)for(cu=!0,l=0;l<s.BodyList.length;l++)ui=s.BodyList[l].Content.split(","),ui&&ui.length==4&&(s.BodyList[l].Content=ui[0]+","+ui[1]+","+ui[2]+","+ui[3]);nt=languageText("\u9879\u76ee,\u6b21\u6570/\u5269\u4f59,\u6709\u6548\u671f","title");nt=nt+",.";s.BodyList.push({Content:nt,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});s.TitleList=[];v==0&&(s.TitleList.push({Content:languageText("\u5546\u54c1","productText"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:4}),s.TitleList.push({Content:languageText("\u5355\u4ef7","unitPriceText"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:10}),s.TitleList.push({Content:languageText("\u6570\u91cf","numberText"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:12}),s.TitleList.push({Content:languageText("\u5c0f\u8ba1","subtotal"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0}));v==1&&(s.TitleList.push({Content:languageText("\u5546\u54c1","productText"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:10}),s.TitleList.push({Content:languageText("\u5355\u4ef7","unitPriceText"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:15}),s.TitleList.push({Content:languageText("\u6570\u91cf","numberText"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:15}),s.TitleList.push({Content:languageText("\u5c0f\u8ba1","subtotal"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0}))}else nt=languageText("\u9879\u76ee,\u6b21\u6570,\u5b9e\u6263,\u5269\u4f59","title2"),s.BodyList.push({Content:nt,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});for(it=0;it<kt.length;it++)s.BodyList.push(kt[it])}}if(k&&k.length>0){if(v<2&&(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android?s.FooterList.push({Content:"............................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):s.FooterList.push({Content:"..........................................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),h.shipping_fee&&h.shipping_fee>0&&s.FooterList.push({Content:languageText("\u914d\u9001\u8d39\u7528","shippingFees")+"\uff1a "+h.shipping_fee,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),o&&o=="\u7ebf\u4e0a\u5546\u57ce\u8ba2\u5355-\u8865"&&(h.sv_contact_name&&(h.sv_contact_phone&&(h.sv_contact_name=h.sv_contact_name+"-"+h.sv_contact_phone),s.FooterList.push({Content:"\u6536\u8d27\u4eba\uff1a"+h.sv_contact_name,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[7]})),h.sv_contact_address&&s.FooterList.push({Content:"\u6536\u8d27\u5730\u5740\uff1a"+h.sv_contact_address,Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[7]})),di?(ct&&(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android?s.BodyList.push({Content:"............................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,SingleRow:1}):s.BodyList.push({Content:"..........................................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,SingleRow:1})),rt=pi.toFixed(4),rt.indexOf(".0000")>-1&&(rt=rt.split(".")[0]),s.BodyList.push({Content:languageText("\u5408\u8ba1","total")+"\uff1a,,"+rt+","+h.sv_order_total_money,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),h.order_money&&h.order_money>0&&h.order_money2&&h.order_money2>0&&h.order_payment2!="\u5f85\u6536"?(dt=parseFloat(h.order_money)+parseFloat(h.order_money2),s.FooterList.push({Content:languageText("\u5b9e\u6536\u91d1\u989d","amountReceivable2")+"\uff1a"+languageText("\uffe5","CurrencyUnit")+" "+dt,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})):(dt=parseFloat(h.order_money),s.FooterList.push({Content:languageText("\u5b9e\u6536\u91d1\u989d","amountReceivable2")+"\uff1a"+languageText("\uffe5","CurrencyUnit")+" "+dt,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}))):(k.length>1&&k[1]==1&&(rt=pi.toFixed(4),rt.indexOf(".0000")>-1&&(rt=rt.split(".")[0]),s.FooterList.push({Content:languageText("\u5546\u54c1\u603b\u6570","productCounts")+"\uff1a "+rt,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),k.length>2&&k[2]==1&&s.FooterList.push({Content:languageText("\u5e94\u6536\u91d1\u989d","amountReceivable")+"\uff1a"+languageText("\uffe5","CurrencyUnit")+" "+h.sv_order_total_money,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),h.order_money&&h.order_money>0&&h.order_money2&&h.order_money2>0&&h.order_payment2!="\u5f85\u6536"?(dt=parseFloat(h.order_money)+parseFloat(h.order_money2),s.FooterList.push({Content:languageText("\u5b9e\u6536\u91d1\u989d","amountReceivable2")+"\uff1a"+languageText("\uffe5","CurrencyUnit")+" "+dt,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})):(dt=parseFloat(h.order_money),s.FooterList.push({Content:languageText("\u5b9e\u6536\u91d1\u989d","amountReceivable2")+"\uff1a"+languageText("\uffe5","CurrencyUnit")+" "+dt,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}))),k.length>3&&k[3]==1&&k.length>3&&bt&&bt!="0"&&(ar==100?s.FooterList.push({Content:languageText("\u4f18\u60e0\u91d1\u989d","discountedPrice")+"\uff1a"+languageText("\uffe5","CurrencyUnit")+" "+bt+"  ",Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0}):s.FooterList.push({Content:languageText("\u4f18\u60e0\u91d1\u989d","discountedPrice")+"\uff1a"+languageText("\uffe5","CurrencyUnit")+" "+bt+",\u6298\uff1a"+ar.toFixed(2)+"%",Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0})),h.free_change&&h.free_change!=0&&(lu=h.free_change/1,s.FooterList.push({Content:languageText("\u62b9\u96f6\u91d1\u989d","discountedPrice")+"\uff1a"+languageText("\uffe5","CurrencyUnit")+" "+lu+"  ",Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0})),k.length>4&&k[4]==1&&wt&&h.user&&h.user.sv_mw_availableamount>=0&&s.FooterList.push({Content:languageText("\u50a8\u503c\u4f59\u989d","balanceStored")+"\uff1a"+languageText("\uffe5","CurrencyUnit")+" "+h.user.sv_mw_availableamount,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),k.length>7&&k[7]==1&&(si="",is_open_PrintingComplexFont==!0&&h&&h.order_payment?h.order_payment.replace("\u73b0\u91d1","\u73fe\u91d1").replace("\u5fae\u4fe1\u652f\u4ed8","\u5fae\u4fe1\u652f\u4ed8").replace("\u652f\u4ed8\u5b9d","\u652f\u4ed8\u5bf6").replace("\u8d4a\u8d26","\u8cd2\u8cec").replace("\u7f8e\u56e2","\u7f8e\u5718").replace("\u53e3\u7891","\u53e3\u7891").replace("\u95ea\u60e0","\u9583\u60e0").replace("\u94f6\u884c\u5361","\u9280\u884c\u5361").replace("\u4f18\u60e0\u5238","\u512a\u60e0\u5238"):si=h.order_payment,si=isNullOrWhiteSpace(h.order_payment2)&&(h.order_payment2.indexOf("\u5f85")<0||h.order_payment2!="\u5f85\u6536")?si+"("+h.order_money+")/"+h.order_payment2+"("+h.order_money2+")":h.order_payment,h.order_payment2&&h.order_money2&&h.order_payment2!="\u5f85\u6536"?(s.FooterList.push({Content:languageText("\u652f\u4ed8\u65b9\u5f0f","paymentMethod")+"\uff1a"+h.order_payment+"("+h.order_money+")",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),s.FooterList.push({Content:languageText("       ","paymentMethod")+"  "+h.order_payment2+"("+h.order_money2+")",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})):s.FooterList.push({Content:languageText("\u652f\u4ed8\u65b9\u5f0f","paymentMethod")+"\uff1a"+si+" ",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),k.length>8&&k[8]==1&&wt&&s.FooterList.push({Content:languageText("\u79ef\u5206\uff08\u672c\u6b21/\u7d2f\u8ba1\uff09","integralCounts")+"\uff1a"+ir,Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0}),h.sv_give_change&&h.sv_give_change>0&&s.FooterList.push({Content:languageText("\u627e\u96f6","change")+"\uff1a"+languageText("\uffe5","CurrencyUnit")+" "+h.sv_give_change,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),k.length>10&&k[10]==1&&s.FooterList.push({Content:languageText("\u7535\u8bdd","tel")+"\uff1a"+convertString(w.user.sv_us_phone),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),k.length>9&&k[9]==1&&(h.order_datetime&&(iu=new Date(h.order_datetime).Format("yyyy-MM-dd hh:mm:ss")),s.FooterList.push({Content:languageText("\u9500\u552e\u65f6\u95f4","salesTime")+"\uff1a"+iu,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),k.length>12&&k[12]==1&&s.FooterList.push({Content:"\u6253\u5370\u65f6\u95f4\uff1a"+(new Date).Format("yyyy.MM.dd hh:mm:ss"),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),h.sv_remarks?s.FooterList.push({Content:languageText("\u5907\u6ce8","note")+"\uff1a"+convertString(h.sv_remarks),Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0}):h.sv_remark&&s.FooterList.push({Content:languageText("\u5907\u6ce8","note")+"\uff1a"+convertString(h.sv_remark),Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0}),k.length>11&&k[11]==1&&s.FooterList.push({Content:languageText("\u5e97\u94fa\u5730\u5740","shopAddress")+"\uff1a "+convertString(w.user.sv_us_address),Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0}),h.recipient_name&&s.FooterList.push({Content:languageText("\u6536\u8d27\u4eba","receiver")+"\uff1a "+h.recipient_name,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),h.recipient_phone&&s.FooterList.push({Content:languageText("\u8054\u7cfb\u65b9\u5f0f","contactInformation")+"\uff1a "+h.recipient_phone,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),h.sv_hasinvoiced&&(ci="\u3010",h.sv_invoicetitle&&(ci+=h.sv_invoicetitle),h.sv_taxpayerid&&(ci+=h.sv_taxpayerid),ci=ci+"\u3011",s.FooterList.push({Content:languageText("\u53d1\u7968","invoice")+"\uff1a"+ci,Columns:1,RowNum:3,RowMaxLength:10,Align:0,TextFont:0,Width:0})),h.recipient_address&&s.FooterList.push({Content:languageText("\u6536\u8d27\u5730\u5740","shippingAddress")+"\uff1a"+h.recipient_address,Columns:1,RowNum:3,RowMaxLength:10,Align:0,TextFont:0,Width:0}),wi&&wi.length>0)for(l=0;l<wi.length;l++)s.FooterList.push({Content:"*"+languageText("\u4e32\u53f7","serialNumber")+"*\uff1a"+wi[l],Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});_g_sv_uit_cache_name&&_g_sv_uit_cache_name!="cache_name_pharmaceutical_indu"&&s.FooterList.push({Content:languageText("\u8c22\u8c22\u60e0\u987e\uff0c\u6b22\u8fce\u4e0b\u6b21\u5149\u4e34","welcome"),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});_g_homeGetUserLoginData&&_g_homeGetUserLoginData.sv_versionid<2&&(fi==1||fi==2)&&(_g_homeGetUserLoginData.distributor_id==1?s.FooterList.push({Content:"----\u7531\u5fb7\u5ba2\u7cfb\u7edf\u7ba1\u7406\u8f6f\u4ef6\u63d0\u4f9b----",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0}):s.FooterList.push({Content:"----\u7531\u4f1a\u5458\u7ba1\u7406\u8f6f\u4ef6\u63d0\u4f9b----",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0}))}if(yr&&yr.ImageString&&(s.FooterList.push({Content:languageText("\u4e8c\u7ef4\u7801","QRcode"),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),s.QRCodeData=yr),v<2&&s.FooterList.push({Content:"\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014-",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),et&&et.ImageString&&(et.ImageString.indexOf("http")>=0||et.ImageString.indexOf("https")>=0?(et.ImageString=et.ImageString,s.LogoData=et):et.ImageString.indexOf("res.decerp.cc")>=0?(et.ImageString="https:"+et.ImageString,s.LogoData=et):(et.ImageString="https://res.decerp.cc"+et.ImageString,s.LogoData=et),s.FooterList.push({Content:"",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),v<2,v==2){if(s&&s.HeaderList&&s.HeaderList.length>0)for(yt=1,l=1;l<s.HeaderList.length-1;l++)yt>3&&(yt=1),s.HeaderList[l].Align=0,s.HeaderList[l].Columns=yt,yt++;if(s&&s.FooterList&&s.FooterList.length>0)for(yt=1,l=0;l<s.FooterList.length-1;l++)yt>3&&(yt=1),s.FooterList[l].Columns=yt,yt++}if((!tu||!0)&&(PreferentialTopUpGivingConfigList("PrintSeting","PrintSet_ExtraInfo"),Preferential_TopUpGiving_ConfigList!=null&&Preferential_TopUpGiving_ConfigList.length>0&&(bi=Preferential_TopUpGiving_ConfigList[0].sv_detail_value,bi)))if(bi.toLowerCase().indexOf("<br/>")>0)for(kr=bi.split("<br/>"),l=0;l<kr.length;l++)s.FooterList.push({Content:kr[l],Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0});else s.FooterList.push({Content:bi,Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0});if(parseInt(receptionPtNum)>0&&receptionPtName!=null&&receptionPtName!=""){if(typeof Cef!="undefined")if(printSet_network_device_font_islabel){if(c&&c.length>0){for(li=0,gt=0,a=0;a<c.length;a++)gt=parseInt(gt)+parseInt(c[a].product_num);for(a=0;a<c.length;a++)for(ai=0;ai<c[a].product_num;ai++){if(ni=c[a].product_name,c[a]&&c[a].ProductTasteList&&c[a].ProductTasteList.length>0)for(ni+=" ",it=0;it<c[a].ProductTasteList.length;it++)ni+=c[a].ProductTasteList[it].sv_taste_data_name;li++;b=[];ti=h.order_running_id;h.everyday_serialnumber&&_g_everyDaySerialNumber&&(ti=h.everyday_serialnumber);h!=null&&h.meiridanhao!=null&&h.meiridanhao!=""&&(ti=h.meiridanhao);b.push({Content:languageText("\u5355\u53f7","orderNumber")+":"+convertString(ti)+" \u5e8f\u53f7:"+li+"/"+gt,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:8,Width:0});b.push({Content:ni,Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:10,Width:0});b.push({Content:"",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:10,Width:0});_g_sv_uit_cache_name=="cache_name_catering"?c[a].sv_taste_total_money>0?(er=parseFloat(c[a].product_total)+parseFloat(c[a].sv_taste_total_money),c[a].product_num>0&&(er=parseFloat(er)/parseFloat(c[a].product_num)),b.push({Content:languageText("\uffe5","CurrencyUnit")+er.toFixed(2)+"\u5143",Columns:2,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,TextFontSize:8,Width:0})):(ii=parseFloat(c[a].product_total),c[a].product_num>0&&(ii=parseFloat(ii)/parseFloat(c[a].product_num)),b.push({Content:languageText("\uffe5","CurrencyUnit")+parseFloat(ii).toFixed(2)+"\u5143",Columns:2,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,TextFontSize:8,Width:0})):(ii=parseFloat(c[a].product_total),c[a].product_num>0&&(ii=parseFloat(ii)/parseFloat(c[a].product_num)),b.push({Content:languageText("\uffe5","CurrencyUnit")+parseFloat(ii).toFixed(2)+"\u5143",Columns:2,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,TextFontSize:8,Width:0}));typeof user_id=="undefined"||user_id!="20806328"?(b.push({Content:"\u3010"+convertString(w.user.sv_us_name)+"\u3011",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:7,Width:0}),convertString(w.user.sv_us_phone)?b.push({Content:languageText("\u7535\u8bdd","tel")+":"+convertString(w.user.sv_us_phone),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:7,Width:0}):_g_sv_uit_cache_name&&_g_sv_uit_cache_name!="cache_name_pharmaceutical_indu"&&b.push({Content:languageText("\u8c22\u8c22\u60e0\u987e!","thanks"),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:7,Width:0})):b.push({Content:"\u3010"+convertString(w.user.sv_us_name)+"\u3011",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:7,Width:0});b.push({Content:cr+":"+lr,Columns:2,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,TextFontSize:7,Width:0});or={FooterList:b,QRCodeData:null,Action:1,PageType:4,PagePadding:10};typeof Cef!="undefined"&&Cef.LabelPrint(JSON.stringify(or),""+receptionPtNum+"",receptionPtName,!1,40,30)}}}else if(g_TraceabilityCode)$.ajax({url:"/AjaxProduct/GetTraceabilityCodeList?id="+wr+"0",type:"get",success:function(n){var u,t,r,f,i;if(n)for(t=0;t<s.BodyList.length;t++)for(u=0;u<n.length;u++)if(s.BodyList[t].Content.indexOf(n[u].product_id+"productid")>-1){for(r=s.BodyList[t].Content.split(","),f="",i=0;i<r.length;i++)i!=r.length-1&&(f+=r[i],i!=r.length-2&&(f+=","));s.BodyList[t].Content="*"+f;s.BodyList[t].HasTraceUrl=n[u].sv_qr_code_image_path!=""||n[u].sv_qr_code_image_path!=null||n[u].sv_qr_code_image_path!=undefined?!0:!1;s.BodyList[t].TraceTrl=n[u].sv_qr_code_image_path;s.BodyList[t].ImageWidth=90;s.BodyList[t].ImageHeight=90;s.BodyList[t].ImageAlign=1;break}for(t=0;t<s.BodyList.length;t++)if(!s.BodyList[t].HasTraceUrl||s.BodyList[t].HasTraceUrl==!1){for(r=s.BodyList[t].Content.split(","),f="",i=0;i<r.length;i++)i!=r.length-1&&(f+=r[i],i!=r.length-2&&(f+=","));s.BodyList[t].Content=f}typeof Cef!="undefined"&&Cef.CustormTracePrint(JSON.stringify(s),"1",receptionPtName)}});else for(l=0;l<receptionPtNum;l++){if(v==2){for(s.PrintVersion=3,s.HeaderList[0].TextFontSize=14,s.HeaderList[1].TextFontSize=12,au=s.HeaderList[0].Content,s.HeaderList[0].Content=s.HeaderList[1].Content,s.HeaderList[1].Content=au,s.HeaderList[1].Align=1,s.PagePadding=40,ki=1,l=2;l<s.HeaderList.length-1;l++)ki>3&&(ki=1),s.HeaderList[l].Columns=ki,ki++;s&&s.TitleList&&s.TitleList.length>5&&(s.TitleList[3].ContentAlign=2,s.TitleList[4].ContentAlign=2,s.TitleList[5].ContentAlign=2);rt=pi.toFixed(4);rt.indexOf(".0000")>-1&&(rt=rt.split(".")[0]);s.BodyList.push({Content:"\u5408\u8ba1,,,,"+rt+","+h.order_receivable,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})}Cef.CustormPrint(JSON.stringify(s),"1",receptionPtName)}else if(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android)try{if(g_TraceabilityCode)ut=s,$.ajax({url:"/AjaxProduct/GetTraceabilityCodeList?id="+wr+"0",type:"get",success:function(n){var e,t,r,u,i,f;if(n)for(t=0;t<ut.BodyList.length;t++){if(n&&n.length>0)for(e=0;e<n.length;e++)if(ut.BodyList[t].Content.indexOf(n[e].product_id+"productid")>-1){for(r=ut.BodyList[t].Content.split(","),u="",i=0;i<r.length;i++)i!=r.length-1&&(u+=r[i],i!=r.length-2&&(u+=","));ut.BodyList[t].Content="*"+u;ut.BodyList[t].HasTraceUrl=!0;ut.BodyList[t].TraceTrl=n[e].sv_qr_code_image_path;ut.BodyList[t].ImageWidth=90;ut.BodyList[t].ImageHeight=90;ut.BodyList[t].ImageAlign=1;break}for(t=0;t<s.BodyList.length;t++)if(!s.BodyList[t].HasTraceUrl||s.BodyList[t].HasTraceUrl==!1){for(r=s.BodyList[t].Content.split(","),u="",i=0;i<r.length;i++)i!=r.length-1&&(u+=r[i],i!=r.length-2&&(u+=","));s.BodyList[t].Content=u}}if(ut.FooterList.push({Content:"\u6ce8\uff1a\u5e26\u201c*\u201d\u5546\u54c1\u53ef\u8fdb\u884c\u8ffd\u6eaf\u4fe1\u606f\u67e5\u8be2",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),g_android_print_config&&g_android_print_config.length>0&&g_android_print_config[0].whetherToEnablenable)if(parseInt(g_android_print_config[0].count||1)>1)for(f=0;f<parseInt(g_android_print_config[0].count||1);f++)cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(ut),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(ut),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else if(parseInt(receptionPtNum)>0)for(f=0;f<parseInt(receptionPtNum);f++)cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(ut)});else cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(ut)})}});else if(g_android_print_config&&g_android_print_config.length>0&&g_android_print_config[0].whetherToEnablenable)if(parseInt(g_android_print_config[0].count||1)>0)for(pt=0;pt<parseInt(g_android_print_config[0].count||1);pt++)cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(s),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(s),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else if(parseInt(receptionPtNum)>0)for(pt=0;pt<parseInt(receptionPtNum);pt++)cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(s)});else cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(s)})}catch(su){layer("\u6253\u5370\u5931\u8d25: "+su.message)}}else if(typeof Cef!="undefined")Cef.CustormPrint(JSON.stringify(s));else if(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android)try{if(g_android_print_config&&g_android_print_config.length>0&&g_android_print_config[0].whetherToEnablenable)if(parseInt(g_android_print_config[0].count||1)>0)for(pt=0;pt<parseInt(g_android_print_config[0].count||1);pt++)cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(s),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(s),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else if(parseInt(receptionPtNum)>0)for(dr=0;dr<parseInt(receptionPtNum);dr++)cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(s)});else cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(s)})}catch(su){layer("\u6253\u5370\u5931\u8d25: "+su.message)}if(printSet_network_enable)if(printSet_network_device_back_islabel){if(backstagePtNum>0&&c&&c.length>0){for(li=0,gt=0,a=0;a<c.length;a++)gt=parseInt(gt)+parseInt(c[a].product_num);for(a=0;a<c.length;a++)for(ai=0;ai<c[a].product_num;ai++){if(ni=c[a].product_name,c[a]&&c[a].ProductTasteList&&c[a].ProductTasteList.length>0)for(ni+=" ",it=0;it<c[a].ProductTasteList.length;it++)ni+=c[a].ProductTasteList[it].sv_taste_data_name;if(li++,b=[],ti=h.order_running_id,h.everyday_serialnumber&&_g_everyDaySerialNumber&&(ti=h.everyday_serialnumber),h!=null&&h.meiridanhao!=null&&h.meiridanhao!=""&&(ti=h.meiridanhao),b.push({Content:languageText("\u5355\u53f7","orderNumber")+":"+convertString(ti)+"\u5e8f\u53f7:"+li+"/"+gt,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:8,Width:0}),b.push({Content:ni,Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:10,Width:0}),b.push({Content:"",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:10,Width:0}),_g_sv_uit_cache_name=="cache_name_catering"?c[a].sv_taste_total_money>0?(hi=parseFloat(c[a].product_total),c[a].product_num>0&&(hi=parseFloat(hi)/parseFloat(c[a].product_num)),b.push({Content:languageText("\uffe5","CurrencyUnit")+hi.toFixed(2)+"\u5143",Columns:2,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,TextFontSize:8,Width:0})):(ri=parseFloat(c[a].product_total),c[a].product_num>0&&(ri=parseFloat(ri)/parseFloat(c[a].product_num)),b.push({Content:languageText("\uffe5","CurrencyUnit")+parseFloat(ri).toFixed(2)+"\u5143",Columns:2,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,TextFontSize:8,Width:0})):(ri=parseFloat(c[a].product_total),c[a].product_num>0&&(ri=parseFloat(ri)/parseFloat(c[a].product_num)),b.push({Content:languageText("\uffe5","CurrencyUnit")+parseFloat(ri).toFixed(2)+"\u5143",Columns:2,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,TextFontSize:8,Width:0})),typeof user_id=="undefined"||user_id!="20806328"?(b.push({Content:"\u3010"+convertString(w.user.sv_us_name)+"\u3011",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:7,Width:0}),convertString(w.user.sv_us_phone)?b.push({Content:languageText("\u7535\u8bdd","tel")+":"+convertString(w.user.sv_us_phone),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:7,Width:0}):_g_sv_uit_cache_name&&_g_sv_uit_cache_name!="cache_name_pharmaceutical_indu"&&b.push({Content:languageText("\u8c22\u8c22\u60e0\u987e!","thanks"),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:7,Width:0})):b.push({Content:"\u3010"+convertString(w.user.sv_us_name)+"\u3011",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:7,Width:0}),b.push({Content:cr+":"+lr,Columns:2,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,TextFontSize:7,Width:0}),or={FooterList:b,QRCodeData:null,Action:1,PageType:4,PagePadding:10},typeof Cef!="undefined")for(l=0;l<backstagePtNum;l++)Cef.LabelPrint(JSON.stringify(or),"1",backstagePtName,!1,40,30)}}}else vi=[],vi.push({Content:languageText("\u540e\u53f0\u6253\u5370","spooling"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0}),_g_sv_uit_cache_name=="cache_name_catering"&&h.sv_catering_grade&&vi.push({Content:languageText("\u684c/\u724c\u53f7","deskNumber")+"\uff1a"+convertString(h.sv_catering_grade),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),vi.push({Content:languageText("\u5355\u53f7","orderNumber")+"\uff1a"+convertString(h.order_running_id),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),vi.push(s.HeaderList[s.HeaderList.length-1]),s.HeaderList=vi,_g_sv_uit_cache_name=="cache_name_catering"&&(s.TitleList=[],s.TitleList.push({Content:languageText("\u5546\u54c1","productText"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:15+pr,TextFontSize:2}),s.TitleList.push({Content:languageText("\u6570\u91cf","numberText"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:6+pr,TextFontSize:2}),s.BodyList=ru,sr="",sr+=v==1?languageText("\u5546\u54c1","productText")+"                                    ":languageText("\u5546\u54c1","productText")+"                ",sr+=v==1?languageText("\u6570\u91cf","numberText")+"         ":languageText("\u6570\u91cf","numberText")+"     ",s.HeaderList[s.HeaderList.length-1]={Content:sr,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),backstagePtNum>0&&(vu={HeaderList:s.HeaderList,BodyList:s.BodyList,TitleList:s.TitleList,FooterList:[],LogoData:s.LogoData,QRCodeData:s.QRCodeData,Action:s.Action,PageType:s.PageType,PagePadding:s.PagePadding},Cef.CustormPrint(JSON.stringify(vu),""+backstagePtNum+"",backstagePtName))}catch(su){}}function pushprintDataN3(n,t,i,r,u,f,e,o){var nr=!1,at,ou,p,sr,ut,k,bt,tt,kt,st,c,vt,iu,ar,ru,vr,cf,ht,ct,ii,fu,v,gt,wi,bu,ku,ur,b,du,gu,ci,d,fr,nf,tr,tf,bi,dt,er,eu,pr,si,rf,or,br,rt,lt,ni,li,ki,fi,y,di,ei,et,nt,oi,ui,hi,wr,s,gi,kr,uf;_g_sv_uit_cache_name=="cache_name_clothing_and_shoes"&&(nr=!0);at=!1;typeof Cef!="undefined"&&(ou=typeof Cef.CustormPrintV4,ou=="function"&&(at=!0));p={user_id:"47116375",bt:[1,0,0,0],bb:[0,0,0,0,0,0,0,0,0],bf:[0,0,0,0,0,0,0,0,0,0,0,0,0],bh:[0,0,0,0,0,0,0,0],fontSize:9};o=="\u7ed3\u8d26\u5355"&&(o="\u9500\u552e\u5355");is_open_PrintingComplexFont==!0&&o&&(o=o.replace("\u7ed3\u8d26\u5355-\u8865","\u7d50\u8cec\u55ae-\u88dc").replace("\u53cd\u7ed3\u8d26\u5355","\u53cd\u7d50\u8cec\u55ae").replace("\u9500\u552e\u5355","\u92b7\u552e\u55ae"));sr=1;(user_id=="11101835"||user_id=="31003611"||user_id=="67792135"||user_id=="73691726"||user_id=="78273121"||user_id=="89190430")&&(sr=0);ut=!1;(user_id=="37895464"||user_id=="28173191")&&(ut=!0);k={pagetitle2:languageText("\u5546\u54c1","productText")+","+languageText("\u5355\u4ef7","unitPriceText")+","+languageText("\u6570\u91cf","numberText")+","+languageText("\u5c0f\u8ba1","subtotal"),meter_Title2:languageText("\u793c\u54c1","giftText")+","+languageText("\u79ef\u5206","integralText")+","+languageText("\u6570\u91cf","numberText")+","+languageText("\u5408\u8ba1","total")};bt=ut?[{pagesize:58,fontSize:9,pagetitle:languageText("\u5546\u54c1","productText")+"      "+languageText("\u5355\u4ef7","unitPriceText")+"    "+languageText("\u6570\u91cf","numberText")+"  "+languageText("\u5c0f\u8ba1","subtotal"),meter_Title:languageText("\u793c\u54c1","giftText")+"        "+languageText("\u79ef\u5206","integralText")+"   "+languageText("\u6570\u91cf","numberText")+" "+languageText("\u5408\u8ba1","total"),pageline:"",pageTitleWidth:[9,5,4,6],pagetitle2:k.pagetitle2,meter_Title2:k.meter_Title2},{pagesize:58,fontSize:12,pagetitle:languageText("\u5546\u54c1","productText")+"     "+languageText("\u5355\u4ef7","unitPriceText")+" "+languageText("\u6570\u91cf","numberText")+" "+languageText("\u5c0f\u8ba1","subtotal"),pageline:"",pageTitleWidth:[10,3,1,3],pagetitle2:k.pagetitle2,meter_Title2:k.meter_Title2},{pagesize:80,fontSize:9,pagetitle:languageText("\u5546\u54c1","productText")+"                "+languageText("\u5355\u4ef7","unitPriceText")+"       "+languageText("\u6570\u91cf","numberText")+"  "+languageText("\u5c0f\u8ba1","subtotal"),pageline:"",pageTitleWidth:[15,13,5,6],pagetitle2:k.pagetitle2,meter_Title2:k.meter_Title2},{pagesize:80,fontSize:12,pagetitle:languageText("\u5546\u54c1","productText")+"            "+languageText("\u5355\u4ef7","unitPriceText")+"  "+languageText("\u6570\u91cf","numberText")+"  "+languageText("\u5c0f\u8ba1","subtotal"),pageline:"",pageTitleWidth:[14,5,4,5],pagetitle2:k.pagetitle2,meter_Title2:k.meter_Title2},{pagesize:210,fontSize:12,pagetitle:languageText("\u5546\u54c1","productText")+"             "+languageText("\u7f16\u7801","barcodelText")+"              "+languageText("\u89c4\u683c","specText")+"             "+languageText("\u5355\u4ef7","unitPriceText")+"  "+languageText("\u6570\u91cf","numberText")+"  "+languageText("\u5c0f\u8ba1","subtotal"),pageline:"",pageTitleWidth:[25,5,4,5,10,15],pagetitle2:k.pagetitle2,meter_Title2:k.meter_Title2},{pagesize:210,fontSize:12,pagetitle:languageText("\u5546\u54c1","productText")+""+languageText("\u7f16\u7801","barcodelText")+""+languageText("\u89c4\u683c","specText")+"             "+languageText("\u5355\u4f4d","ssText")+"             "+languageText("\u5355\u4ef7","unitPriceText")+"  "+languageText("\u6570\u91cf","numberText")+"  "+languageText("\u5c0f\u8ba1","subtotal")+languageText("\u5907\u6ce8","remake"),pageline:"",pageTitleWidth:[25,10,10,10,10,15,5],pagetitle2:k.pagetitle2,meter_Title2:k.meter_Title2},{pagesize:76,fontSize:12,pagetitle:languageText("\u5546\u54c1","productText")+"            "+languageText("\u5355\u4ef7","unitPriceText")+"      "+languageText("\u6570\u91cf","numberText")+"      "+languageText("\u5c0f\u8ba1","subtotal"),pageline:"",pageTitleWidth:[13,5,7,9],pagetitle2:k.pagetitle2,meter_Title2:k.meter_Title2}]:[{pagesize:58,fontSize:9,pagetitle:languageText("\u5546\u54c1","productText")+"      "+languageText("\u5355\u4ef7","unitPriceText")+"    "+languageText("\u6570\u91cf","numberText")+"  "+languageText("\u5c0f\u8ba1","subtotal"),meter_Title:languageText("\u793c\u54c1","giftText")+"        "+languageText("\u79ef\u5206","integralText")+"   "+languageText("\u6570\u91cf","numberText")+" "+languageText("\u5408\u8ba1","total"),pageline:"",pageTitleWidth:[9,5,4,6],pagetitle2:k.pagetitle2,meter_Title2:k.meter_Title2},{pagesize:58,fontSize:12,pagetitle:languageText("\u5546\u54c1","productText")+"     "+languageText("\u5355\u4ef7","unitPriceText")+" "+languageText("\u6570\u91cf","numberText")+" "+languageText("\u5c0f\u8ba1","subtotal"),pageline:"",pageTitleWidth:[10,3,1,3],pagetitle2:k.pagetitle2,meter_Title2:k.meter_Title2},{pagesize:80,fontSize:9,pagetitle:languageText("\u5546\u54c1","productText")+"                "+languageText("\u5355\u4ef7","unitPriceText")+"       "+languageText("\u6570\u91cf","numberText")+"  "+languageText("\u5c0f\u8ba1","subtotal"),pageline:"",pageTitleWidth:[15,13,5,6],pagetitle2:k.pagetitle2,meter_Title2:k.meter_Title2},{pagesize:80,fontSize:12,pagetitle:languageText("\u5546\u54c1","productText")+"            "+languageText("\u5355\u4ef7","unitPriceText")+"  "+languageText("\u6570\u91cf","numberText")+"  "+languageText("\u5c0f\u8ba1","subtotal"),pageline:"",pageTitleWidth:[14,5,4,5],pagetitle2:k.pagetitle2,meter_Title2:k.meter_Title2},{pagesize:210,fontSize:12,pagetitle:languageText("\u5546\u54c1","productText")+"             "+languageText("\u7f16\u7801","barcodelText")+"              "+languageText("\u89c4\u683c","specText")+"             "+languageText("\u5355\u4ef7","unitPriceText")+"  "+languageText("\u6570\u91cf","numberText")+"  "+languageText("\u5c0f\u8ba1","subtotal"),pageline:"",pageTitleWidth:[25,5,4,5,10,15],pagetitle2:k.pagetitle2,meter_Title2:k.meter_Title2},{pagesize:210,fontSize:12,pagetitle:languageText("\u5546\u54c1","productText")+"             "+languageText("\u7f16\u7801","barcodelText")+"              "+languageText("\u89c4\u683c","specText")+"             "+languageText("\u5355\u4ef7","unitPriceText")+"  "+languageText("\u6570\u91cf","numberText")+"  "+languageText("\u5c0f\u8ba1","subtotal"),pageline:"",pageTitleWidth:[50,10,10,10,15,15],pagetitle2:k.pagetitle2,meter_Title2:k.meter_Title2},{pagesize:76,fontSize:12,pagetitle:languageText("\u5546\u54c1","productText")+"            "+languageText("\u5355\u4ef7","unitPriceText")+"      "+languageText("\u6570\u91cf","numberText")+"      "+languageText("\u5c0f\u8ba1","subtotal"),pageline:"",pageTitleWidth:[13,5,7,9],pagetitle2:k.pagetitle2,meter_Title2:k.meter_Title2}];tt=bt[0];getAndroidPrintConfig();var su=!0,ai=0,vi=new Date,ff=vi.getFullYear(),ef=vi.getMonth(),of=vi.getDate(),dr=vi.getHours(),gr=vi.getMinutes(),sf=vi.getSeconds(),hu=ff+"/"+fnW(ef+1)+"/"+fnW(of)+" "+fnW(dr)+":"+fnW(gr)+":"+fnW(sf),l=JSON.parse(n),g=JSON.parse(t),a=0,ot=0,cu=[],nu=!1,lu=!0,ti=0;if(g&&g.cof&&g.cof.sv_uc_dayin&&(kt=JSON.parse(g.cof.sv_uc_dayin),kt!="[]"&&kt!=""&&kt!=null&&(a=kt.xiaopiao==58?0:1,kt.xiaopiao==58?(a=0,tt=p.fontSize==12?bt[1]:bt[0],at&&(ti=58)):kt.xiaopiao==80?(a=1,tt=p.fontSize==12?bt[3]:bt[2],at&&(ti=80)):kt.xiaopiao==76?(a=1,tt=p.fontSize==12?bt[3]:bt[6],at&&(ti=76)):kt.xiaopiao==210?(a=2,tt=bt[4],at&&(tt=bt[5])):(tt=bt[0],a=0),ai=kt.mo)),st=[],c={HeaderList:[],BodyList:[],TitleList:[],FooterList:[],LogoData:null,QRCodeData:null,Action:1,PageType:a,pageWidthV3:0,PageRealWidth:0,PagePadding:0,FontSize:p.fontSize,PrintVersion:1,Gtype:sr},at&&ti>0&&(c.pageWidthV3=ti,ti==76?(c.PageWidth=ti,c.PageRealWidth=270):c.PageRealWidth=ti==80?80:58),g&&g.cof&&g.cof.sv_pfconfig&&g.cof.sv_pfconfig.length>10?(su=!1,st=JSON.parse(g.cof.sv_pfconfig)):(st={a:1,b:"1,1,0,0,1,1,0,0,0",f:"0,1,1,1,1,1,0,1,1,1,1,1,1",h:"1,0,1,1,1,0,1,1",l:null,p:0,q:{Align:1,Width:100,Height:100,ImageString:""},t:"",be:0},ai==1?st.f="0,1,1,0,0,1,0,0,0,0,0,0,0":ai==2?st.f="0,1,1,1,1,1,0,1,1,1,1,1,1":ai==3&&(st.f="0,1,1,1,1,1,0,1,1,1,1,1,1")),g&&g.cof)try{l.user&&l.user.sv_mr_cardno&&(vt=isNullOrWhiteSpace(l.user.sv_mr_cardno));var tu=0,hr=l.order_receivable,au=1,cr="",vu=0,yi="",lr=0,yu=0;if(vt){for(g.cof.sv_uc_pointtocashset!="[]"&&g.cof.sv_uc_pointtocashset!=""&&g.cof.sv_uc_pointtocashset!=null&&(yi=JSON.parse(g.cof.sv_uc_pointtocashset)),yi!="[]"&&yi!=""&&yi!=null&&(hr=yi[0],au=yi[1]),s=0;s<l.prlist.length;s++)l.prlist[s].sv_product_integral&&l.prlist[s].sv_product_integral>=0&&MembershipGradeGroupingIsON?tu+=parseFloat(l.prlist[s].sv_product_integral):hr&&hr!=0&&MembershipGradeGroupingIsON&&(tu+=parseInt(l.prlist[s].product_total/hr*au));vu=l.user.sv_mw_availablepoint;cr=tu+"/ "+(vu||0);f==1&&f>0&&(cr=cr+languageText("(\u542b\u6d3b\u52a8\u6d88\u8d39\u8d60\u9001","activeFreeText")+u+languageText("\u79ef\u5206)","integral"))}try{iu=parseInt((r-l.order_receivable).toFixed(2)*100)/100;yu=l.sv_member_discount>0&&l.sv_member_discount!=1?l.sv_member_discount*100:l.order_discount>0&&l.order_discount!=1?l.order_discount*100:l.order_discount_new>0&&l.order_discount_new!=1?l.order_discount_new*100:l.order_discount*100;iu>0&&(lr=iu+"")}catch(pu){}f==2&&(lr=lr==0?u+languageText("(\u6d3b\u52a8\u6d88\u8d39\u51cf\u514d","activeFreecut")+u+languageText("\u5143)","yuan"):lr+languageText("(\u6d3b\u52a8\u6d88\u8d39\u51cf\u514d","activeFreecut")+u+languageText("\u5143)","yuan"));var it=st.h.split(","),ft=st.b.split(","),h=l.prlist,w=st.f.split(","),wu=st.q,yt=st.l,pt=st.k;if(it&&it.length>0){if(o&&c.HeaderList.push({Content:o,Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0,FontStyleType:p.bh[0]}),it.length>0&&it[0]==1&&c.HeaderList.push({Content:convertString(g.user.sv_us_name),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0,FontStyleType:p.bh[0]}),_g_sv_uit_cache_name=="cache_name_catering"&&l.sv_catering_grade&&c.HeaderList.push({Content:languageText("\u684c/\u724c\u53f7","deskNumber")+"\uff1a"+convertString(l.sv_catering_grade),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),ar=l.order_running_id,l.everyday_serialnumber&&_g_everyDaySerialNumber&&_g_sv_uit_cache_name!="cache_name_catering"&&(ar=l.everyday_serialnumber),l!=null&&l.meiridanhao!=null&&l.meiridanhao!=""&&(ar=l.meiridanhao),it.length>4&&it[4]==1&&c.HeaderList.push({Content:languageText("\u5355\u53f7","orderNumber")+"\uff1a"+convertString(ar),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[4],RowStyle:1}),l.everyday_serialnumber&&_g_everyDaySerialNumber&&_g_sv_uit_cache_name=="cache_name_catering"&&c.HeaderList.push({Content:languageText("\u6d41\u6c34\u53f7","orderrunning")+"\uff1a"+convertString(l.order_running_id),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[4],RowStyle:1}),w.length>9&&w[9]==1&&(l.order_datetime&&(hu=new Date(l.order_datetime).Format("yyyy-MM-dd hh:mm:ss")),c.HeaderList.push({Content:languageText("\u9500\u552e\u65f6\u95f4","salesTime")+"\uff1a"+hu,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1})),it.length>5&&it[5]==1&&c.HeaderList.push({Content:languageText("\u64cd\u4f5c\u5458","cashier")+"\uff1a"+sv_current_operato,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[5],RowStyle:1}),a!=2||ut?a==2&&(it.length>6&&it[6]==1&&vt&&c.HeaderList.push({Content:languageText("\u5ba2\u6237\u59d3\u540d","memberName")+"\uff1a"+l.user.sv_mr_name,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[6],RowStyle:1,RowStyle:1}),it.length>7&&it[7]==1&&vt&&c.HeaderList.push({Content:languageText("\u5ba2\u6237\u7535\u8bdd","membermMobile")+"\uff1a"+l.user.sv_mr_mobile,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[7],RowStyle:1,RowStyle:1}),vt&&c.HeaderList.push({Content:languageText("\u5ba2\u6237\u5730\u5740","memberAddress")+"\uff1a"+(l.user.sv_mr_address||""),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[8],RowStyle:1})):(it.length>6&&it[6]==1&&vt&&c.HeaderList.push({Content:languageText("\u5ba2\u6237\u59d3\u540d","memberName")+"\uff1a"+l.user.sv_mr_name,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[6],RowStyle:1,RowStyle:1}),it.length>7&&it[7]==1&&vt&&c.HeaderList.push({Content:languageText("\u5361\u53f7","memberCard")+"\uff1a"+l.user.sv_mr_cardno,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[7],RowStyle:1,RowStyle:1}),it.length>8&&it[8]==1&&vt&&c.HeaderList.push({Content:languageText("\u5ba2\u6237\u7b49\u7ea7","memberGrade")+"\uff1a"+(l.user.sv_ml_name||""),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[8],RowStyle:1})),l.sv_person_num&&_g_sv_uit_cache_name=="cache_name_catering"&&c.HeaderList.push({Content:languageText("\u4eba\u6570","personnum")+"\uff1a"+l.sv_person_num,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[5],RowStyle:1}),o&&o=="\u7ebf\u4e0a\u5546\u57ce\u8ba2\u5355-\u8865"){var vi=new Date(l.sv_order_adddate).Format("yy-MM-dd hh:mm:ss"),hf=l.sv_shipping_methods==0?"\u5230\u5e97\u81ea\u63d0":"\u9001\u8d27\u4e0a\u95e8",tr=l.order_payment==""?"\u672a\u652f\u4ed8":l.order_payment,ir="";l.order_state==0?ir="\u5f85\u4ed8\u6b3e":l.order_state==1?ir="\u5df2\u4ed8\u6b3e":l.order_state==2?ir="\u4ea4\u6613\u5df2\u5173\u95ed":l.order_state==3&&(ir="\u4ea4\u6613\u5df2\u5173\u95ed");c.HeaderList.push({Content:"\u914d\u9001\u65b9\u5f0f\uff1a"+hf,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[7]});c.HeaderList.push({Content:"\u652f\u4ed8\u65b9\u5f0f\uff1a"+tr,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[7]});c.HeaderList.push({Content:"\u4ed8\u6b3e\u72b6\u6001\uff1a"+ir,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[7]})}l.sv_isbook&&l.sv_deliverTime&&(c.HeaderList.push({Content:languageText("\u5916\u5356\u9884\u5b9a\u5355","deliveryOrder"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0,FontStyleType:p.bh[7]}),c.HeaderList.push({Content:languageText("\u914d\u9001\u65f6\u95f4","deliveryTime")+"\uff1a"+new Date(l.sv_deliverTime).Format("yyyy.MM.dd hh:mm:ss"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0,FontStyleType:p.bh[7]}));a<2&&(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android?c.HeaderList.push({Content:"......................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):c.HeaderList.push({Content:"..........................................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}))}if(ru=0,vr=0,a==1?vr=3:a==2&&(vr=20,c.PagePadding=vr),h&&h.length>0)for(ii=[],cf=0,s=0;s<h.length;s++)pi+=h[0].sv_pricing_method==0?parseFloat(h[s].product_num):1,h[s].type==!0||h[s].product_type==1?h[s].p_validity_date&&(nu=!0):lu=!1;ht="";lu||ft&&ft.length>0&&(ct="",ft.length>0&&ft[0]==1&&(a==2&&ut&&(ct+=languageText("\u5e8f\u53f7","ordernum")+" ",ht+=languageText("\u5e8f\u53f7","ordernum")+",",c.TitleList.push({Content:languageText("\u5e8f\u53f7","ordernum"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:tt.pageTitleWidth[3],FontStyleType:p.bt[3]})),a==2&&at&&!ut?(ct+="   "+languageText("\u7f16\u7801","barcodelText")+"    ",ht+=languageText("\u7f16\u7801","barcodelText")+",",c.TitleList.push({Content:languageText("\u7f16\u7801","barcodelText"),Columns:1,RowNum:1,RowMaxLength:10,Align:2,TextFont:0,Width:tt.pageTitleWidth[1],FontStyleType:p.bt[0]-5})):ut&&a==2&&c.TitleList.push({Content:languageText("\u7f16\u7801","barcodelText"),Columns:1,RowNum:1,RowMaxLength:10,Align:2,TextFont:0,Width:tt.pageTitleWidth[5],FontStyleType:p.bt[0]-5}),a==1?(ct+=languageText("\u5546\u54c1","productText")+"              ",ht+=languageText("\u5546\u54c1","productText")+","):(ct+=languageText("\u5546\u54c1","productText")+"     ",ht+=languageText("\u5546\u54c1","productText")+","),c.TitleList.push({Content:languageText("\u5546\u54c1","productText"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:tt.pageTitleWidth[0],FontStyleType:p.bt[0]})),a!=2||at||(ct+="   "+languageText("\u7f16\u7801","barcodelText")+"    ",ht+=languageText("\u7f16\u7801","barcodelText")+",",c.TitleList.push({Content:languageText("\u7f16\u7801","barcodelText"),Columns:1,RowNum:1,RowMaxLength:10,Align:2,TextFont:0,Width:tt.pageTitleWidth[5],FontStyleType:p.bt[0]-5})),ft.length>2&&ft[2]==1&&(a==1?(ct+=languageText("\u793c\u54c1","giftText")+"              ",ht+=languageText("\u793c\u54c1","giftText")+","):(ct+=languageText("\u793c\u54c1","giftText")+"     ",ht+=languageText("\u793c\u54c1","giftText")+","),c.TitleList.push({Content:languageText("\u793c\u54c1","giftText"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:tt.pageTitleWidth[0],FontStyleType:p.bt[0]})),a==2&&(ct+="   "+languageText("\u89c4\u683c","specText")+"    ",ht+=languageText("\u89c4\u683c","specText")+",",c.TitleList.push({Content:languageText("\u89c4\u683c","specText"),Columns:1,RowNum:1,RowMaxLength:10,Align:2,TextFont:0,Width:tt.pageTitleWidth[5],FontStyleType:p.bt[0]-5})),a==2&&ut&&(ct+="   "+languageText("\u5355\u4f4d","ssText")+"    ",ht+=languageText("\u5355\u4f4d","ssText")+",",c.TitleList.push({Content:languageText("\u5355\u4f4d","ssText"),Columns:1,RowNum:1,RowMaxLength:10,Align:2,TextFont:0,Width:tt.pageTitleWidth[6],FontStyleType:p.bt[0]-5})),a==2&&ut&&(ct+="   "+languageText("\u539f\u4ef7","originalPriceText")+"    ",ht+=languageText("\u539f\u4ef7","originalPriceText")+",",c.TitleList.push({Content:languageText("\u539f\u4ef7","originalPriceText"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:tt.pageTitleWidth[3],FontStyleType:p.bt[1]})),ft.length>1&&ft[1]==1&&(ct+="   "+languageText("\u5355\u4ef7","unitPriceText")+"    ",ht+=languageText("\u5355\u4ef7","unitPriceText")+",",c.TitleList.push({Content:languageText("\u5355\u4ef7","unitPriceText"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:tt.pageTitleWidth[1],FontStyleType:p.bt[1]})),ft.length>3&&ft[3]==1&&(ct+="   "+languageText("\u79ef\u5206","integralText")+"    ",ht+=languageText("\u79ef\u5206","integralText")+",",c.TitleList.push({Content:languageText("\u79ef\u5206","integralText"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:tt.pageTitleWidth[1],FontStyleType:p.bt[1]})),ft.length>4&&ft[4]==1&&(ct+=a==1?languageText("\u6570\u91cf","numberText")+"     ":languageText("\u6570\u91cf","numberText")+" ",ht+=languageText("\u6570\u91cf","numberText")+",",c.TitleList.push({Content:languageText("\u6570\u91cf","numberText"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:tt.pageTitleWidth[2],FontStyleType:p.bt[2]})),ft.length>5&&ft[5]==1&&(ct+=languageText("\u5c0f\u8ba1","subtotal")+" ",ht+=languageText("\u5c0f\u8ba1","subtotal")+",",c.TitleList.push({Content:languageText("\u5c0f\u8ba1","subtotal"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:tt.pageTitleWidth[3],FontStyleType:p.bt[3]})),ft.length>6&&ft[6]==1&&(ct+=languageText("\u5408\u8ba1","total")+" ",ht+=languageText("\u5408\u8ba1","total")+",",c.TitleList.push({Content:languageText("\u5408\u8ba1","total"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:tt.pageTitleWidth[3],FontStyleType:p.bt[3]})),decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android||(a==2?ft.length>2&&ft[2]==1?c.HeaderList.push({Content:tt.meter_Title,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):c.HeaderList.push({Content:tt.pagetitle,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):ft.length>2&&ft[2]==1?c.HeaderList.push({Content:tt.meter_Title,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):nr?c.BodyList.push({Content:"\u54c1\u540d/\u6761\u7801,\u5355\u4ef7,\u6570\u91cf,\u5c0f\u8ba1",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):c.HeaderList.push({Content:tt.pagetitle,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})));var uu="",pi=0,rr=[];if(h&&h.length>0){for(ii=[],s=0;s<h.length;s++)if(pi+=parseFloat(h[s].product_num),h[s].type==!0||h[s].product_type==1)h[s].p_validity_date?(nu=!0,fu=getDateFromTimestamp(h[s].p_validity_date),d="",d=h[s].cnum-h[s].product_num>0?h[s].product_name+","+h[s].product_num+"/"+(h[s].cnum-h[s].product_num||0)+","+fu+",.":h[s].product_name+","+h[s].product_num+"/0,"+fu+",.",ii.push({Content:d,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})):(d=h[s].product_name+","+h[s].product_num+",-"+h[s].product_num+","+(h[s].cnum-h[s].product_num||0),ii.push({Content:d,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}));else{if(v=h[s].product_name,_g_sv_uit_cache_name=="cache_name_catering"){if(h[s].ProductTasteList&&h[s].ProductTasteList.length>0)for(v+=" ",et=0;et<h[s].ProductTasteList.length;et++)v+="("+h[s].ProductTasteList[et].sv_taste_data_name+")"}else _g_sv_uit_cache_name=="cache_name_mobile_digital"&&h[s].sv_iemi_no&&rr.push(h[s].sv_iemi_no);st.be==1&&h[s].sv_p_barcode?a==2?v=at?h[s].sv_p_barcode+","+v:v+","+h[s].sv_p_barcode:nr||(v=h[s].sv_p_barcode+"/"+v):st.be==2&&h[s].sv_p_artno?v=a==2?at?h[s].sv_p_artno+","+v:v+","+h[s].sv_p_artno:h[s].sv_p_artno+"/"+v:h[s].sv_p_barcode&&a==2?v=at?h[s].sv_p_barcode+","+v:v+","+h[s].sv_p_barcode:h[s].sv_p_artno&&a==2&&(v=h[s].sv_p_artno+","+v);h[s].spec?a==2?v=v+","+h[s].spec:v+=h[s].spec:h[s].pf_newspec?a==2?v=v+","+h[s].pf_newspec:v+=h[s].pf_newspec:a==2&&(v=v+",");a==2&&ut&&h[s].sv_p_unit?v=v+","+h[s].sv_p_unit:a==2&&ut&&(v=v+",");a==2&&ut&&h[s].product_single_untprice?v=v+","+h[s].product_single_untprice:a==2&&ut&&(v=v+",");uu+=h[s].product_id+",";var d="",ri="",yr=h[s].product_unitprice,wt=h[s].product_unitprice;ot+=h[s].product_price?h[s].product_price*h[s].product_num:h[s].product_single_untprice*h[s].product_num;(typeof h[s].product_single_untprice=="undefined"||h[s].product_single_untprice==0)&&h[s].product_price>0&&(h[s].product_single_untprice=h[s].product_price,gt=0,l.order_discount_new&&l.order_discount_new>0&&l.order_discount_new<1?(h[s].product_discount&&h[s].product_discount!=0&&(wi=h[s].product_total/h[s].product_discount/h[s].product_num,gt=wi*h[s].product_num-h[s].product_price*h[s].product_num),h[s].productcard_total=(h[s].product_total/l.order_discount_new+gt).toFixed(2)):l.sv_member_discount&&l.sv_member_discount>0&&l.sv_member_discount<1?(h[s].product_discount&&h[s].product_discount!=0&&(wi=h[s].product_total/h[s].product_discount/h[s].product_num,gt=wi*h[s].product_num-h[s].product_price*h[s].product_num,bu=gt>=1?!0:gt<=-1?gt*-1>=1?!0:!1:!1,bu&&(ku=wi*h[s].product_num/(h[s].product_price*h[s].product_num),gt=wi*h[s].product_num/ku-h[s].product_price*h[s].product_num)),h[s].productcard_total=(h[s].product_total/l.sv_member_discount+gt).toFixed(2)):h[s].productcard_total=h[s].product_price*l.prlist[s].product_num);(typeof h[s].product_single_memberprice=="undefined"||h[s].product_single_untprice==0)&&h[s].sv_p_memberprice>0&&(h[s].product_single_memberprice=h[s].sv_p_memberprice);h[s].product_single_untprice&&(yr=h[s].product_single_untprice,wt=h[s].product_single_untprice,ur=(h[s].productcard_total||h[s].product_total||0)/h[s].product_num,a==1?(typeof Cef!="undefined"||sr==0)&&(vt&&l.prlist[s].product_single_memberprice&&l.prlist[s].product_single_memberprice>0?yr!=l.prlist[s].product_single_memberprice&&(wt+=languageText("(\u4f1a\u5458","member")+convertfloat(l.prlist[s].product_single_memberprice)+")"):yr!=ur&&(wt=convertfloat(ur))):a==0&&yr!=ur&&(wt=convertfloat(ur)));g_TraceabilityCode?d=v+","+wt+","+h[s].product_num+","+h[s].product_total+","+h[s].product_id+"productid":_g_sv_uit_cache_name=="cache_name_catering"?(b=o&&o.indexOf("\u4ea4\u6613")>-1?h[s].product_price*h[s].product_num:h[s].product_single_untprice*h[s].product_num,h[s].sv_taste_total_money&&h[s].sv_taste_total_money>0?(ui=parseFloat(b),ot=ui,h[s].productcard_total!=b&&h[s].productcard_total<b&&a<2?(ri="\u4f18\u60e0:"+(b-h[s].productcard_total).toFixed(2)+"  \u6298\u540e:"+parseFloat(h[s].productcard_total).toFixed(2),d=v+","+h[s].product_single_untprice+","+h[s].product_num+","+ui.toFixed(2)):d=v+","+wt+","+h[s].product_num+","+ui.toFixed(2)):h[s].productcard_total!=b&&h[s].productcard_total<b&&a<2?(ri="\u4f18\u60e0:"+(b-h[s].productcard_total).toFixed(2)+"  \u6298\u540e:"+parseFloat(h[s].productcard_total).toFixed(2),d=v+","+h[s].product_single_untprice+","+h[s].product_num+","+b.toFixed(2)):d=o&&o.indexOf("\u9000\u8d27")>-1?v+","+h[s].product_unitprice+","+h[s].product_num+","+parseFloat(h[s].product_total).toFixed(2):v+","+wt+","+h[s].product_num+","+b.toFixed(2)):nr?(b=o&&o.indexOf("\u4ea4\u6613")>-1?h[s].product_price*h[s].product_num:h[s].product_single_untprice*h[s].product_num,decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android?h[s].productcard_total!=b&&h[s].productcard_total<b&&a<2?(d=v+","+h[s].product_single_untprice+","+h[s].product_num+","+b.toFixed(2),ri="\u4f18\u60e0:"+(b-h[s].productcard_total).toFixed(2)+"  \u6298\u540e:"+parseFloat(h[s].productcard_total).toFixed(2)):d=v+","+wt+","+h[s].product_num+","+b.toFixed(2):h[s].productcard_total!=b&&h[s].productcard_total<b&&a<2?a<2?st.be==1&&h[s].sv_p_barcode?(d=h[s].sv_p_barcode+","+h[s].product_single_untprice+","+h[s].product_num+","+b.toFixed(2),c.BodyList.push({Content:v,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,SingleRow:1}),ri="\u4f18\u60e0:"+(b-h[s].productcard_total).toFixed(2)+"  \u6298\u540e:"+parseFloat(h[s].productcard_total).toFixed(2)):(d=v+","+h[s].product_single_untprice+","+h[s].product_num+","+b.toFixed(2),ri="\u4f18\u60e0:"+(b-h[s].productcard_total).toFixed(2)+"  \u6298\u540e:"+parseFloat(h[s].productcard_total).toFixed(2)):d=v+","+h[s].product_single_untprice+","+h[s].product_num+","+b.toFixed(2):a<2?st.be==1&&h[s].sv_p_barcode?(d=o&&o.indexOf("\u9000\u8d27")>-1?h[s].sv_p_barcode+","+h[s].product_unitprice+","+h[s].product_num+","+parseFloat(h[s].product_total).toFixed(2):h[s].sv_p_barcode+","+wt+","+h[s].product_num+","+parseFloat(b).toFixed(2),c.BodyList.push({Content:v,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,SingleRow:1})):d=o&&o.indexOf("\u9000\u8d27")>-1?v+","+h[s].product_unitprice+","+h[s].product_num+","+parseFloat(h[s].product_total).toFixed(2):v+","+wt+","+h[s].product_num+","+parseFloat(b).toFixed(2):d=v+","+l.prlist[s].product_unitprice+","+h[s].product_num+","+parseFloat(h[s].product_total).toFixed(2)):(b=o&&o.indexOf("\u4ea4\u6613")>-1?h[s].product_price*h[s].product_num:h[s].product_single_untprice*h[s].product_num,h[s].productcard_total!=b&&h[s].productcard_total<b&&a<2?(d=v+","+h[s].product_single_untprice+","+h[s].product_num+","+b.toFixed(2),ri="\u4f18\u60e0:"+(b-h[s].productcard_total).toFixed(2)+"  \u6298\u540e:"+parseFloat(h[s].productcard_total).toFixed(2)):d=a==2?v+","+l.prlist[s].product_unitprice+","+h[s].product_num+","+parseFloat(h[s].product_total).toFixed(2):o&&o.indexOf("\u9000\u8d27")>-1?v+","+wt+","+h[s].product_num+","+parseFloat(h[s].product_total||0).toFixed(2):v+","+wt+","+h[s].product_num+","+parseFloat(h[s].productcard_total||h[s].product_total||0).toFixed(2));a==2&&ut?s<10?c.BodyList.push({Content:"0"+(s+1)+","+d,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):c.BodyList.push({Content:s+1+","+d,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):c.BodyList.push({Content:d,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});ri&&c.BodyList.push({Content:ri,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:30,SingleRow:1});o&&o.indexOf("\u9000\u8d27")>-1?ot=parseFloat(l.sv_order_total_money||0):o&&o.indexOf("\u4ea4\u6613")>-1&&(ot=ot);du=v+","+h[s].product_num;cu.push({Content:du,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})}if(ii&&ii.length>0){if(gu=!1,nu){if(c.HeaderList[c.HeaderList.length-1].Content=c.HeaderList[c.HeaderList.length-1].Content.replace("\u6570\u91cf","").replace("\u5355\u4ef7","\u5355\u4ef7*\u6570\u91cf"),c.BodyList&&c.BodyList.length>0)for(gu=!0,s=0;s<c.BodyList.length;s++)ci=c.BodyList[s].Content.split(","),ci&&ci.length==4&&(c.BodyList[s].Content=ci[0]+","+ci[1]*ci[2]+","+ci[3]);d=languageText("\u9879\u76ee,\u6b21\u6570/\u5269\u4f59,\u6709\u6548\u671f","title");d=d+",.";c.BodyList.push({Content:d,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});c.TitleList=[];a==0&&(c.TitleList.push({Content:languageText("\u5546\u54c1","productText"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:4}),c.TitleList.push({Content:languageText("\u5355\u4ef7","unitPriceText"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:10}),c.TitleList.push({Content:languageText("\u6570\u91cf","numberText"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:12}),c.TitleList.push({Content:languageText("\u5c0f\u8ba1","subtotal"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0}));a==1&&(c.TitleList.push({Content:languageText("\u5546\u54c1","productText"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:10}),c.TitleList.push({Content:languageText("\u5355\u4ef7","unitPriceText"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:15}),c.TitleList.push({Content:languageText("\u6570\u91cf","numberText"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:15}),c.TitleList.push({Content:languageText("\u5c0f\u8ba1","subtotal"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0}))}else d=languageText("\u9879\u76ee,\u6b21\u6570,\u5b9e\u6263,\u5269\u4f59","title2"),c.BodyList.push({Content:d,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});for(et=0;et<ii.length;et++)c.BodyList.push(ii[et])}}if(w&&w.length>0){if(a<2&&(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android?c.FooterList.push({Content:"............................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):c.FooterList.push({Content:"..........................................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),nr?a<2&&(rt=pi.toFixed(4),rt.indexOf(".0000")>-1&&(rt=rt.split(".")[0]),c.FooterList.push({Content:languageText("\u5408\u8ba1","total")+"\uff1a"+rt+"   "+parseFloat(ot).toFixed(2),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1}),at&&(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android?c.FooterList.push({Content:"............................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,SingleRow:1}):c.FooterList.push({Content:"..........................................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,SingleRow:1}))):a<2&&(rt=pi.toFixed(4),rt.indexOf(".0000")>-1&&(rt=rt.split(".")[0]),l.order_discount_new?c.FooterList.push({Content:languageText("\u5408\u8ba1","total")+"\uff1a"+rt+"   "+parseFloat(ot).toFixed(2),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1}):c.FooterList.push({Content:languageText("\u5408\u8ba1","total")+"\uff1a"+rt+"   "+parseFloat(ot).toFixed(2),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1}),at&&(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android?c.FooterList.push({Content:"............................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,SingleRow:1}):c.FooterList.push({Content:"..........................................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,SingleRow:1}))),l.shipping_fee&&l.shipping_fee>0&&c.FooterList.push({Content:languageText("\u914d\u9001\u8d39\u7528","shippingFees")+"\uff1a "+l.shipping_fee,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1}),o&&o=="\u7ebf\u4e0a\u5546\u57ce\u8ba2\u5355-\u8865"&&(l.sv_contact_name&&(l.sv_contact_phone&&(l.sv_contact_name=l.sv_contact_name+"-"+l.sv_contact_phone),c.FooterList.push({Content:"\u6536\u8d27\u4eba\uff1a"+l.sv_contact_name,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[7],RowStyle:1})),l.sv_contact_address&&c.FooterList.push({Content:"\u6536\u8d27\u5730\u5740\uff1a"+l.sv_contact_address,Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[7],RowStyle:1})),w.length>1&&w[1]==1&&!ut&&(rt=pi.toFixed(4),rt.indexOf(".0000")>-1&&(rt=rt.split(".")[0]),c.FooterList.push({Content:languageText("\u5546\u54c1\u603b\u6570","productCounts")+"\uff1a"+rt+"",Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1})),w.length>3&&w[3]==1&&o&&o.indexOf("\u9000\u8d27")==-1&&(l.getShopAddress||(fr=0,fr=l.sv_member_total_money?(ot-parseFloat(l.order_receivable)).toFixed(2):(ot-parseFloat(l.order_receivable)).toFixed(2),w.length>3&&fr>0&&(yu==100?c.FooterList.push({Content:languageText("\u4f18\u60e0\u91d1\u989d","discountedPrice")+"\uff1a"+languageText("\uffe5","CurrencyUnit")+" "+fr+"     ",Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1}):c.FooterList.push({Content:languageText("\u4f18\u60e0\u91d1\u989d","discountedPrice")+"\uff1a"+languageText("\uffe5","CurrencyUnit")+" "+fr+"    ",Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1})))),o&&o.indexOf("\u9000\u8d27")==-1&&(l.sv_member_total_money?l.order_discount_new?(a==2&&(ot=parseFloat(l.order_receivable).toFixed(2)),w.length>2&&w[2]==1&&c.FooterList.push({Content:languageText("\u5e94\u6536\u91d1\u989d","amountReceivable")+"\uff1a"+languageText("\uffe5","CurrencyUnit")+" "+parseFloat(l.order_receivable).toFixed(2),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1})):(a==2&&(ot=parseFloat(l.order_receivable).toFixed(2)),w.length>2&&w[2]==1&&c.FooterList.push({Content:languageText("\u5e94\u6536\u91d1\u989d","amountReceivable")+"\uff1a"+languageText("\uffe5","CurrencyUnit")+" "+parseFloat(l.order_receivable).toFixed(2),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1})):l.order_discount_new?(a==2&&(ot=parseFloat(l.order_receivable).toFixed(2)),w.length>2&&w[2]==1&&c.FooterList.push({Content:languageText("\u5e94\u6536\u91d1\u989d","amountReceivable")+"\uff1a"+languageText("\uffe5","CurrencyUnit")+" "+parseFloat(l.order_receivable).toFixed(2),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1})):(a==2&&(ot=parseFloat(l.order_receivable).toFixed(2)),w.length>2&&w[2]==1&&c.FooterList.push({Content:languageText("\u5e94\u6536\u91d1\u989d","amountReceivable")+"\uff1a"+languageText("\uffe5","CurrencyUnit")+" "+parseFloat(l.order_receivable).toFixed(2),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1}))),a==2,o&&o.indexOf("\u9000\u8d27")>-1?(nf=parseFloat(ot).toFixed(2),c.FooterList.push({Content:languageText("\u9000\u8d27\u91d1\u989d","paymentMethod")+"\uff1a\uffe5"+nf+" ",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1})):w.length>7&&w[7]==1&&(tr="",is_open_PrintingComplexFont==!0&&l&&l.order_payment?l.order_payment.replace("\u73b0\u91d1","\u73fe\u91d1").replace("\u5fae\u4fe1\u652f\u4ed8","\u5fae\u4fe1\u652f\u4ed8").replace("\u652f\u4ed8\u5b9d","\u652f\u4ed8\u5bf6").replace("\u8d4a\u8d26","\u8cd2\u8cec").replace("\u7f8e\u56e2","\u7f8e\u5718").replace("\u53e3\u7891","\u53e3\u7891").replace("\u95ea\u60e0","\u9583\u60e0").replace("\u94f6\u884c\u5361","\u9280\u884c\u5361").replace("\u4f18\u60e0\u5238","\u512a\u60e0\u5238"):tr=l.order_payment,tr=isNullOrWhiteSpace(l.order_payment2)&&(l.order_payment2.indexOf("\u5f85")<0||l.order_payment2!="\u5f85\u6536")?tr+"("+l.order_money+")/"+l.order_payment2+"("+l.order_money2+")":l.order_payment,l.order_payment2&&l.order_money2&&l.order_payment2!="\u5f85\u6536"?(c.FooterList.push({Content:languageText(l.order_payment,"paymentMethod")+"\uff1a\uffe5"+parseFloat(l.order_money).toFixed(2)+"",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1}),c.FooterList.push({Content:languageText(l.order_payment2,"paymentMethod")+"\uff1a\uffe5"+parseFloat(l.order_money2).toFixed(2)+"",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1})):l.order_money&&c.FooterList.push({Content:languageText(l.order_payment,"paymentMethod")+"\uff1a\uffe5"+parseFloat(l.order_money).toFixed(2)+" ",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1})),l.free_change&&l.free_change!=0&&o&&o.indexOf("\u9000\u8d27")==-1&&(tf=l.free_change/1,c.FooterList.push({Content:languageText("\u62b9\u96f6","discountedPrice")+"\uff1a"+languageText("\uffe5","CurrencyUnit")+" "+tf+"  ",Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1})),l.sv_give_change&&l.sv_give_change>0&&o&&o.indexOf("\u9000\u8d27")==-1&&c.FooterList.push({Content:languageText("\u627e\u96f6","change")+"\uff1a"+languageText("\uffe5","CurrencyUnit")+" "+l.sv_give_change,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1}),a<2&&(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android?c.FooterList.push({Content:"............................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,SingleRow:1}):c.FooterList.push({Content:"..........................................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,SingleRow:1}),it.length>6&&it[6]==1&&vt&&c.FooterList.push({Content:languageText("\u4f1a\u5458\u59d3\u540d","memberName")+"\uff1a"+l.user.sv_mr_name,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[6],RowStyle:1}),it.length>7&&it[7]==1&&vt&&c.FooterList.push({Content:languageText("\u4f1a\u5458\u5361\u53f7","memberCard")+"\uff1a"+l.user.sv_mr_cardno,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[7],RowStyle:1}),it.length>8&&it[8]==1&&vt&&c.FooterList.push({Content:languageText("\u4f1a\u5458\u7b49\u7ea7","memberCard")+"\uff1a"+(l.user.sv_ml_name||""),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:p.bh[8],RowStyle:1})),w.length>4&&w[4]==1&&vt&&l.user&&l.user.sv_mw_availableamount>=0&&o&&o.indexOf("\u9000\u8d27")==-1&&c.FooterList.push({Content:languageText("\u50a8\u503c\u4f59\u989d","balanceStored")+"\uff1a"+languageText("\uffe5","CurrencyUnit")+" "+l.user.sv_mw_availableamount,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1}),w.length>8&&w[8]==1&&vt&&o&&o.indexOf("\u9000\u8d27")==-1&&c.FooterList.push({Content:languageText("\u79ef\u5206\uff08\u672c\u6b21/\u53ef\u7528\uff09","integralCounts")+"\uff1a"+cr,Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1}),w.length>12&&w[12]==1&&c.FooterList.push({Content:"\u6253\u5370\u65f6\u95f4\uff1a"+(new Date).Format("yyyy.MM.dd hh:mm:ss"),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1}),l.sv_remarks?c.FooterList.push({Content:languageText("\u5907\u6ce8","note")+"\uff1a"+convertString(l.sv_remarks),Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1}):l.sv_remark&&c.FooterList.push({Content:languageText("\u5907\u6ce8","note")+"\uff1a"+convertString(l.sv_remark),Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1}),w.length>10&&w[10]==1&&!ut?c.FooterList.push({Content:languageText("\u624b\u673a\u53f7\u7801","phonenumber")+"\uff1a"+convertString(g.user.sv_us_phone),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1}):w.length>10&&w[10]==1&&c.FooterList.push({Content:languageText("\u5e97\u94fa\u7535\u8bdd","usertel")+"\uff1a"+convertString(g.user.sv_us_phone),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1}),w.length>11&&w[11]==1&&c.FooterList.push({Content:languageText("\u5e97\u94fa\u5730\u5740","shopAddress")+"\uff1a"+convertString(g.user.sv_us_address),Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0}),l.recipient_name&&c.FooterList.push({Content:languageText("\u6536\u8d27\u4eba","receiver")+"\uff1a "+l.recipient_name,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1}),l.recipient_phone&&c.FooterList.push({Content:languageText("\u8054\u7cfb\u65b9\u5f0f","contactInformation")+"\uff1a "+l.recipient_phone,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1}),l.sv_hasinvoiced&&(bi="\u3010",l.sv_invoicetitle&&(bi+=l.sv_invoicetitle),l.sv_taxpayerid&&(bi+=l.sv_taxpayerid),bi=bi+"\u3011",c.FooterList.push({Content:languageText("\u53d1\u7968","invoice")+"\uff1a"+bi,Columns:1,RowNum:3,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1})),ut&&c.FooterList.push({Content:languageText("\u5ba2\u6237\u7b7e\u5b57","shippingAddress")+"\uff1a",Columns:1,RowNum:3,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1}),l.recipient_address&&c.FooterList.push({Content:languageText("\u6536\u8d27\u5730\u5740","shippingAddress")+"\uff1a"+l.recipient_address,Columns:1,RowNum:3,RowMaxLength:10,Align:0,TextFont:0,Width:0,RowStyle:1}),a<2&&pt&&pt.ImageString&&(pt.ImageString.indexOf("http")>=0||pt.ImageString.indexOf("https")>=0?(pt.ImageString=pt.ImageString,c.QRCodeData=pt):pt.ImageString.indexOf("res.decerp.cc")>=0?(pt.ImageString="https:"+pt.ImageString,c.QRCodeData=pt):(pt.ImageString="https://res.decerp.cc"+pt.ImageString,c.QRCodeData=pt)),rr&&rr.length>0)for(s=0;s<rr.length;s++)c.FooterList.push({Content:"*"+languageText("\u4e32\u53f7","serialNumber")+"*\uff1a"+rr[s],Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});_g_sv_uit_cache_name&&_g_sv_uit_cache_name!="cache_name_pharmaceutical_indu"&&c.FooterList.push({Content:languageText("\u8c22\u8c22\u60e0\u987e\uff0c\u6b22\u8fce\u4e0b\u6b21\u5149\u4e34","welcome"),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});_g_homeGetUserLoginData&&_g_homeGetUserLoginData.sv_versionid<2&&(ai==1||ai==2)&&(_g_homeGetUserLoginData.distributor_id==1?c.FooterList.push({Content:"----\u7531\u5fb7\u5ba2\u7cfb\u7edf\u7ba1\u7406\u8f6f\u4ef6\u63d0\u4f9b----",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0}):c.FooterList.push({Content:"----\u7531\u4f1a\u5458\u7ba1\u7406\u8f6f\u4ef6\u63d0\u4f9b----",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0}))}if(wu&&wu.ImageString,a<2&&c.FooterList.push({Content:"\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014-",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),yt&&yt.ImageString&&(yt.ImageString.indexOf("http")>=0||yt.ImageString.indexOf("https")>=0?(yt.ImageString=yt.ImageString,c.LogoData=yt):yt.ImageString.indexOf("res.decerp.cc")>=0?(yt.ImageString="https:"+yt.ImageString,c.LogoData=yt):(yt.ImageString="https://res.decerp.cc"+yt.ImageString,c.LogoData=yt),c.FooterList.push({Content:"",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),a<2,a==2){if(c&&c.HeaderList&&c.HeaderList.length>0)for(dt=1,s=1;s<c.HeaderList.length-1;s++)dt>3&&(dt=1),c.HeaderList[s].Align=0,c.HeaderList[s].Columns=dt,dt++;if(c&&c.FooterList&&c.FooterList.length>0)for(dt=1,s=0;s<c.FooterList.length-1;s++)dt>3&&(dt=1),c.FooterList[s].Columns=dt,dt++}if((!su||!0)&&(PreferentialTopUpGivingConfigList("PrintSeting","PrintSet_ExtraInfo"),Preferential_TopUpGiving_ConfigList!=null&&Preferential_TopUpGiving_ConfigList.length>0&&(er=Preferential_TopUpGiving_ConfigList[0].sv_detail_value,er)))if(er.toLowerCase().indexOf("<br/>")>0)for(eu=er.split("<br/>"),s=0;s<eu.length;s++)c.FooterList.push({Content:eu[s],Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0});else c.FooterList.push({Content:er,Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0});if(parseInt(receptionPtNum)>0&&receptionPtName!=null&&receptionPtName!=""){if(typeof Cef!="undefined")if(printSet_network_device_font_islabel){if(h&&h.length>0){for(ki=0,fi=0,y=0;y<h.length;y++)fi=parseInt(fi)+parseInt(h[y].product_num);for(y=0;y<h.length;y++)for(di=0;di<h[y].product_num;di++){if(ei=h[y].product_name,h[y]&&h[y].ProductTasteList&&h[y].ProductTasteList.length>0)for(ei+=" ",et=0;et<h[y].ProductTasteList.length;et++)ei+=h[y].ProductTasteList[et].sv_taste_data_name;ki++;nt=[];oi=l.order_running_id;l.everyday_serialnumber&&_g_everyDaySerialNumber&&(oi=l.everyday_serialnumber);l!=null&&l.meiridanhao!=null&&l.meiridanhao!=""&&(oi=l.meiridanhao);nt.push({Content:languageText("\u5355\u53f7","orderNumber")+":"+convertString(oi)+" \u5e8f\u53f7:"+ki+"/"+fi,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:8,Width:0});nt.push({Content:ei,Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:10,Width:0});nt.push({Content:"",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:10,Width:0});_g_sv_uit_cache_name=="cache_name_catering"?h[y].sv_taste_total_money>0?(pr=parseFloat(h[y].product_total)+parseFloat(h[y].sv_taste_total_money),h[y].product_num>0&&(pr=parseFloat(pr)/parseFloat(h[y].product_num)),nt.push({Content:languageText("\uffe5","CurrencyUnit")+pr.toFixed(2)+"\u5143",Columns:2,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,TextFontSize:8,Width:0})):(si=parseFloat(h[y].product_total),h[y].product_num>0&&(si=parseFloat(si)/parseFloat(h[y].product_num)),nt.push({Content:languageText("\uffe5","CurrencyUnit")+parseFloat(si).toFixed(2)+"\u5143",Columns:2,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,TextFontSize:8,Width:0})):(si=parseFloat(h[y].product_total),h[y].product_num>0&&(si=parseFloat(si)/parseFloat(h[y].product_num)),nt.push({Content:languageText("\uffe5","CurrencyUnit")+parseFloat(si).toFixed(2)+"\u5143",Columns:2,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,TextFontSize:8,Width:0}));typeof user_id=="undefined"||user_id!="20806328"?(nt.push({Content:"\u3010"+convertString(g.user.sv_us_name)+"\u3011",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:7,Width:0}),convertString(g.user.sv_us_phone)?nt.push({Content:languageText("\u7535\u8bdd","tel")+":"+convertString(g.user.sv_us_phone),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:7,Width:0}):_g_sv_uit_cache_name&&_g_sv_uit_cache_name!="cache_name_pharmaceutical_indu"&&nt.push({Content:languageText("\u8c22\u8c22\u60e0\u987e!","thanks"),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:7,Width:0})):nt.push({Content:"\u3010"+convertString(g.user.sv_us_name)+"\u3011",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:7,Width:0});nt.push({Content:dr+":"+gr,Columns:2,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,TextFontSize:7,Width:0});wr={FooterList:nt,QRCodeData:null,Action:1,PageType:4,PagePadding:10};typeof Cef!="undefined"&&Cef.LabelPrint(JSON.stringify(wr),""+receptionPtNum+"",receptionPtName,!1,40,30)}}}else if(g_TraceabilityCode)$.ajax({url:"/AjaxProduct/GetTraceabilityCodeList?id="+uu+"0",type:"get",success:function(n){var u,t,r,f,i;if(n)for(t=0;t<c.BodyList.length;t++)for(u=0;u<n.length;u++)if(c.BodyList[t].Content.indexOf(n[u].product_id+"productid")>-1){for(r=c.BodyList[t].Content.split(","),f="",i=0;i<r.length;i++)i!=r.length-1&&(f+=r[i],i!=r.length-2&&(f+=","));c.BodyList[t].Content="*"+f;c.BodyList[t].HasTraceUrl=n[u].sv_qr_code_image_path!=""||n[u].sv_qr_code_image_path!=null||n[u].sv_qr_code_image_path!=undefined?!0:!1;c.BodyList[t].TraceTrl=n[u].sv_qr_code_image_path;c.BodyList[t].ImageWidth=90;c.BodyList[t].ImageHeight=90;c.BodyList[t].ImageAlign=1;break}for(t=0;t<c.BodyList.length;t++)if(!c.BodyList[t].HasTraceUrl||c.BodyList[t].HasTraceUrl==!1){for(r=c.BodyList[t].Content.split(","),f="",i=0;i<r.length;i++)i!=r.length-1&&(f+=r[i],i!=r.length-2&&(f+=","));c.BodyList[t].Content=f}typeof Cef!="undefined"&&Cef.CustormTracePrint(JSON.stringify(c),"1",receptionPtName)}});else for(s=0;s<receptionPtNum;s++){if(a==2){for(c.PrintVersion=3,c.HeaderList[0].TextFontSize=14,c.HeaderList[1].TextFontSize=12,rf=c.HeaderList[0].Content,c.HeaderList[0].Content=c.HeaderList[1].Content,c.HeaderList[1].Content=rf,c.HeaderList[1].Align=1,c.PagePadding=40,or=1,s=2;s<c.HeaderList.length;s++)c.HeaderList[s].TextFontSize=11,s<c.HeaderList.length&&(or>3&&(or=1),c.HeaderList[s].Columns=or,or++),s==c.HeaderList.length-2&&ut&&l.user.sv_mr_address&&(c.HeaderList[s].Columns=1);for(et=0;et<c.BodyList.length;et++)c.BodyList[et].TextFontSize=11;for(li=0;li<c.FooterList.length;li++)c.FooterList[li].TextFontSize=11;for(br=0;br<c.TitleList.length;br++)c.TitleList[br].TextFontSize=11;c&&c.TitleList&&c.TitleList.length>5&&(ut?(c.TitleList[4].ContentAlign=2,c.TitleList[5].ContentAlign=2,c.TitleList[6].ContentAlign=2,c.TitleList[7].ContentAlign=2):(c.TitleList[3].ContentAlign=2,c.TitleList[4].ContentAlign=2,c.TitleList[5].ContentAlign=2));rt=pi.toFixed(4);rt.indexOf(".0000")>-1&&(rt=rt.split(".")[0]);ut?c.BodyList.push({Content:"\u5408\u8ba1,,,,,,,"+rt+","+parseFloat(ot).toFixed(2),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,TextFontSize:11}):c.BodyList.push({Content:"\u5408\u8ba1,,,,"+rt+","+parseFloat(ot).toFixed(2),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,TextFontSize:11})}Cef.CustormPrint(JSON.stringify(c),"1",receptionPtName)}else if(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android)try{if(g_TraceabilityCode)lt=c,$.ajax({url:"/AjaxProduct/GetTraceabilityCodeList?id="+uu+"0",type:"get",success:function(n){var e,t,r,u,i,f;if(n)for(t=0;t<lt.BodyList.length;t++){if(n&&n.length>0)for(e=0;e<n.length;e++)if(lt.BodyList[t].Content.indexOf(n[e].product_id+"productid")>-1){for(r=lt.BodyList[t].Content.split(","),u="",i=0;i<r.length;i++)i!=r.length-1&&(u+=r[i],i!=r.length-2&&(u+=","));lt.BodyList[t].Content="*"+u;lt.BodyList[t].HasTraceUrl=!0;lt.BodyList[t].TraceTrl=n[e].sv_qr_code_image_path;lt.BodyList[t].ImageWidth=90;lt.BodyList[t].ImageHeight=90;lt.BodyList[t].ImageAlign=1;break}for(t=0;t<c.BodyList.length;t++)if(!c.BodyList[t].HasTraceUrl||c.BodyList[t].HasTraceUrl==!1){for(r=c.BodyList[t].Content.split(","),u="",i=0;i<r.length;i++)i!=r.length-1&&(u+=r[i],i!=r.length-2&&(u+=","));c.BodyList[t].Content=u}}if(lt.FooterList.push({Content:"\u6ce8\uff1a\u5e26\u201c*\u201d\u5546\u54c1\u53ef\u8fdb\u884c\u8ffd\u6eaf\u4fe1\u606f\u67e5\u8be2",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),g_android_print_config&&g_android_print_config.length>0&&g_android_print_config[0].whetherToEnablenable)if(parseInt(g_android_print_config[0].count||1)>1)for(f=0;f<parseInt(g_android_print_config[0].count||1);f++)cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(lt),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(lt),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else if(parseInt(receptionPtNum)>0)for(f=0;f<parseInt(receptionPtNum);f++)cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(lt)});else cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(lt)})}});else if(g_android_print_config&&g_android_print_config.length>0&&g_android_print_config[0].whetherToEnablenable)if(parseInt(g_android_print_config[0].count||1)>0)for(ni=0;ni<parseInt(g_android_print_config[0].count||1);ni++)cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(c),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(c),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else if(parseInt(receptionPtNum)>0)for(ni=0;ni<parseInt(receptionPtNum);ni++)cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(c)});else cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(c)})}catch(pu){layer("\u6253\u5370\u5931\u8d25: "+pu.message)}}else if(typeof Cef!="undefined")Cef.CustormPrint(JSON.stringify(c));else if(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android)try{if(g_android_print_config&&g_android_print_config.length>0&&g_android_print_config[0].whetherToEnablenable)if(parseInt(g_android_print_config[0].count||1)>0)for(ni=0;ni<parseInt(g_android_print_config[0].count||1);ni++)cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(c),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(c),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else if(parseInt(receptionPtNum)>0)for(li=0;li<parseInt(receptionPtNum);li++)cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(c)});else cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(c)})}catch(pu){layer("\u6253\u5370\u5931\u8d25: "+pu.message)}if(printSet_network_enable)if(printSet_network_device_back_islabel){if(backstagePtNum>0&&h&&h.length>0){for(ki=0,fi=0,y=0;y<h.length;y++)fi=parseInt(fi)+parseInt(h[y].product_num);for(y=0;y<h.length;y++)for(di=0;di<h[y].product_num;di++){if(ei=h[y].product_name,h[y]&&h[y].ProductTasteList&&h[y].ProductTasteList.length>0)for(ei+=" ",et=0;et<h[y].ProductTasteList.length;et++)ei+=h[y].ProductTasteList[et].sv_taste_data_name;if(ki++,nt=[],oi=l.order_running_id,l.everyday_serialnumber&&_g_everyDaySerialNumber&&(oi=l.everyday_serialnumber),l!=null&&l.meiridanhao!=null&&l.meiridanhao!=""&&(oi=l.meiridanhao),nt.push({Content:languageText("\u5355\u53f7","orderNumber")+":"+convertString(oi)+"\u5e8f\u53f7:"+ki+"/"+fi,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:8,Width:0}),nt.push({Content:ei,Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:10,Width:0}),nt.push({Content:"",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:10,Width:0}),_g_sv_uit_cache_name=="cache_name_catering"?h[y].sv_taste_total_money>0?(ui=parseFloat(h[y].product_total),h[y].product_num>0&&(ui=parseFloat(ui)/parseFloat(h[y].product_num)),nt.push({Content:languageText("\uffe5","CurrencyUnit")+ui.toFixed(2)+"\u5143",Columns:2,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,TextFontSize:8,Width:0})):(hi=parseFloat(h[y].product_total),h[y].product_num>0&&(hi=parseFloat(hi)/parseFloat(h[y].product_num)),nt.push({Content:languageText("\uffe5","CurrencyUnit")+parseFloat(hi).toFixed(2)+"\u5143",Columns:2,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,TextFontSize:8,Width:0})):(hi=parseFloat(h[y].product_total),h[y].product_num>0&&(hi=parseFloat(hi)/parseFloat(h[y].product_num)),nt.push({Content:languageText("\uffe5","CurrencyUnit")+parseFloat(hi).toFixed(2)+"\u5143",Columns:2,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,TextFontSize:8,Width:0})),typeof user_id=="undefined"||user_id!="20806328"?(nt.push({Content:"\u3010"+convertString(g.user.sv_us_name)+"\u3011",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:7,Width:0}),convertString(g.user.sv_us_phone)?nt.push({Content:languageText("\u7535\u8bdd","tel")+":"+convertString(g.user.sv_us_phone),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:7,Width:0}):_g_sv_uit_cache_name&&_g_sv_uit_cache_name!="cache_name_pharmaceutical_indu"&&nt.push({Content:languageText("\u8c22\u8c22\u60e0\u987e!","thanks"),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:7,Width:0})):nt.push({Content:"\u3010"+convertString(g.user.sv_us_name)+"\u3011",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,TextFontSize:7,Width:0}),nt.push({Content:dr+":"+gr,Columns:2,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,TextFontSize:7,Width:0}),wr={FooterList:nt,QRCodeData:null,Action:1,PageType:4,PagePadding:10},typeof Cef!="undefined")for(s=0;s<backstagePtNum;s++)Cef.LabelPrint(JSON.stringify(wr),"1",backstagePtName,!1,40,30)}}}else gi=[],gi.push({Content:languageText("\u540e\u53f0\u6253\u5370","spooling"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0}),_g_sv_uit_cache_name=="cache_name_catering"&&l.sv_catering_grade&&gi.push({Content:languageText("\u684c/\u724c\u53f7","deskNumber")+"\uff1a"+convertString(l.sv_catering_grade),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),gi.push({Content:languageText("\u5355\u53f7","orderNumber")+"\uff1a"+convertString(l.order_running_id),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),gi.push(c.HeaderList[c.HeaderList.length-1]),c.HeaderList=gi,_g_sv_uit_cache_name=="cache_name_catering"&&(c.TitleList=[],c.TitleList.push({Content:languageText("\u5546\u54c1","productText"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:15+ru,TextFontSize:2}),c.TitleList.push({Content:languageText("\u6570\u91cf","numberText"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:6+ru,TextFontSize:2}),c.BodyList=cu,kr="",kr+=a==1?languageText("\u5546\u54c1","productText")+"                                    ":languageText("\u5546\u54c1","productText")+"                ",kr+=a==1?languageText("\u6570\u91cf","numberText")+"         ":languageText("\u6570\u91cf","numberText")+"     ",c.HeaderList[c.HeaderList.length-1]={Content:kr,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),backstagePtNum>0&&(uf={HeaderList:c.HeaderList,BodyList:c.BodyList,TitleList:c.TitleList,FooterList:[],LogoData:c.LogoData,QRCodeData:c.QRCodeData,Action:c.Action,PageType:c.PageType,PagePadding:c.PagePadding},Cef.CustormPrint(JSON.stringify(uf),""+backstagePtNum+"",backstagePtName))}catch(pu){}}function getsunmipushprintData(n,t,i,r,u,f){var kt=!0,st=0,rt=new Date,fi=rt.getFullYear(),ei=rt.getMonth(),oi=rt.getDate(),si=rt.getHours(),hi=rt.getMinutes(),ci=rt.getSeconds(),li=fi+"/"+fnW(ei+1)+"/"+fnW(oi)+" "+fnW(si)+":"+fnW(hi)+":"+fnW(ci),h=JSON.parse(n),l=JSON.parse(t),p=0,ai=[],yt=1,k,w,o,d,ct,g,wt,ft,lt,it,ii,ri,b,at,et,ui,vt,ot,bt,e;if((user_id=="11101835"||user_id=="31003611"||user_id=="67792135"||user_id=="73691726"||user_id=="78273121"||user_id=="89190430")&&(yt=0),l&&l.cof&&l.cof.sv_uc_dayin&&(k=JSON.parse(l.cof.sv_uc_dayin),k!="[]"&&k!=""&&k!=null&&(p=k.xiaopiao==58?0:1,p=k.xiaopiao==58?0:k.xiaopiao==80?1:k.xiaopiao==210?2:k.xiaopiao==76?5:0,st=k.mo)),w=[],o={HeaderList:[],BodyList:[],TitleList:[],FooterList:[],LogoData:null,QRCodeData:null,Action:1,PageType:p,PagePadding:0,Gtype:yt},l&&l.cof&&l.cof.sv_pfconfig&&l.cof.sv_pfconfig.length>10?(kt=!1,w=JSON.parse(l.cof.sv_pfconfig)):(w={a:1,b:"1,1,0,0,1,1,0,0,0",f:"0,1,1,1,1,1,0,1,1,1,1,1,1",h:"1,0,1,1,1,0,1,1",l:null,p:0,q:{Align:1,Width:100,Height:100,ImageString:""},t:""},st==1?w.f="0,1,1,0,0,1,0,0,0,0,0,0,0":st==2?w.f="0,1,1,1,1,1,0,1,1,1,1,1,1":st==3&&(w.f="0,1,1,1,1,1,0,1,1,1,1,1,1")),l&&l.cof)try{var nt=!1,dt=0,gt=h.order_receivable,ni=1,ht="",ti=0,ut="",tt=0;nt&&(l.cof.sv_uc_pointtocashset!="[]"&&l.cof.sv_uc_pointtocashset!=""&&l.cof.sv_uc_pointtocashset!=null&&(ut=JSON.parse(l.cof.sv_uc_pointtocashset)),ut!="[]"&&ut!=""&&ut!=null&&(gt=ut[0],ni=ut[1]),dt=parseInt(h.order_receivable/gt*ni),ti=h.user.sv_mw_availablepoint,ht=dt+"/ "+ti,f==1&&f>0&&(ht=ht+"(\u542b\u6d3b\u52a8\u6d88\u8d39\u8d60\u9001"+u+"\u79ef\u5206)"),tt=parseInt((r-h.order_receivable)*100)/100+"");f==2&&(tt=tt==0?u+"(\u6d3b\u52a8\u6d88\u8d39\u51cf\u514d"+u+"\u5143)":tt+"(\u542b\u6d3b\u52a8\u6d88\u8d39\u51cf\u514d"+u+"\u5143)");var a=w.h.split(","),v=w.b.split(","),s=h.prlist,c=w.f.split(","),pt=w.q,y=w.l;if(a&&a.length>0&&(a.length>0&&a[0]==1&&o.HeaderList.push({Content:convertString(l.user.sv_us_name),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0}),a.length>1&&a[1]==1&&o.HeaderList.push({Content:"\u5fae\u4fe1:"+convertString(l.user.sv_wechat_number),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0}),a.length>4&&a[4]==1&&o.HeaderList.push({Content:"\u5355\u53f7\uff1a"+convertString(h.order_running_id),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),a.length>5&&a[5]==1&&o.HeaderList.push({Content:"\u6536\u94f6\u5458\uff1a"+sv_current_operato,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),a.length>6&&a[6]==1&&nt&&o.HeaderList.push({Content:"\u4f1a\u5458\u59d3\u540d\uff1a"+h.user.sv_mr_name,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),a.length>7&&a[7]==1&&nt&&o.HeaderList.push({Content:"\u4f1a\u5458\u5361\u53f7\uff1a"+h.user.sv_mr_cardno,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),a.length>8&&a[8]==1&&nt&&o.HeaderList.push({Content:languageText("\u4f1a\u5458\u7b49\u7ea7","memberCard")+"\uff1a"+(h.user.sv_ml_name||""),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,FontStyleType:custormConfig.bh[8],RowStyle:1}),p<2&&(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android?o.HeaderList.push({Content:"......................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):o.HeaderList.push({Content:"..........................................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}))),d=0,ct=0,p==1?(d=2,ct=3):p==2&&(d=10,ct=10,o.PagePadding=ct),v&&v.length>0&&(g="",v.length>0&&v[0]==1&&(g+=p==1?"\u5546\u54c1              ":"\u5546\u54c1     ",o.TitleList.push({Content:"\u5546\u54c1",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:10+d})),v.length>2&&v[2]==1&&(g+=p==1?"\u793c\u54c1              ":"\u793c\u54c1     ",o.TitleList.push({Content:"\u793c\u54c1",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:10+d})),v.length>1&&v[1]==1&&(g+="   \u5355\u4ef7    ",o.TitleList.push({Content:"\u5355\u4ef7",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:5+d})),v.length>3&&v[3]==1&&(g+="   \u79ef\u5206    ",o.TitleList.push({Content:"\u79ef\u5206",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:5+d})),v.length>4&&v[4]==1&&(g+=p==1?"\u6570\u91cf     ":"\u6570\u91cf ",o.TitleList.push({Content:"\u6570\u91cf",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:4+d})),v.length>5&&v[5]==1&&(g+="\u5c0f\u8ba1 ",o.TitleList.push({Content:"\u5c0f\u8ba1",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:5+d})),v.length>6&&v[6]==1&&(g+="\u5408\u8ba1 ",o.TitleList.push({Content:"\u5408\u8ba1",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:5+d})),decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android||o.HeaderList.push({Content:g,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),wt=0,s&&s.length>0){for(ft=[],e=0;e<s.length;e++)wt+=parseFloat(s[e].product_num),lt=s[e].product_unitprice,it=s[e].product_unitprice,(typeof s[e].product_single_untprice=="undefined"||s[e].product_single_untprice==0)&&s[e].product_price>0&&(s[e].product_single_untprice=s[e].product_price),typeof s[e].product_single_memberprice=="undefined"&&s[e].sv_p_memberprice>0&&(s[e].product_single_memberprice=s[e].sv_p_memberprice),s[e].product_single_untprice&&(lt=s[e].product_single_untprice,it=s[e].product_single_untprice,p==1&&yt==0&&(nt&&h.prlist[e].product_single_memberprice&&h.prlist[e].product_single_memberprice>0?lt!=h.prlist[e].product_single_memberprice&&(it+="(\u4f1a\u5458"+convertfloat(h.prlist[e].product_single_memberprice)+")"):lt!=h.prlist[e].product_unitprice&&(it+="(\u6298\u540e"+convertfloat(h.prlist[e].product_unitprice)+")"))),s[e].type==!0||s[e].product_type==1?(b="",b=s[e].cnum-s[e].product_num>0?s[e].product_name+","+s[e].product_num+",-"+s[e].product_num+","+(s[e].cnum-s[e].product_num||0):s[e].product_name+","+s[e].product_num+",-"+s[e].product_num+",0",ft.push({Content:b,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})):(_g_sv_uit_cache_name=="cache_name_catering"?s[e].sv_taste_total_money&&s[e].sv_taste_total_money>0?(ii=parseFloat(s[e].product_total)+parseFloat(s[e].sv_taste_total_money),b=s[e].product_name+","+it+","+s[e].product_num+","+ii.toFixed(2),o.BodyList.push({Content:b,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})):(b=s[e].product_name+","+it+","+s[e].product_num+","+s[e].product_total,o.BodyList.push({Content:b,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})):(b=s[e].product_name+","+it+","+s[e].product_num+","+s[e].product_total,o.BodyList.push({Content:b,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),ri=s[e].product_name+","+s[e].product_num,ai.push({Content:ri,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}));if(ft&&ft.length>0)for(b="\u9879\u76ee,\u6b21\u6570,\u5b9e\u6263,\u5269\u4f59",o.BodyList.push({Content:b,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),at=0;at<ft.length;at++)o.BodyList.push(ft[at])}if(c&&c.length>0&&(p<2&&(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android?o.FooterList.push({Content:"............................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):o.FooterList.push({Content:"..........................................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),c.length>1&&c[1]==1&&(et=wt.toFixed(4),et.indexOf(".0000")>-1&&(et=et.split(".")[0]),o.FooterList.push({Content:"\u5546\u54c1\u603b\u6570\uff1a "+et,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),c.length>2&&c[2]==1&&o.FooterList.push({Content:"\u91d1\u989d\u5408\u8ba1\uff1a \u00a5 "+h.order_receivable,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),c.length>3&&c[3]==1&&c.length>3&&tt&&tt!="0"&&o.FooterList.push({Content:"\u4f18\u60e0\u91d1\u989d\uff1a\u00a5 "+tt,Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0}),h.free_change&&h.free_change!=0&&(ui=h.free_change/1,o.FooterList.push({Content:languageText("\u62b9\u96f6\u91d1\u989d","discountedPrice")+"\uff1a"+languageText("\uffe5","CurrencyUnit")+" "+ui+"  ",Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0})),c.length>4&&c[4]==1&&nt&&o.FooterList.push({Content:"\u50a8\u503c\u4f59\u989d\uff1a\u00a5 "+h.user.sv_mw_availableamount,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),c.length>7&&c[7]==1&&(vt=h.order_payment,isNullOrWhiteSpace(h.order_payment2)&&(h.order_payment2.indexOf("\u5f85")<0||h.order_payment2!="\u5f85\u6536")&&(vt=vt+"("+h.order_money+")/"+h.order_payment2+"("+h.order_money2+")"),o.FooterList.push({Content:"\u652f\u4ed8\u65b9\u5f0f\uff1a"+vt+" ",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),c.length>8&&c[8]==1&&nt&&o.FooterList.push({Content:"\u79ef\u5206\uff08\u672c\u6b21/\u7d2f\u8ba1\uff09\uff1a"+ht,Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0}),c.length>9&&c[9]==1&&o.FooterList.push({Content:"\u9500\u552e\u65f6\u95f4\uff1a"+li,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),c.length>12&&c[12]==1&&o.FooterList.push({Content:"\u6253\u5370\u65f6\u95f4\uff1a"+(new Date).Format("yyyy.MM.dd hh:mm:ss"),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),c.length>10&&c[10]==1&&o.FooterList.push({Content:"\u7535\u8bdd\uff1a"+convertString(l.user.sv_us_phone),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),c.length>11&&c[11]==1&&o.FooterList.push({Content:"\u5730\u5740\uff1a"+convertString(l.user.sv_us_address),Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0}),_g_sv_uit_cache_name&&_g_sv_uit_cache_name!="cache_name_pharmaceutical_indu"&&o.FooterList.push({Content:"\u8c22\u8c22\u60e0\u987e\uff0c\u6b22\u8fce\u4e0b\u6b21\u5149\u4e34",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),pt&&pt.ImageString&&(o.FooterList.push({Content:"\u4e8c\u7ef4\u7801",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),o.QRCodeData=pt),p<2&&o.FooterList.push({Content:"\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014-",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),y&&y.ImageString&&(y.ImageString.indexOf("http")>=0||y.ImageString.indexOf("https")>=0?(y.ImageString=y.ImageString,o.LogoData=y,o.FooterList.push({Content:"",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})):y.ImageString.indexOf("res.decerp.cc")>=0?(y.ImageString="https:"+y.ImageString,o.LogoData=y,o.FooterList.push({Content:"",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})):(y.ImageString="https://res.decerp.cc"+y.ImageString,o.LogoData=y,o.FooterList.push({Content:"",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}))),(!kt||!0)&&(PreferentialTopUpGivingConfigList("PrintSeting","PrintSet_ExtraInfo"),Preferential_TopUpGiving_ConfigList!=null&&Preferential_TopUpGiving_ConfigList.length>0&&(ot=Preferential_TopUpGiving_ConfigList[0].sv_detail_value,ot)))if(ot.toLowerCase().indexOf("<br/>")>0)for(bt=ot.split("<br/>"),e=0;e<bt.length;e++)o.FooterList.push({Content:bt[e],Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0});else o.FooterList.push({Content:ot,Columns:1,RowNum:2,RowMaxLength:10,Align:0,TextFont:0,Width:0})}catch(vi){}return JSON.stringify(o)}function pushcateringprintData(n,t,i,r){var fi=!0,ei=0,it=new Date,oi=it.getFullYear(),si=it.getMonth(),hi=it.getDate(),ci=it.getHours(),li=it.getMinutes(),ai=it.getSeconds(),lt=oi+"/"+fnW(si+1)+"/"+fnW(hi)+" "+fnW(ci)+":"+fnW(li)+":"+fnW(ai),h=JSON.parse(n),a=JSON.parse(t),l=0,ot=[],k,d,f,wt,at,w,vt,ft,st,ii,g,yt,ht,ri,pt,c,nt,yi,tt,b,ui,e,s,wi,bi,et,y,p,u;if(a&&a.cof&&a.cof.sv_uc_dayin&&(k=JSON.parse(a.cof.sv_uc_dayin),k!="[]"&&k!=""&&k!=null&&(l=k.xiaopiao==58?0:1,l=k.xiaopiao==58?0:k.xiaopiao==80?1:k.xiaopiao==210?2:k.xiaopiao==76?5:0,ei=k.mo)),d=[],f={HeaderList:[],BodyList:[],TitleList:[],FooterList:[],LogoData:null,QRCodeData:null,Action:1,PageType:l,PagePadding:0},a&&a.cof&&a.cof.sv_pfconfig&&a.cof.sv_pfconfig.length>10?(fi=!1,d=JSON.parse(a.cof.sv_pfconfig)):d={a:1,b:"1,1,0,0,1,1,0,0,0",f:"0,1,1,1,1,1,0,1,1,1,1,1,1",h:"1,0,1,1,1,0,1,1",l:null,p:0,q:{Align:1,Width:100,Height:100,ImageString:""},t:""},a&&a.cof)try{h.user&&h.user.sv_mr_cardno&&(wt=isNullOrWhiteSpace(h.user.sv_mr_cardno));var bt=0,kt=h.order_receivable,dt=1,vi="",gt=0,rt="";wt&&(a.cof.sv_uc_pointtocashset!="[]"&&a.cof.sv_uc_pointtocashset!=""&&a.cof.sv_uc_pointtocashset!=null&&(rt=JSON.parse(a.cof.sv_uc_pointtocashset)),rt!="[]"&&rt!=""&&rt!=null&&(kt=rt[0],dt=rt[1]),bt=parseInt(h.order_receivable/kt*dt),gt=h.user.sv_mw_availablepoint,vi=bt+"/ "+gt);var ni=d.h.split(","),ut=d.b.split(","),o=h.prlist,ti=d.f.split(","),pi=d.q,v=d.l;if(ni&&ni.length>0&&(i==1?(at="",r==0?at="\u3010\u9000\u83dc\u3011":r==1&&(at="\u3010\u52a0\u83dc\u3011"),f.HeaderList.push({Content:"\u5c0f\u7968\u603b\u5355"+at,Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0}),f.HeaderList.push({Content:"\u724c\u53f7\uff1a"+convertString(h.sv_catering_grade),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),h.everyday_serialnumber?f.HeaderList.push({Content:"\u6d41\u6c34\u53f7\uff1a"+convertString(h.everyday_serialnumber),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):f.HeaderList.push({Content:"\u5355\u53f7\uff1a"+convertString(h.order_running_id),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),f.HeaderList.push({Content:"\u6536\u94f6\uff1a"+sv_current_operato+" "+lt,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})):i==2&&(r==0?f.HeaderList.push({Content:"\u53a8\u6253\u9000\u83dc\u5355",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0,TextFontSize:2}):r==1?f.HeaderList.push({Content:"\u53a8\u6253\u52a0\u83dc\u5355",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0,TextFontSize:2}):f.HeaderList.push({Content:"\u53a8\u6253\u5355",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0,TextFontSize:2}),f.HeaderList.push({Content:"\u724c\u53f7\uff1a"+convertString(h.sv_catering_grade),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,TextFontSize:2}),h.everyday_serialnumber?f.HeaderList.push({Content:"\u6d41\u6c34\u53f7\uff1a"+convertString(h.everyday_serialnumber),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):f.HeaderList.push({Content:"\u5355\u53f7\uff1a"+convertString(h.order_running_id),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),f.HeaderList.push({Content:"\u6536\u94f6\uff1a"+sv_current_operato+" "+lt,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),h.sv_isbook&&h.sv_deliverTime&&(f.HeaderList.push({Content:"\u5916\u5356\u9884\u5b9a\u5355",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0,FontStyleType:2}),f.HeaderList.push({Content:"\u914d\u9001\u65f6\u95f4\uff1a"+new Date(h.sv_deliverTime).Format("yyyy.MM.dd hh:mm:ss"),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0,FontStyleType:2})),l<2&&(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android?f.HeaderList.push({Content:"......................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):f.HeaderList.push({Content:"..........................................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}))),w=0,vt=0,l==1?(w=3,vt=5):l==2&&(w=10,vt=10,f.PagePadding=vt),ut&&ut.length>0&&(ft="",ut.length>0&&ut[0]==1&&(ft+=l==1?"\u83dc\u54c1                                          ":"\u83dc\u54c1               ",i==1?f.TitleList.push({Content:"\u83dc\u54c1",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:10+w}):i==2&&f.TitleList.push({Content:"\u83dc\u54c1",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:10+w,TextFontSize:2})),ut.length>4&&ut[4]==1&&(ft+=i==1?l==1?"\u5c0f\u8ba1     ":"\u5c0f\u8ba1 ":l==1?"\u6570\u91cf     ":"\u6570\u91cf ",i==1?f.TitleList.push({Content:"\u5c0f\u8ba1",Columns:1,RowNum:1,RowMaxLength:5,Align:1,TextFont:0,Width:10+w}):i==2&&f.TitleList.push({Content:"\u6570\u91cf",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:10+w,TextFontSize:2})),decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android||(i==2?(ft="\u83dc\u54c1        \u6570\u91cf   ",f.HeaderList.push({Content:ft,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,TextFontSize:2})):f.HeaderList.push({Content:ft,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}))),st=0,o&&o.length>0)for(ii=[],u=0;u<o.length;u++)if(st+=parseFloat(o[u].product_num),o[u].type==!0||o[u].product_type==1)ht="",ht=o[u].cnum-o[u].product_num?o[u].product_name+","+o[u].product_num+",-"+o[u].product_num+","+(o[u].cnum-o[u].product_num||0):o[u].product_name+","+o[u].product_num+",-"+o[u].product_num+",0",ii.push({Content:ht,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});else{if(g=o[u].product_name,o[u]&&o[u].ProductTasteList&&o[u].ProductTasteList.length>0)for(g+=" ",yt=0;yt<o[u].ProductTasteList.length;yt++)g+=o[u].ProductTasteList[yt].sv_taste_data_name;ht=g+","+o[u].product_num;i==1?_g_sv_uit_cache_name=="cache_name_catering"?o[u].sv_taste_total_money&&o[u].sv_taste_total_money>0?(ri=parseFloat(o[u].product_total)+parseFloat(o[u].sv_taste_total_money),f.BodyList.push({Content:g+"*"+o[u].product_num+","+ri.toFixed(2),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})):f.BodyList.push({Content:g+"*"+o[u].product_num+","+o[u].product_total,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):f.BodyList.push({Content:g+"*"+o[u].product_num+","+o[u].product_total,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):f.BodyList.push({Content:ht,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});pt=g+","+o[u].product_num;o[u]&&o[u].sv_printer_ip?i==1?ot.push({Content:pt,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,PrinterIp:o[u].sv_printer_ip,PrinterPort:o[u].sv_printer_port}):i==2&&ot.push({Content:pt,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,PrinterIp:o[u].sv_printer_ip,PrinterPort:o[u].sv_printer_port,TextFontSize:2}):ot.push({Content:pt,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,TextFontSize:2})}if(ti&&ti.length>0&&(l<2&&(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android?f.FooterList.push({Content:"............................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):f.FooterList.push({Content:"..........................................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),f.FooterList.push({Content:"\u603b\u6570\uff1a "+st,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),l<2&&f.FooterList.push({Content:"\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014-",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),v&&v.ImageString&&(v.ImageString.indexOf("http")>=0||v.ImageString.indexOf("https")>=0?(v.ImageString=v.ImageString,f.LogoData=v,f.FooterList.push({Content:"",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})):v.ImageString.indexOf("res.decerp.cc")>=0?(v.ImageString="https:"+v.ImageString,f.LogoData=v,f.FooterList.push({Content:"",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})):(v.ImageString="https://res.decerp.cc"+v.ImageString,f.LogoData=v,f.FooterList.push({Content:"",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}))),l<2,parseInt(receptionPtNum)>0){if(typeof Cef!="undefined"){if(i==1)Cef.CustormPrint(JSON.stringify(f),"1",receptionPtName);else if(i==2)if(f.FooterList=[],c=[],r==0?c.push({Content:"\u53a8\u6253\u9000\u83dc\u5355",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0,TextFontSize:2}):r==1?c.push({Content:"\u53a8\u6253\u52a0\u83dc\u5355",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0,TextFontSize:2}):c.push({Content:"\u53a8\u6253\u5355",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0,TextFontSize:2}),c.push({Content:"\u724c\u53f7\uff1a"+convertString(h.sv_catering_grade),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,TextFontSize:2}),h.everyday_serialnumber?c.push({Content:"\u5355\u53f7\uff1a"+convertString(h.everyday_serialnumber),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):c.push({Content:"\u5355\u53f7\uff1a"+convertString(h.order_running_id),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),c.push({Content:"\u6536\u94f6\uff1a"+sv_current_operato+" "+lt,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),l<2&&(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android?c.push({Content:"......................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):c.push({Content:".......................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),c.push(f.HeaderList[f.HeaderList.length-1]),f.HeaderList=c,_g_sv_uit_cache_name=="cache_name_catering"&&(f.TitleList=[],f.TitleList.push({Content:"\u83dc\u54c1",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:20+w,TextFontSize:2}),f.TitleList.push({Content:"\u6570\u91cf",Columns:1,RowNum:1,RowMaxLength:10,Align:2,TextFont:0,Width:10+w,TextFontSize:2}),f.BodyList=ot,nt="",nt+=l==1?"\u83dc\u54c1       ":"\u83dc\u54c1         ",nt+=l==1?"\u6570\u91cf         ":"\u6570\u91cf  ",f.HeaderList[f.HeaderList.length-1]={Content:nt,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,TextFontSize:2}),_g_sv_uit_cache_name=="cache_name_catering"&&DishIsPrintedOnce){if(e=f.BodyList,e&&e.length>0)for(u=0;u<e.length;u++)tt=[],b=[],tt.push(e[u]),f.BodyList=tt,b.push({Content:"\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),b.push({Content:"\u5408\u8ba1"+e[u].Content.split(",")[1],Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),b.push({Content:"",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),f.FooterList=b,e[u].PrinterIp&&e[u].PrinterPort&&Cef.NetworkPrint(JSON.stringify(f),e[u].PrinterIp,e[u].PrinterPort,"1")}else try{if(f.FooterList.push({Content:"\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),f.FooterList.push({Content:"\u5408\u8ba1\uff1a "+st,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),e=f.BodyList,e&&e.length>0){for(s=[],u=0;u<e.length;u++)if(e[u].PrinterIp&&e[u].PrinterPort)if(s&&s.length>0){for(et=!1,y=0;y<s.length;y++)if(s[y].PrinterIp&&s[y].PrinterIp==e[u].PrinterIp){s[y].PrintData.push(e[u]);et=!0;break}et||(p={PrinterIp:e[u].PrinterIp,PrintData:[],PrinterPort:e[u].PrinterPort},p.PrintData.push(e[u]),s.push(p))}else p={PrinterIp:e[u].PrinterIp,PrintData:[],PrinterPort:e[u].PrinterPort},p.PrintData.push(e[u]),s.push(p);if(s&&s.length>0)for(u=0;u<s.length;u++)f.BodyList=s[u].PrintData,Cef.NetworkPrint(JSON.stringify(f),s[u].PrinterIp,s[u].PrinterPort,"1")}}catch(ct){console.log(ct.message)}}else if(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android)if(i==1)try{cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(f)})}catch(ct){layer("\u6253\u5370\u5931\u8d25: "+ct.message)}else if(i==2)if(f.FooterList=[],c=[],r==0?c.push({Content:"\u53a8\u6253\u9000\u83dc\u5355",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0,TextFontSize:2}):r==1?c.push({Content:"\u53a8\u6253\u52a0\u83dc\u5355",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0,TextFontSize:2}):c.push({Content:"\u53a8\u6253\u5355",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0,TextFontSize:2}),c.push({Content:"\u724c\u53f7\uff1a"+convertString(h.sv_catering_grade),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,TextFontSize:2}),h.everyday_serialnumber?c.push({Content:"\u5355\u53f7\uff1a"+convertString(h.everyday_serialnumber),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):c.push({Content:"\u5355\u53f7\uff1a"+convertString(h.order_running_id),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),c.push({Content:"\u6536\u94f6\uff1a"+sv_current_operato+" "+lt,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),l<2&&(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android?c.push({Content:"......................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):c.push({Content:".......................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),c.push(f.HeaderList[f.HeaderList.length-1]),f.HeaderList=c,_g_sv_uit_cache_name=="cache_name_catering"&&(f.TitleList=[],f.TitleList.push({Content:"\u83dc\u54c1",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:20+w,TextFontSize:2}),f.TitleList.push({Content:"\u6570\u91cf",Columns:1,RowNum:1,RowMaxLength:10,Align:2,TextFont:0,Width:10+w,TextFontSize:2}),f.BodyList=ot,nt="",nt+=l==1?"\u83dc\u54c1                                                        ":"\u83dc\u54c1         ",nt+=l==1?"\u6570\u91cf         ":"\u6570\u91cf  ",f.HeaderList[f.HeaderList.length-1]={Content:nt,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0,TextFontSize:2}),_g_sv_uit_cache_name=="cache_name_catering"&&DishIsPrintedOnce){if(e=[],f.BodyList&&f.BodyList.length>0)for(u=0;u<f.BodyList.length;u++)e.push({Content:f.BodyList[u].Content,Columns:f.BodyList[u].Columns,RowNum:f.BodyList[u].RowNum,RowMaxLength:f.BodyList[u].RowMaxLength,Align:f.BodyList[u].Align,TextFont:f.BodyList[u].TextFont,Width:f.BodyList[u].Width,PrinterIp:f.BodyList[u].PrinterIp,PrinterPort:f.BodyList[u].PrinterPort,TextFontSize:f.BodyList[u].TextFontSize});if(f.BodyList=[],yi=[],e&&e.length>0)for(tt=[],b=[],u=0;u<e.length;u++)tt=[],b=[],f.BodyList=[],tt.push({Content:e[u].Content,Columns:e[u].Columns,RowNum:e[u].RowNum,RowMaxLength:e[u].RowMaxLength,Align:e[u].Align,TextFont:e[u].TextFont,Width:e[u].Width,PrinterIp:e[u].PrinterIp,PrinterPort:e[u].PrinterPort,TextFontSize:e[u].TextFontSize}),b.push({Content:"\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),b.push({Content:"\u5408\u8ba1: "+e[u].Content.split(",")[1],Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),b.push({Content:"",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),f.FooterList=b,e[u].PrinterIp&&e[u].PrinterPort&&(ui={HeaderList:f.HeaderList,BodyList:tt,TitleList:f.TitleList,FooterList:f.FooterList,LogoData:f.LogoData,QRCodeData:f.QRCodeData,Action:f.Action,PageType:f.PageType,PagePadding:f.PagePadding},cordova.plugins.barcodeScanner.cookposprint(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(ui),myPrintIp:e[u].PrinterIp,myPrintPort:e[u].PrinterPort}))}else try{if(f.FooterList.push({Content:"\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),f.FooterList.push({Content:"\u5408\u8ba1\uff1a "+st,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),e=f.BodyList,e&&e.length>0){for(s=[],u=0;u<e.length;u++)if(e[u].PrinterIp&&e[u].PrinterPort)if(s&&s.length>0){for(et=!1,y=0;y<s.length;y++)if(s[y].PrinterIp&&s[y].PrinterIp==e[u].PrinterIp){s[y].PrintData.push(e[u]);et=!0;break}et||(p={PrinterIp:e[u].PrinterIp,PrintData:[],PrinterPort:e[u].PrinterPort},p.PrintData.push(e[u]),s.push(p))}else p={PrinterIp:e[u].PrinterIp,PrintData:[],PrinterPort:e[u].PrinterPort},p.PrintData.push(e[u]),s.push(p);if(s&&s.length>0)for(u=0;u<s.length;u++)f.BodyList=s[u].PrintData,cordova.plugins.barcodeScanner.cookposprint(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(f),myPrintIp:s[u].PrinterIp,myPrintPort:s[u].PrinterPort})}}catch(ct){console.log(ct.message)}else try{cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(f)})}catch(ct){layer("\u6253\u5370\u5931\u8d25: "+ct.message)}}else if(typeof Cef!="undefined")Cef.CustormPrint(JSON.stringify(f));else if(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android)try{cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(f)})}catch(ct){layer("\u6253\u5370\u5931\u8d25: "+ct.message)}}catch(ct){}}function Repaymentprinting(n,t){var u,e,i,rt,l,a,v,h,c;getAndroidPrintConfig();var b=0,r=JSON.parse(n),f=new Date;r&&r.data&&r.data.sv_repayment_date&&(f=new Date(r.data.sv_repayment_date));var k=f.getFullYear(),d=f.getMonth(),g=f.getDate(),nt=f.getHours(),tt=f.getMinutes(),it=f.getSeconds(),ut=k+"/"+fnW(d+1)+"/"+fnW(g)+" "+fnW(nt)+":"+fnW(tt)+":"+fnW(it),o=JSON.parse(t),s=0;if(o&&o.cof&&o.cof.sv_uc_dayin&&(u=JSON.parse(o.cof.sv_uc_dayin),u!="[]"&&u!=""&&u!=null&&(s=u.xiaopiao==58?0:1,s=u.xiaopiao==58?0:u.xiaopiao==80?1:u.xiaopiao==210?2:u.xiaopiao==76?5:0,b=u.mo)),e=[],i={HeaderList:[],BodyList:[],TitleList:[],FooterList:[],LogoData:null,QRCodeData:null,Action:1,PageType:s,PagePadding:0},e={a:1,b:"1,1,0,0,1,1,0,0,0",f:"0,1,1,1,1,1,0,1,1,1,1,1,1",h:"1,0,1,1,1,0,1,1",l:null,p:0,q:{Align:1,Width:100,Height:100,ImageString:""},t:""},o&&o.cof)try{r.user.sv_mr_memberid&&(rt=isNullOrWhiteSpace(r.user.sv_mr_memberid));var y=e.h.split(","),ft=e.b.split(","),et=r.prlist,p=e.f.split(","),ot=e.q,st=e.l;if(y&&y.length>0&&(i.HeaderList.push({Content:"\u8fd8\u6b3e\u5c0f\u7968",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0}),i.HeaderList.push({Content:"\u4f1a\u5458\u59d3\u540d\uff1a"+r.data[0].sv_mr_name,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),i.HeaderList.push({Content:"\u4f1a\u5458\u5361\u53f7\uff1a"+r.data[0].sv_mr_cardno,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),l=0,a=0,s==1?(l=3,a=5):s==2&&(l=10,a=10),p&&p.length>0&&(v="\u8fd8\u6b3e",i.FooterList.push({Content:"\u5355\u636e\u7c7b\u578b\uff1a"+v,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),i.FooterList.push({Content:"\u8ba2\u5355\u5355\u53f7\uff1a"+parseFloat(r.data[0].order_running_id||""),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),i.FooterList.push({Content:"\u6b20\u6b3e\u91d1\u989d\uff1a"+parseFloat(r.moedel[0].maximum||0).toFixed(2),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),i.FooterList.push({Content:v+"\u91d1\u989d\uff1a"+parseFloat(r.data[0].sv_money||0).toFixed(2),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),i.FooterList.push({Content:"\u5269\u4f59\u91d1\u989d\uff1a"+parseFloat(r.data[0].sv_credit_money||0).toFixed(2),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),i.FooterList.push({Content:"\u8fd8\u6b3e\u65b9\u5f0f\uff1a"+(r.moedel[0].sv_payment_method_name||""),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),i.FooterList.push({Content:"\u65e5\u671f\uff1a"+(r.moedel[0].sv_repayment_date||""),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),i.FooterList.push({Content:"\u64cd\u4f5c\u5458\uff1a"+(r.user.optername||$("#dianzhu").text()||""),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),i.FooterList.push({Content:"\u5907\u6ce8\uff1a"+(r.moedel[0].sv_note||""),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),s<2&&(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android?(i.HeaderList.push({Content:"......................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),i.HeaderList.push({Content:"......................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),i.HeaderList.push({Content:"......................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})):i.HeaderList.push({Content:"..........................................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),_g_sv_uit_cache_name&&_g_sv_uit_cache_name!="cache_name_pharmaceutical_indu"&&i.FooterList.push({Content:"\u8c22\u8c22\u60e0\u987e\uff0c\u6b22\u8fce\u4e0b\u6b21\u5149\u4e34",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),parseInt(receptionPtNum)>0&&receptionPtName!=null&&receptionPtName!=""){if(typeof Cef!="undefined")Cef.CustormPrint(JSON.stringify(i),""+receptionPtNum+"",receptionPtName);else if(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android)try{if(g_android_print_config&&g_android_print_config.length>0&&g_android_print_config[0].whetherToEnablenable)if(parseInt(g_android_print_config[0].count||1)>0)for(h=0;h<parseInt(g_android_print_config[0].count||1);h++)cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(i),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(i),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else if(parseInt(receptionPtNum)>0)for(c=0;c<parseInt(receptionPtNum);c++)cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(i)});else cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(i)})}catch(w){alert("\u6253\u5370\u5931\u8d25: "+w.message)}}else if(typeof Cef!="undefined")Cef.CustormPrint(JSON.stringify(i));else if(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android)try{if(g_android_print_config&&g_android_print_config.length>0&&g_android_print_config[0].whetherToEnablenable)if(parseInt(g_android_print_config[0].count||1)>0)for(h=0;h<parseInt(g_android_print_config[0].count||1);h++)cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(i),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(i),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else if(parseInt(receptionPtNum)>0)for(c=0;c<parseInt(receptionPtNum);c++)cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(i)});else cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(i)})}catch(w){alert("\u6253\u5370\u5931\u8d25: "+w.message)}}catch(w){}}function pushSavingData(n,t){var u,s,i,ut,v,y,l,a;getAndroidPrintConfig();var b=0,r=JSON.parse(n),o=new Date;r&&r.data&&r.data.sv_mrr_date&&(o=new Date(r.data.sv_mrr_date));var k=o.getFullYear(),d=o.getMonth(),g=o.getDate(),nt=o.getHours(),tt=o.getMinutes(),it=o.getSeconds(),rt=k+"/"+fnW(d+1)+"/"+fnW(g)+" "+fnW(nt)+":"+fnW(tt)+":"+fnW(it),f=JSON.parse(t),h=0,e="\u5145\u503c";if(r.moedel.sv_mrr_type==0?e="\u5145\u503c":r.moedel.sv_mrr_type==1?e="\u6263\u8d39":r.moedel.sv_mrr_type==5&&(e="\u9000\u8fd8"),f&&f.cof&&f.cof.sv_uc_dayin&&(u=JSON.parse(f.cof.sv_uc_dayin),u!="[]"&&u!=""&&u!=null&&(h=u.xiaopiao==58?0:1,h=u.xiaopiao==58?0:u.xiaopiao==80?1:u.xiaopiao==210?2:u.xiaopiao==76?5:0,b=u.mo)),s=[],i={HeaderList:[],BodyList:[],TitleList:[],FooterList:[],LogoData:null,QRCodeData:null,Action:1,PageType:h,PagePadding:0},s={a:1,b:"1,1,0,0,1,1,0,0,0",f:"0,1,1,1,1,1,0,1,1,1,1,1,1",h:"1,0,1,1,1,0,1,1",l:null,p:0,q:{Align:1,Width:100,Height:100,ImageString:""},t:""},f&&f.cof)try{r.user.sv_mr_cardno&&(ut=isNullOrWhiteSpace(r.user.sv_mr_cardno));var ft=r.order_receivable,c=s.h.split(","),et=s.b.split(","),ot=r.prlist,p=s.f.split(","),st=s.q,ht=s.l;if(c&&c.length>0&&(i.HeaderList.push({Content:"\u6b22\u8fce\u5149\u4e34",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0}),c.length>0&&c[0]==1&&i.HeaderList.push({Content:convertString(f.user.sv_us_name),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0}),c.length>1&&c[1]==1&&i.HeaderList.push({Content:"\u5fae\u4fe1:"+convertString(f.user.sv_wechat_number),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0}),i.HeaderList.push({Content:"\u4f1a\u5458\u59d3\u540d\uff1a"+r.user.sv_mr_name,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),i.HeaderList.push({Content:"\u4f1a\u5458\u5361\u53f7\uff1a"+r.user.sv_mr_cardno,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),v=0,y=0,h==1?(v=3,y=5):h==2&&(v=10,y=10),p&&p.length>0&&(i.FooterList.push({Content:"\u7c7b\u578b\uff1a"+e,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),i.FooterList.push({Content:e+"\u91d1\u989d\uff1a"+parseFloat(r.data.sv_mrr_money||0).toFixed(2),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),i.FooterList.push({Content:"\u8d60\u9001\u91d1\u989d\uff1a"+parseFloat(r.moedel.sv_mrr_present||0).toFixed(2),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),i.FooterList.push({Content:"\u4ed8\u6b3e\u65b9\u5f0f\uff1a"+r.moedel.sv_mrr_payment,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),i.FooterList.push({Content:e+"\u524d\u91d1\u989d\uff1a"+parseFloat(r.data.sv_mrr_amountbefore||0).toFixed(2),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),i.FooterList.push({Content:e+"\u540e\u91d1\u989d\uff1a"+parseFloat(r.data.sv_mrr_amountafter||0).toFixed(2),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),i.FooterList.push({Content:e+"\u65f6\u95f4\uff1a"+rt,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),h<2&&(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android?(i.HeaderList.push({Content:"......................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),i.HeaderList.push({Content:"......................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),i.HeaderList.push({Content:"......................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})):i.HeaderList.push({Content:"..........................................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),_g_sv_uit_cache_name&&_g_sv_uit_cache_name!="cache_name_pharmaceutical_indu"&&i.FooterList.push({Content:"\u8c22\u8c22\u60e0\u987e\uff0c\u6b22\u8fce\u4e0b\u6b21\u5149\u4e34",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),parseInt(receptionPtNum)>0&&receptionPtName!=null&&receptionPtName!=""){if(typeof Cef!="undefined")Cef.CustormPrint(JSON.stringify(i),""+receptionPtNum+"",receptionPtName);else if(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android)try{if(g_android_print_config&&g_android_print_config.length>0&&g_android_print_config[0].whetherToEnablenable)if(parseInt(g_android_print_config[0].count||1)>0)for(l=0;l<parseInt(g_android_print_config[0].count||1);l++)cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(i),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(i),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else if(parseInt(receptionPtNum)>0)for(a=0;a<parseInt(receptionPtNum);a++)cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(i)});else cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(i)})}catch(w){alert("\u6253\u5370\u5931\u8d25: "+w.message)}}else if(typeof Cef!="undefined")Cef.CustormPrint(JSON.stringify(i));else if(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android)try{if(g_android_print_config&&g_android_print_config.length>0&&g_android_print_config[0].whetherToEnablenable)if(parseInt(g_android_print_config[0].count||1)>0)for(l=0;l<parseInt(g_android_print_config[0].count||1);l++)cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(i),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(i),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else if(parseInt(receptionPtNum)>0)for(a=0;a<parseInt(receptionPtNum);a++)cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(i)});else cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(i)})}catch(w){alert("\u6253\u5370\u5931\u8d25: "+w.message)}}catch(w){}}function pushAchargeData(n,t){var u,s,i,ot,h,p,a,k,c,l;getAndroidPrintConfig();var g=0,r=JSON.parse(n),o=new Date;r&&r.moedel&&r.moedel.sv_mcr_date&&(o=new Date(r.moedel.sv_mcr_date));var nt=o.getFullYear(),tt=o.getMonth(),it=o.getDate(),rt=o.getHours(),ut=o.getMinutes(),ft=o.getSeconds(),et=nt+"/"+fnW(tt+1)+"/"+fnW(it)+" "+fnW(rt)+":"+fnW(ut)+":"+fnW(ft),e=JSON.parse(t),f=0,y="\u5145\u6b21";if(e&&e.cof&&e.cof.sv_uc_dayin&&(u=JSON.parse(e.cof.sv_uc_dayin),u!="[]"&&u!=""&&u!=null&&(f=u.xiaopiao==58?0:1,f=u.xiaopiao==58?0:u.xiaopiao==80?1:u.xiaopiao==76?5:u.xiaopiao==210?2:0,g=u.mo)),s=[],i={HeaderList:[],BodyList:[],TitleList:[],FooterList:[],LogoData:null,QRCodeData:null,Action:1,PageType:f,PagePadding:0},s={a:1,b:"1,1,0,0,1,1,0,0,0",f:"0,1,1,1,1,1,0,1,1,1,1,1,1",h:"1,0,1,1,1,0,1,1",l:null,p:0,q:{Align:1,Width:100,Height:100,ImageString:""},t:""},e&&e.cof)try{r.user.sv_mr_cardno&&(ot=isNullOrWhiteSpace(r.user.sv_mr_cardno));var st=r.order_receivable,v=s.h.split(","),w=s.b.split(","),ht=r.prlist,b=s.f.split(","),ct=s.q,lt=s.l;if(v&&v.length>0&&(i.HeaderList.push({Content:"\u6b22\u8fce\u5149\u4e34",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0}),i.HeaderList.push({Content:convertString(e.user.sv_us_name),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0}),decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android?i.HeaderList.push({Content:"......................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):i.HeaderList.push({Content:"..........................................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),v.length>1&&v[1]==1&&i.HeaderList.push({Content:"\u5fae\u4fe1:"+convertString(e.user.sv_wechat_number),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0}),i.HeaderList.push({Content:"\u4f1a\u5458\u59d3\u540d\uff1a"+r.user.sv_mr_name,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),i.HeaderList.push({Content:"\u4f1a\u5458\u5361\u53f7\uff1a"+r.user.sv_mr_cardno,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android?i.HeaderList.push({Content:"......................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):i.HeaderList.push({Content:"..........................................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),h=0,p=0,f==1?(h=3,p=5):f==2&&(h=10,p=10),w&&w.length>0&&(a="",a+=f==1?"\u9879\u76ee              ":"\u9879\u76ee     ",i.TitleList.push({Content:"\u9879\u76ee",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:12+h}),a+=f==1?"\u6b21\u6570              ":"\u6b21\u6570     ",i.TitleList.push({Content:"\u6b21\u6570",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:6+h}),a+=f==1?"\u91d1\u989d              ":"\u91d1\u989d     ",i.TitleList.push({Content:"\u91d1\u989d",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:6+h}),a+=f==1?"\u5269\u4f59":"\u5269\u4f59",i.TitleList.push({Content:"\u5269\u4f59",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:6+h}),decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android),k=r.moedel.sv_mcr_productname+","+r.moedel.sv_mcr_count+","+r.moedel.sv_mcr_money+","+parseFloat(r.data.sv_mcr_countafter||0).toFixed(0),i.BodyList.push({Content:k,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),b&&b.length>0&&(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android?i.FooterList.push({Content:"......................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):i.FooterList.push({Content:"..........................................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),i.FooterList.push({Content:"\u4ed8\u6b3e\u91d1\u989d\uff1a"+parseFloat(r.data.sv_mcr_money||0).toFixed(2),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),i.FooterList.push({Content:"\u4ed8\u6b3e\u65b9\u5f0f\uff1a"+r.data.sv_mcr_payment,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),i.FooterList.push({Content:y+"\u524d\u53ef\u7528\uff1a"+parseFloat(r.data.sv_mcr_countbefore||0).toFixed(0),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),i.FooterList.push({Content:y+"\u540e\u53ef\u7528\uff1a"+parseFloat(r.data.sv_mcr_countafter||0).toFixed(0),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),i.FooterList.push({Content:y+"\u65f6\u95f4\uff1a"+et,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),_g_sv_uit_cache_name&&_g_sv_uit_cache_name!="cache_name_pharmaceutical_indu"&&i.FooterList.push({Content:"\u8c22\u8c22\u60e0\u987e\uff0c\u6b22\u8fce\u4e0b\u6b21\u5149\u4e34",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android&&(i.HeaderList.push({Content:"......................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),i.HeaderList.push({Content:"......................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}))),parseInt(receptionPtNum)>0&&receptionPtName!=null&&receptionPtName!=""){if(typeof Cef!="undefined")Cef.CustormPrint(JSON.stringify(i),""+receptionPtNum+"",receptionPtName);else if(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android)try{if(g_android_print_config&&g_android_print_config.length>0&&g_android_print_config[0].whetherToEnablenable)if(parseInt(g_android_print_config[0].count||1)>0)for(c=0;c<parseInt(g_android_print_config[0].count||1);c++)cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(i),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(i),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else if(parseInt(receptionPtNum)>0)for(l=0;l<parseInt(receptionPtNum);l++)cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(i)});else cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(i)})}catch(d){alert("\u6253\u5370\u5931\u8d25: "+d.message)}}else if(typeof Cef!="undefined")Cef.CustormPrint(JSON.stringify(i));else if(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android)try{if(g_android_print_config&&g_android_print_config.length>0&&g_android_print_config[0].whetherToEnablenable)if(parseInt(g_android_print_config[0].count||1)>0)for(c=0;c<parseInt(g_android_print_config[0].count||1);c++)cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(i),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(i),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else if(parseInt(receptionPtNum)>0)for(l=0;l<parseInt(receptionPtNum);l++)cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(i)});else cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(i)})}catch(d){alert("\u6253\u5370\u5931\u8d25: "+d.message)}}catch(d){}}function Cardprintingtemplate(n,t){var f,h,r,ot,c,w,y,u,l,a,v;getAndroidPrintConfig();var g=0,i=JSON.parse(n),s=new Date;i&&i.moedel&&i.moedel.sv_mcr_date&&(s=new Date(i.moedel.sv_mcr_date));var nt=s.getFullYear(),tt=s.getMonth(),it=s.getDate(),rt=s.getHours(),ut=s.getMinutes(),ft=s.getSeconds(),et=nt+"/"+fnW(tt+1)+"/"+fnW(it)+" "+fnW(rt)+":"+fnW(ut)+":"+fnW(ft),o=JSON.parse(t),e=0;if(o&&o.cof&&o.cof.sv_uc_dayin&&(f=JSON.parse(o.cof.sv_uc_dayin),f!="[]"&&f!=""&&f!=null&&(e=f.xiaopiao==58?0:1,e=f.xiaopiao==58?0:f.xiaopiao==80?1:f.xiaopiao==76?5:f.xiaopiao==210?2:0,g=f.mo)),h=[],r={HeaderList:[],BodyList:[],TitleList:[],FooterList:[],LogoData:null,QRCodeData:null,Action:1,PageType:e,PagePadding:0},h={a:1,b:"1,1,0,0,1,1,0,0,0",f:"0,1,1,1,1,1,0,1,1,1,1,1,1",h:"1,0,1,1,1,0,1,1",l:null,p:0,q:{Align:1,Width:100,Height:100,ImageString:""},t:""},o&&o.cof)try{i.user.sv_mr_cardno&&(ot=isNullOrWhiteSpace(i.user.sv_mr_cardno));var st=i.order_receivable,p=h.h.split(","),b=h.b.split(","),ht=i.prlist,k=h.f.split(","),ct=h.q,lt=h.l;if(p&&p.length>0&&(r.HeaderList.push({Content:"\u6b22\u8fce\u5149\u4e34",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0}),r.HeaderList.push({Content:convertString(o.user.sv_us_name),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0}),decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android?r.HeaderList.push({Content:"......................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):r.HeaderList.push({Content:"..........................................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),p.length>1&&p[1]==1&&r.HeaderList.push({Content:"\u5fae\u4fe1:"+convertString(o.user.sv_wechat_number),Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:0}),r.HeaderList.push({Content:"\u4f1a\u5458\u59d3\u540d\uff1a"+(i.data.menber_name||i.data.sv_mr_name||""),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),r.HeaderList.push({Content:"\u4f1a\u5458\u5361\u53f7\uff1a"+(i.data.menber_card||i.data.sv_mr_cardno||""),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android?r.HeaderList.push({Content:"......................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):r.HeaderList.push({Content:"..........................................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),r.HeaderList.push({Content:"\u7c7b\u578b\uff1a\u6b21\u5361\u8d2d\u4e70",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),r.HeaderList.push({Content:"\u5145\u503c\uff1a"+(i.data.favorableprice||i.data.amount||0),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),c=0,w=0,e==1?(c=3,w=5):e==2&&(c=10,w=10),b&&b.length>0&&(y="",y+=e==1?"\u9879\u76ee              ":"\u9879\u76ee     ",r.TitleList.push({Content:"\u9879\u76ee",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:12+c}),y+=e==1?"\u8d2d\u4e70              ":"\u8d2d\u4e70     ",r.TitleList.push({Content:"\u8d2d\u4e70",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:6+c}),y+=e==1?"\u8d60\u9001              ":"\u8d60\u9001     ",r.TitleList.push({Content:"\u8d60\u9001",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:6+c}),y+=e==1?"\u603b\u6570":"\u603b\u6570",r.TitleList.push({Content:"\u603b\u6570",Columns:1,RowNum:1,RowMaxLength:10,Align:1,TextFont:0,Width:6+c}),decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android),i.data.membercardRechargeList&&i.data.membercardRechargeList.length>0)for(r.BodyList.push({Content:"\u5546\u54c1\u540d\u79f0,\u8d2d\u4e70\u6570\u91cf,\u8d60\u9001\u6570\u91cf",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),u=0;u<i.data.membercardRechargeList.length;u++)l=i.data.membercardRechargeList[u].sv_mcr_productname+","+i.data.membercardRechargeList[u].sv_purchase_number+","+i.data.membercardRechargeList[u].sv_give_number+","+i.data.membercardRechargeList[u].sv_mcr_count,r.BodyList.push({Content:l,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0});else if(i.data.setmealrechargedetail&&i.data.setmealrechargedetail.length>0)for(i.data.sv_charge_type==0?r.BodyList.push({Content:"\u5546\u54c1\u540d\u79f0,\u5145\u503c\u524d,\u5145\u503c\u540e",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):r.BodyList.push({Content:"\u5546\u54c1\u540d\u79f0,\u8d2d\u4e70\u6570\u91cf,\u8d60\u9001\u6570\u91cf",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),u=0;u<i.data.setmealrechargedetail.length;u++)i.data.sv_charge_type==0?(l=i.data.setmealrechargedetail[u].sv_p_name+","+i.data.setmealrechargedetail[u].sv_mcr_countbefore+","+i.data.setmealrechargedetail[u].sv_mcr_countafter+","+i.data.setmealrechargedetail[u].sv_mcr_sumcount,r.BodyList.push({Content:l,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})):(l=i.data.setmealrechargedetail[u].sv_p_name+","+i.data.setmealrechargedetail[u].sv_purchase_count+","+i.data.setmealrechargedetail[u].sv_give_count+","+i.data.setmealrechargedetail[u].sv_mcr_sumcount,r.BodyList.push({Content:l,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}));if(k&&k.length>0&&(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android?r.FooterList.push({Content:"......................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}):r.FooterList.push({Content:"..........................................................",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),r.FooterList.push({Content:"\u4ed8\u6b3e\u91d1\u989d\uff1a"+parseFloat(i.data.favorableprice||i.data.amount||0).toFixed(2),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),r.FooterList.push({Content:"\u4ed8\u6b3e\u65b9\u5f0f\uff1a"+(i.data.mcr_payment||i.data.sv_mcr_payment||""),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),r.FooterList.push({Content:"\u5907\u6ce8\u4fe1\u606f\uff1a"+(i.data.sv_remark||i.data.sv_p_remark||""),Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),r.FooterList.push({Content:"\u8d2d\u4e70\u65f6\u95f4\uff1a"+et,Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0}),_g_sv_uit_cache_name&&_g_sv_uit_cache_name!="cache_name_pharmaceutical_indu"&&r.FooterList.push({Content:"\u8c22\u8c22\u60e0\u987e\uff0c\u6b22\u8fce\u4e0b\u6b21\u5149\u4e34",Columns:1,RowNum:1,RowMaxLength:10,Align:0,TextFont:0,Width:0})),parseInt(receptionPtNum)>0&&receptionPtName!=null&&receptionPtName!=""){if(typeof Cef!="undefined")Cef.CustormPrint(JSON.stringify(r),""+receptionPtNum+"",receptionPtName);else if(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android)try{if(g_android_print_config&&g_android_print_config.length>0&&g_android_print_config[0].whetherToEnablenable)if(parseInt(g_android_print_config[0].count||1)>0)for(a=0;a<parseInt(g_android_print_config[0].count||1);a++)cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(r),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(r),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else if(parseInt(receptionPtNum)>0)for(v=0;v<parseInt(receptionPtNum);v++)cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(r)});else cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(r)})}catch(d){alert("\u6253\u5370\u5931\u8d25: "+d.message)}}else if(typeof Cef!="undefined")Cef.CustormPrint(JSON.stringify(r));else if(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android)try{if(g_android_print_config&&g_android_print_config.length>0&&g_android_print_config[0].whetherToEnablenable)if(parseInt(g_android_print_config[0].count||1)>0)for(a=0;a<parseInt(g_android_print_config[0].count||1);a++)cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(r),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else cordova.plugins.barcodeScanner.barcodexprinter(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(r),printConfig:JSON.stringify({type:"usb",name:g_android_print_config[0].ipOrName,copies:g_android_print_config[0].count,isLabel:g_android_print_config[0].labelPrinter})});else if(parseInt(receptionPtNum)>0)for(v=0;v<parseInt(receptionPtNum);v++)cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(r)});else cordova.plugins.barcodeScanner.print(function(){},function(n){layer("\u6253\u5370\u5931\u8d25: "+n)},{myPrintData:JSON.stringify(r)})}catch(d){alert("\u6253\u5370\u5931\u8d25: "+d.message)}}catch(d){}}function decerp_print(n){try{Cef.CustrmPrint(JSON.stringify(n))}catch(t){}}function convertString(n){return n?n:""}function convertfloat(n){try{if(n)return parseFloat(n).toFixed(2).replace(".00","")}catch(t){}return"0"}function fnW(n){return n>=10?n:"0"+n}function getAndroidPrintConfig(){try{if(decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android&&(PreferentialTopUpGivingConfigList("AndroidPrinterConfig","AndroidPrinterConfig"),Preferential_TopUpGiving_ConfigList!=null&&Preferential_TopUpGiving_ConfigList.length>0)){var n=$.parseJSON(Preferential_TopUpGiving_ConfigList[0].sv_detail_value);n&&(n[0].whetherToEnablenable||n[1].whetherToEnablenable)&&(g_android_print_config=n,n[0].printerType=="usb"||$("#AndroidFrontNetwork").prop("checked",!0),n[1].printerType=="usb")}}catch(t){}}function laguangeText(){$.get("/languageJson/languangeJson.json",function(n){_g_languangeJson=n})}function languageText(n,t){var i="";return is_open_PrintingComplexFont==!0?(i=_g_languangeJson[t][1],i||(i=n)):i=n,i}function AddPlaySound(n,t,i,r){n&&(r&&(r="body"),g_play_sound_queue_url[g_play_sound_queue_url.length]=n,g_play_sound_queue_start[g_play_sound_queue_start.length]=t,g_play_sound_queue_end[g_play_sound_queue_end.length]=i,g_play_sound_queue_html[g_play_sound_queue_html.length]=r,StartPlayer())}function RemovePlaySound(n){return n<g_play_sound_queue_url.length?(g_play_sound_queue_url[n]=null,g_play_sound_queue_start[n]=null,g_play_sound_queue_end[n]=null,g_play_sound_queue_html[n]=null,GarbageRemoval(),!0):!1}function StartPlayer(n){return n==null&&(n=100),g_PlaySoundTimer?!1:(g_PlaySoundTimer=setInterval("SystemFunction();",n),!0)}function SystemFunction(){var t=$("video")[0],n;if(t){if(t.ended)for(n=0;n<g_play_sound_queue_url.length;n++)if(g_play_sound_queue_url[n]){g_play_sound_queue_end[n]&&g_play_sound_queue_end[n]();t.remove();g_play_sound_queue_url[n]=null;g_play_sound_queue_start[n]=null;g_play_sound_queue_end[n]=null;g_play_sound_queue_html[n]=null;GarbageRemoval();break}}else for(n=0;n<g_play_sound_queue_html.length;n++)if(g_play_sound_queue_html[n]){$(g_play_sound_queue_html[n]).append("<video hidden='hidden' autoplay='autoplay' controls='controls' src='"+g_play_sound_queue_url[n]+"'>\u4e0d\u652f\u6301\u64ad\u653e\u5668<\/vodeo>");g_play_sound_queue_start[n]&&g_play_sound_queue_start[n]();break}}function ClosePlayer(){return g_PlaySoundTimer?(window.clearInterval(g_PlaySoundTimer),g_PlaySoundTimer=null,!0):!1}function GarbageRemoval(){for(var t=!1,n=0;n<g_play_sound_queue_url.length;n++){if(g_play_sound_queue_url[n]!=null)break;g_play_sound_queue_url.length-1==n&&(t=!0)}t&&(g_play_sound_queue_url=[],g_play_sound_queue_start=[],g_play_sound_queue_end=[],g_play_sound_queue_html=[],ClosePlayer())}var newphotosrcarray,dijige,warehouse,money,amtabsildes,amtabsildes1,clearCache,switch0,_l_update_flag,settimefadIn,successionPrintModel,preventTheRepeatClick,_Settlement_text,_Should_be_charged_text,width,Itemdetailarr,checkedProductId,mp_Productdata,stockClass,_g_employee_list,input_change,cashlefsit_move_index,decerpbrowser,splitOpenCaseList,commissionPerformance,_g_languangeJson,languangeJson;!function(n){function at(){var n=document.currentScript,t;return n||(t=document.scripts,n=t[t.length-1]),n}function y(n,t,i){var r=n[t];n[t]=i(r)}function p(n){return"function"!=typeof n?n:(n.__injected__||(n.__injected__=function(){try{return n.apply(this,arguments)}catch(n){throw pt(n),s=!0,n;}}),n.__injected__)}function w(t){if(!t)return null;var i={};return n.XMLHttpRequest?i={name:t.name,message:t.message,fileName:t.fileName||t.sourceURL,lineNumber:t.lineNumber||t.line,columnNumber:t.columnNumber||t.column}:i.message=t.message,i}function vt(){var n;try{throw new Error("");}catch(t){n=t.stack}if(n)return n=n.replace(/(.*?)fundebug(.*?)\.js(.*)\n?/gm,""),n=n.replace(/^Error\n/g,""),n="generated-stack:\n"+n}function yt(){for(var r,i,t=[],n=arguments.callee.caller.caller;n&&t.length<10;)i=n.toString().match(/function\s*([\w\_$]+)?\s*\(/i),r=i&&i[1]||"[anonymous]",t.push(r),n=n.caller;return"generated-stack:\n"+t.join("\n")}function pt(n){var i,t;n&&(i=n.stack,i=i.replace(/(.*?)fundebug(.*?)\.js(.*)\n?/gm,""),t=w(n),e({name:t.name||"uncaught error",message:t.message,fileName:t.fileName,lineNumber:t.lineNumber,columnNumber:t.columnNumber,stacktrace:i,severity:"error",type:"uncaught"}))}function wt(i){var r,u,f,o;t.silentResource||i.message||(r=i.target?i.target:i.srcElement,u=r&&r.outerHTML,u&&u.length>200&&(u=u.slice(0,200)),f={type:"resourceError",target:{outerHTML:u,src:r&&r.src,tagName:r&&r.tagName,id:r&&r.id,className:r&&r.className,name:r&&r.name,type:r&&r.type,XPath:bt(r),selector:kt(r),timeStamp:i.timeStamp}},r.src!==n.location.href&&(!r.src||!r.src.match(/.*\/(.*)$/)||r.src.match(/.*\/(.*)$/)[1])&&f.target.src&&n.XMLHttpRequest&&(o=new XMLHttpRequest,o.Fundebug=!0,o.open("HEAD",f.target.src),o.send(),o.onload=function(n){200!==n.target.status&&(f.target.status=n.target.status,f.target.statusText=n.target.statusText);e(f)}))}function bt(n){for(var t,r,u,f,e,i=[];n&&n.nodeType==Node.ELEMENT_NODE;n=n.parentNode){for(r=0,u=!1,t=n.previousSibling;t;t=t.previousSibling)t.nodeType!=Node.DOCUMENT_TYPE_NODE&&t.nodeName==n.nodeName&&++r;for(t=n.nextSibling;t&&!u;t=t.nextSibling)t.nodeName==n.nodeName&&(u=!0);f=(n.prefix?n.prefix+":":"")+n.localName;e=r||u?"["+(r+1)+"]":"";i.splice(0,0,f+e)}return i.length?"/"+i.join("/"):null}function kt(n){for(var r,i,t=[];n.parentNode;){if(n.id){t.unshift("#"+n.id);break}if(n==n.ownerDocument.documentElement)t.unshift(n.tagName);else{for(r=1,i=n;i.previousElementSibling;i=i.previousElementSibling,r++);t.unshift(n.tagName+":nth-child("+r+")")}n=n.parentNode}return t.join(" > ")}function f(n){c.push(n);c.length>20&&c.shift()}function rt(t){var i,r;i=t.target?t.target:t.srcElement;r=i&&i.outerHTML;r&&r.length>200&&(r=r.slice(0,200));f({type:"click",page:{url:n.location.href,title:document.title},detail:{outerHTML:r,tagName:i&&i.tagName,id:i&&i.id,className:i&&i.className,name:i&&i.name},time:(new Date).getTime()})}function b(n,t){i=t;f({type:"navigation",detail:{from:n,to:t},time:(new Date).getTime()})}function dt(t){var i=console[t];console[t]=function(){if(f({type:"console",page:{url:n.location.href,title:document.title},detail:{level:t,arguments:Array.prototype.slice.apply(arguments).join(" ")},time:(new Date).getTime()}),"function"==typeof i)if(i.apply)i.apply(console,arguments);else{var r=Array.prototype.slice.apply(arguments).join(" ");i(r)}}}function ut(n){return!t.silentHttp&&(0!==n.detail.status||!/^file:\/\/\//.test(n.detail.url))&&2!==parseInt(n.detail.status/100)}function e(i){if(t.maxEventNumber&&!t.silent){t.maxEventNumber-=1;var u={notifierVersion:"deke1225",userAgent:n.navigator.userAgent,locale:n.navigator.language||n.navigator.userLanguage,url:n.location.href,title:document.title,appVersion:r.getAttribute("appversion")||t.appversion,apiKey:r.getAttribute("apikey")||t.apikey,releaseStage:r.getAttribute("releasestage")||t.releasestage,metaData:i.metaData||t.metaData,user:i.user||t.user,name:i.name,time:(new Date).getTime(),message:i.message,fileName:i.fileName,lineNumber:i.lineNumber,columnNumber:i.columnNumber,stacktrace:i.stacktrace,type:i.type,severity:i.severity,target:i.target,req:i.req,res:i.res,user_id:1};u.userAgent&&u.userAgent.match(/Googlebot/)||gt(u)||ti(u)}}function gt(n){var i=t.filters,r;if(!i||!i.length)return!1;for(r=0;r<i.length;r++)if(ft(n,i[r]))return!0;return!1}function ft(n,t){if(!n||Object.keys&&!Object.keys(t).length)return!1;for(var i in t)if(t.hasOwnProperty(i))if(t[i].constructor===RegExp){if(!t[i].test(n[i]))return!1}else if(t[i].constructor!==Object||!ft(n[i],t[i]))return!1;return!0}function o(n){var f,r,e,u,i,t;if("undefined"!=typeof JSON)return JSON.stringify(n);if(n instanceof Array){for(f=[],r=0;r<n.length;r++)f.push(o(n[r]));return"["+f.join(",")+"]"}e=[];for(u in n)n.hasOwnProperty(u)&&(i='"'+u+'":',t=n[u],t&&("object"==typeof t?i+=o(t):"number"==typeof t?i+=t:i=i+'"'+t.replace(/\n/g,"\\n")+'"',e.push(i)));return"{"+e.join(",")+"}"}function ni(n){var t;try{t=o(n)}catch(i){delete n.metaData;try{t=o(n)}catch(n){return}}return t}function ti(t){var r=ni(t),u=t.target,f="",e,i;u&&u!=undefined&&t.target.tagName!=undefined&&t.target.tagName=="IMG"&&(f=t.target.tagName);r&&(e=et,n.XMLHttpRequest&&n.atob&&f!="IMG"&&(i=new XMLHttpRequest,i.Fundebug=!0,i.open("POST",e),i.setRequestHeader("Content-Type","application/json"),i.send(r)))}var et="",t={},s,r,h,c,i,k,d,g,nt,l,a,u,tt,v,it,ot,st,ht,ct,lt;if(n.fundebug=t,s=!1,r=at(),t.silent=r.getAttribute("silent")||!1,t.maxEventNumber=r.getAttribute("maxEventNumber")||10,t.silentResource=r.getAttribute("silentResource")||!1,t.silentHttp=r.getAttribute("silentHttp")||!1,y(n,"onerror",function(){return function(t,i,r,u,f){var h,o;return s?void(s=!1):(void 0===u&&n.event&&(u=n.event.errorCharacter),h=i&&i!==n.location.href?i:null,o=w(f),e({message:t,lineNumber:r,columnNumber:u,fileName:h||o&&o.fileName,name:o&&o.name||"uncaught error",stacktrace:f&&f.stack||yt(),severity:"error",type:"uncaught"}),!1)}}),h=!0,n.atob){if(n.ErrorEvent)try{n.ErrorEvent.prototype.hasOwnProperty("error")&&(h=!1)}catch(n){}}else h=!1;for("EventTarget Window Node ApplicationCache AudioTrackList ChannelMergerNode CryptoOperation EventSource FileReader HTMLUnknownElement IDBDatabase IDBRequest IDBTransaction KeyOperation MediaController MessagePort ModalWindow Notification SVGElementInstance Screen TextTrack TextTrackCue TextTrackList WebSocket WebSocketWorker Worker XMLHttpRequest XMLHttpRequestEventTarget XMLHttpRequestUpload".replace(/\w+/g,function(t){if(h){var i=n[t]&&n[t].prototype;i&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(y(i,"addEventListener",function(n){return function(t,i,r,u){return i&&i.handleEvent&&(i.handleEvent=p(i.handleEvent)),n.call(this,t,p(i),r,u)}}),y(i,"removeEventListener",function(n){return function(t,i,r){return n.call(this,t,i,r),n.call(this,t,p(i),r)}}))}}),t.notify=function(n,i,u){if(n){var f={name:n||u&&u.name,message:i||u&&u.message,severity:u&&u.message||"warning",stacktrace:vt(),type:"notification",user:u&&u.user,metaData:u&&u.metaData},e=r.getAttribute("apikey")||t.apikey;return!0}},t.notifyError=function(t,i){if(t){n.console&&console.error(t);var r=w(t);e({name:r.name||i&&i.name||"caught error",message:r.message||i&&i.message,stacktrace:t.stack,fileName:r.fileName,lineNumber:r.lineNumber,columnNumber:r.columnNumber,severity:i&&i.severity||"error",type:"caught",user:i&&i.user,metaData:i&&i.metaData})}},t.notifyHttpError=function(n,t,i){e({type:"httpError",req:n,res:t,user:i&&i.user,metaData:i&&i.metaData})},n.addEventListener&&n.addEventListener("unhandledrejection",function(n){t.notifyError(n.reason)}),n.addEventListener&&n.addEventListener("error",wt,!0),c=[],n.addEventListener?n.addEventListener("click",rt,!0):document.attachEvent("onclick",rt),i={url:n.location.href},document.addEventListener?document.addEventListener("DOMContentLoaded",function(){i={url:n.location.href,title:document.title}}):document.attachEvent("onreadystatechange",function(){i={url:n.location.href,title:document.title}}),k=n.onpopstate,n.onpopstate=function(){var t={url:n.location.href};if(i.title||(i.title=document.title),i.url!==t.url&&b(i,t),k)return k.apply(this,arguments)},d=n.history.pushState,n.history.pushState=function(){i={url:n.location.href,title:document.title};var t={};if(3===arguments.length&&(t.url=arguments[2]),i.url!==t.url&&b(i,t),d)return d.apply(this,arguments)},g=n.onhashchange,n.onhashchange=function(){var t={url:n.location.href,title:document.title};if(i.url!==t.url&&b(i,t),g)return g.apply(this,arguments)},nt=["log","warn","error","debug","info"],l=0;l<nt.length;l++)n.console&&dt(nt[l]);if(a=!1,n.XMLHttpRequest){if(u=XMLHttpRequest.prototype,!u)return;ot=u.open;u.open=function(n,i){tt=n;v=i;it=(new Date).getTime();try{ot.apply(this,arguments)}catch(n){a=!0;t.notifyError(n,{metaData:{description:"XMLHttpRequest\u8bf7\u6c42\u5931\u8d25(\u5982\u679c\u662f\u62d2\u7edd\u8bbf\u95ee\uff0c\u5219\u662f\u7531\u4e8e\u6d4f\u89c8\u5668\u8de8\u57df\u9650\u5236)",method:tt,httpUrl:v}})}};st=u.send;u.send=function(){if(a)return void(a=!1);var i=this,r=i.onreadystatechange;i.onreadystatechange=function(){var e,u,o,s;4!==i.readyState||i.Fundebug||v==et||(e=(new Date).getTime()-it,u={type:"XMLHttpRequest",page:{url:n.location.href},detail:{method:tt,url:i.responseURL||v,status:i.status,statusText:i.statusText},elapsedTime:e,time:it},ut(u)&&(o={method:u.detail.method,url:u.detail.url},s={status:i.status,statusText:i.statusText,response:i.response,elapsedTime:e},t.notifyHttpError(o,s)),f(u));r&&r.apply(this,arguments)};st.apply(this,arguments)}}n.fetch&&(ht=n.fetch,n.fetch=function(i,r){var u=(new Date).getTime();return ht.apply(this,arguments).then(function(i){var o=(new Date).getTime()-u,e={type:"fetch",page:{url:n.location.href,title:document.title},detail:{method:r&&r.method||"GET",url:i.url,status:i.status,statusText:i.statusText},elapsedTime:o,time:u},s,h;return ut(e)&&(s={method:e.detail.method,url:e.detail.url},h={status:i.status,statusText:i.statusText,elapsedTime:o},t.notifyHttpError(s,h)),f(e),i})});ct="function"==typeof define;lt="undefined"!=typeof module&&module.exports;ct?define(t):lt&&(module.exports=t)}(window);
/*! jQuery v2.1.0 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
if(!function(n,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=n.document?t(n,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}:t(n)}("undefined"!=typeof window?window:this,function(n,t){function ui(n){var t=n.length,r=i.type(n);return"function"===r||i.isWindow(n)?!1:1===n.nodeType&&t?!0:"array"===r||0===t||"number"==typeof t&&t>0&&t-1 in n}function fi(n,t,r){if(i.isFunction(t))return i.grep(n,function(n,i){return!!t.call(n,i,n)!==r});if(t.nodeType)return i.grep(n,function(n){return n===t!==r});if("string"==typeof t){if(ef.test(t))return i.filter(t,n,r);t=i.filter(t,n)}return i.grep(n,function(n){return et.call(t,n)>=0!==r})}function rr(n,t){while((n=n[t])&&1!==n.nodeType);return n}function of(n){var t=ei[n]={};return i.each(n.match(c)||[],function(n,i){t[i]=!0}),t}function ct(){u.removeEventListener("DOMContentLoaded",ct,!1);n.removeEventListener("load",ct,!1);i.ready()}function p(){Object.defineProperty(this.cache={},0,{get:function(){return{}}});this.expando=i.expando+Math.random()}function ur(n,t,r){var u;if(void 0===r&&1===n.nodeType)if(u="data-"+t.replace(hf,"-$1").toLowerCase(),r=n.getAttribute(u),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:sf.test(r)?i.parseJSON(r):r}catch(f){}e.set(n,t,r)}else r=void 0;return r}function at(){return!0}function g(){return!1}function sr(){try{return u.activeElement}catch(n){}}function ar(n,t){return i.nodeName(n,"table")&&i.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?n.getElementsByTagName("tbody")[0]||n.appendChild(n.ownerDocument.createElement("tbody")):n}function bf(n){return n.type=(null!==n.getAttribute("type"))+"/"+n.type,n}function kf(n){var t=pf.exec(n.type);return t?n.type=t[1]:n.removeAttribute("type"),n}function oi(n,t){for(var i=0,u=n.length;u>i;i++)r.set(n[i],"globalEval",!t||r.get(t[i],"globalEval"))}function vr(n,t){var u,c,f,s,h,l,a,o;if(1===t.nodeType){if(r.hasData(n)&&(s=r.access(n),h=r.set(t,s),o=s.events)){delete h.handle;h.events={};for(f in o)for(u=0,c=o[f].length;c>u;u++)i.event.add(t,f,o[f][u])}e.hasData(n)&&(l=e.access(n),a=i.extend({},l),e.set(t,a))}}function o(n,t){var r=n.getElementsByTagName?n.getElementsByTagName(t||"*"):n.querySelectorAll?n.querySelectorAll(t||"*"):[];return void 0===t||t&&i.nodeName(n,t)?i.merge([n],r):r}function df(n,t){var i=t.nodeName.toLowerCase();"input"===i&&fr.test(n.type)?t.checked=n.checked:("input"===i||"textarea"===i)&&(t.defaultValue=n.defaultValue)}function yr(t,r){var u=i(r.createElement(t)).appendTo(r.body),f=n.getDefaultComputedStyle?n.getDefaultComputedStyle(u[0]).display:i.css(u[0],"display");return u.detach(),f}function pr(n){var r=u,t=si[n];return t||(t=yr(n,r),"none"!==t&&t||(vt=(vt||i("<iframe frameborder='0' width='0' height='0'/>")).appendTo(r.documentElement),r=vt[0].contentDocument,r.write(),r.close(),t=yr(n,r),vt.detach()),si[n]=t),t}function rt(n,t,r){var e,o,s,u,f=n.style;return r=r||yt(n),r&&(u=r.getPropertyValue(t)||r[t]),r&&(""!==u||i.contains(n.ownerDocument,n)||(u=i.style(n,t)),hi.test(u)&&wr.test(t)&&(e=f.width,o=f.minWidth,s=f.maxWidth,f.minWidth=f.maxWidth=f.width=u,u=r.width,f.width=e,f.minWidth=o,f.maxWidth=s)),void 0!==u?u+"":u}function br(n,t){return{get:function(){return n()?void delete this.get:(this.get=t).apply(this,arguments)}}}function gr(n,t){if(t in n)return t;for(var r=t[0].toUpperCase()+t.slice(1),u=t,i=dr.length;i--;)if(t=dr[i]+r,t in n)return t;return u}function nu(n,t,i){var r=ne.exec(t);return r?Math.max(0,r[1]-(i||0))+(r[2]||"px"):t}function tu(n,t,r,u,f){for(var e=r===(u?"border":"content")?4:"width"===t?1:0,o=0;4>e;e+=2)"margin"===r&&(o+=i.css(n,r+w[e],!0,f)),u?("content"===r&&(o-=i.css(n,"padding"+w[e],!0,f)),"margin"!==r&&(o-=i.css(n,"border"+w[e]+"Width",!0,f))):(o+=i.css(n,"padding"+w[e],!0,f),"padding"!==r&&(o+=i.css(n,"border"+w[e]+"Width",!0,f)));return o}function iu(n,t,r){var o=!0,u="width"===t?n.offsetWidth:n.offsetHeight,e=yt(n),s="border-box"===i.css(n,"boxSizing",!1,e);if(0>=u||null==u){if(u=rt(n,t,e),(0>u||null==u)&&(u=n.style[t]),hi.test(u))return u;o=s&&(f.boxSizingReliable()||u===n.style[t]);u=parseFloat(u)||0}return u+tu(n,t,r||(s?"border":"content"),o,e)+"px"}function ru(n,t){for(var e,u,s,o=[],f=0,h=n.length;h>f;f++)u=n[f],u.style&&(o[f]=r.get(u,"olddisplay"),e=u.style.display,t?(o[f]||"none"!==e||(u.style.display=""),""===u.style.display&&it(u)&&(o[f]=r.access(u,"olddisplay",pr(u.nodeName)))):o[f]||(s=it(u),(e&&"none"!==e||!s)&&r.set(u,"olddisplay",s?e:i.css(u,"display"))));for(f=0;h>f;f++)u=n[f],u.style&&(t&&"none"!==u.style.display&&""!==u.style.display||(u.style.display=t?o[f]||"":"none"));return n}function s(n,t,i,r,u){return new s.prototype.init(n,t,i,r,u)}function fu(){return setTimeout(function(){nt=void 0}),nt=i.now()}function bt(n,t){var r,u=0,i={height:n};for(t=t?1:0;4>u;u+=2-t)r=w[u],i["margin"+r]=i["padding"+r]=n;return t&&(i.opacity=i.width=n),i}function eu(n,t,i){for(var u,f=(ut[t]||[]).concat(ut["*"]),r=0,e=f.length;e>r;r++)if(u=f[r].call(i,t,n))return u}function fe(n,t,u){var f,l,p,a,o,w,y,c=this,v={},s=n.style,h=n.nodeType&&it(n),e=r.get(n,"fxshow");u.queue||(o=i._queueHooks(n,"fx"),null==o.unqueued&&(o.unqueued=0,w=o.empty.fire,o.empty.fire=function(){o.unqueued||w()}),o.unqueued++,c.always(function(){c.always(function(){o.unqueued--;i.queue(n,"fx").length||o.empty.fire()})}));1===n.nodeType&&("height"in t||"width"in t)&&(u.overflow=[s.overflow,s.overflowX,s.overflowY],y=i.css(n,"display"),"none"===y&&(y=pr(n.nodeName)),"inline"===y&&"none"===i.css(n,"float")&&(s.display="inline-block"));u.overflow&&(s.overflow="hidden",c.always(function(){s.overflow=u.overflow[0];s.overflowX=u.overflow[1];s.overflowY=u.overflow[2]}));for(f in t)if(l=t[f],re.exec(l)){if(delete t[f],p=p||"toggle"===l,l===(h?"hide":"show")){if("show"!==l||!e||void 0===e[f])continue;h=!0}v[f]=e&&e[f]||i.style(n,f)}if(!i.isEmptyObject(v)){e?"hidden"in e&&(h=e.hidden):e=r.access(n,"fxshow",{});p&&(e.hidden=!h);h?i(n).show():c.done(function(){i(n).hide()});c.done(function(){var t;r.remove(n,"fxshow");for(t in v)i.style(n,t,v[t])});for(f in v)a=eu(h?e[f]:0,f,c),f in e||(e[f]=a.start,h&&(a.end=a.start,a.start="width"===f||"height"===f?1:0))}}function ee(n,t){var r,f,e,u,o;for(r in n)if(f=i.camelCase(r),e=t[f],u=n[r],i.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),o=i.cssHooks[f],o&&"expand"in o){u=o.expand(u);delete n[f];for(r in u)r in n||(n[r]=u[r],t[r]=e)}else t[f]=e}function ou(n,t,r){var h,e,o=0,l=wt.length,f=i.Deferred().always(function(){delete c.elem}),c=function(){if(e)return!1;for(var s=nt||fu(),t=Math.max(0,u.startTime+u.duration-s),h=t/u.duration||0,i=1-h,r=0,o=u.tweens.length;o>r;r++)u.tweens[r].run(i);return f.notifyWith(n,[u,i,t]),1>i&&o?t:(f.resolveWith(n,[u]),!1)},u=f.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{}},r),originalProperties:t,originalOptions:r,startTime:nt||fu(),duration:r.duration,tweens:[],createTween:function(t,r){var f=i.Tween(n,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(f),f},stop:function(t){var i=0,r=t?u.tweens.length:0;if(e)return this;for(e=!0;r>i;i++)u.tweens[i].run(1);return t?f.resolveWith(n,[u,t]):f.rejectWith(n,[u,t]),this}}),s=u.props;for(ee(s,u.opts.specialEasing);l>o;o++)if(h=wt[o].call(u,n,s,u.opts))return h;return i.map(s,eu,u),i.isFunction(u.opts.start)&&u.opts.start.call(n,u),i.fx.timer(i.extend(c,{elem:n,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function pu(n){return function(t,r){"string"!=typeof t&&(r=t,t="*");var u,f=0,e=t.toLowerCase().match(c)||[];if(i.isFunction(r))while(u=e[f++])"+"===u[0]?(u=u.slice(1)||"*",(n[u]=n[u]||[]).unshift(r)):(n[u]=n[u]||[]).push(r)}}function wu(n,t,r,u){function e(s){var h;return f[s]=!0,i.each(n[s]||[],function(n,i){var s=i(t,r,u);return"string"!=typeof s||o||f[s]?o?!(h=s):void 0:(t.dataTypes.unshift(s),e(s),!1)}),h}var f={},o=n===ci;return e(t.dataTypes[0])||!f["*"]&&e("*")}function li(n,t){var r,u,f=i.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((f[r]?n:u||(u={}))[r]=t[r]);return u&&i.extend(!0,n,u),n}function ae(n,t,i){for(var e,u,f,o,s=n.contents,r=n.dataTypes;"*"===r[0];)r.shift(),void 0===e&&(e=n.mimeType||t.getResponseHeader("Content-Type"));if(e)for(u in s)if(s[u]&&s[u].test(e)){r.unshift(u);break}if(r[0]in i)f=r[0];else{for(u in i){if(!r[0]||n.converters[u+" "+r[0]]){f=u;break}o||(o=u)}f=f||o}if(f)return(f!==r[0]&&r.unshift(f),i[f])}function ve(n,t,i,r){var h,u,f,s,e,o={},c=n.dataTypes.slice();if(c[1])for(f in n.converters)o[f.toLowerCase()]=n.converters[f];for(u=c.shift();u;)if(n.responseFields[u]&&(i[n.responseFields[u]]=t),!e&&r&&n.dataFilter&&(t=n.dataFilter(t,n.dataType)),e=u,u=c.shift())if("*"===u)u=e;else if("*"!==e&&e!==u){if(f=o[e+" "+u]||o["* "+u],!f)for(h in o)if(s=h.split(" "),s[1]===u&&(f=o[e+" "+s[0]]||o["* "+s[0]])){f===!0?f=o[h]:o[h]!==!0&&(u=s[0],c.unshift(s[1]));break}if(f!==!0)if(f&&n.throws)t=f(t);else try{t=f(t)}catch(l){return{state:"parsererror",error:f?l:"No conversion from "+e+" to "+u}}}return{state:"success",data:t}}function ai(n,t,r,u){var f;if(i.isArray(t))i.each(t,function(t,i){r||pe.test(n)?u(n,i):ai(n+"["+("object"==typeof i?t:"")+"]",i,r,u)});else if(r||"object"!==i.type(t))u(n,t);else for(f in t)ai(n+"["+f+"]",t[f],r,u)}function ku(n){return i.isWindow(n)?n:9===n.nodeType&&n.defaultView}var k=[],a=k.slice,wi=k.concat,ii=k.push,et=k.indexOf,ot={},nf=ot.toString,ri=ot.hasOwnProperty,tf="".trim,f={},u=n.document,bi="2.1.0",i=function(n,t){return new i.fn.init(n,t)},rf=/^-ms-/,uf=/-([\da-z])/gi,ff=function(n,t){return t.toUpperCase()},y,st,gi,nr,tr,ir,c,ei,ht,l,d,vt,si,oe,su,tt,hu,kt,cu,dt,gt,vi,ti,yi,pi,du,gu;i.fn=i.prototype={jquery:bi,constructor:i,selector:"",length:0,toArray:function(){return a.call(this)},get:function(n){return null!=n?0>n?this[n+this.length]:this[n]:a.call(this)},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t.context=this.context,t},each:function(n,t){return i.each(this,n,t)},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(n){var i=this.length,t=+n+(0>n?i:0);return this.pushStack(t>=0&&i>t?[this[t]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:ii,sort:k.sort,splice:k.splice};i.extend=i.fn.extend=function(){var e,f,r,t,o,s,n=arguments[0]||{},u=1,c=arguments.length,h=!1;for("boolean"==typeof n&&(h=n,n=arguments[u]||{},u++),"object"==typeof n||i.isFunction(n)||(n={}),u===c&&(n=this,u--);c>u;u++)if(null!=(e=arguments[u]))for(f in e)r=n[f],t=e[f],n!==t&&(h&&t&&(i.isPlainObject(t)||(o=i.isArray(t)))?(o?(o=!1,s=r&&i.isArray(r)?r:[]):s=r&&i.isPlainObject(r)?r:{},n[f]=i.extend(h,s,t)):void 0!==t&&(n[f]=t));return n};i.extend({expando:"jQuery"+(bi+Math.random()).replace(/\D/g,""),isReady:!0,error:function(n){throw new Error(n);},noop:function(){},isFunction:function(n){return"function"===i.type(n)},isArray:Array.isArray,isWindow:function(n){return null!=n&&n===n.window},isNumeric:function(n){return n-parseFloat(n)>=0},isPlainObject:function(n){if("object"!==i.type(n)||n.nodeType||i.isWindow(n))return!1;try{if(n.constructor&&!ri.call(n.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(n){for(var t in n)return!1;return!0},type:function(n){return null==n?n+"":"object"==typeof n||"function"==typeof n?ot[nf.call(n)]||"object":typeof n},globalEval:function(n){var t,r=eval;n=i.trim(n);n&&(1===n.indexOf("use strict")?(t=u.createElement("script"),t.text=n,u.head.appendChild(t).parentNode.removeChild(t)):r(n))},camelCase:function(n){return n.replace(rf,"ms-").replace(uf,ff)},nodeName:function(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()},each:function(n,t,i){var u,r=0,f=n.length,e=ui(n);if(i){if(e){for(;f>r;r++)if(u=t.apply(n[r],i),u===!1)break}else for(r in n)if(u=t.apply(n[r],i),u===!1)break}else if(e){for(;f>r;r++)if(u=t.call(n[r],r,n[r]),u===!1)break}else for(r in n)if(u=t.call(n[r],r,n[r]),u===!1)break;return n},trim:function(n){return null==n?"":tf.call(n)},makeArray:function(n,t){var r=t||[];return null!=n&&(ui(Object(n))?i.merge(r,"string"==typeof n?[n]:n):ii.call(r,n)),r},inArray:function(n,t,i){return null==t?-1:et.call(t,n,i)},merge:function(n,t){for(var u=+t.length,i=0,r=n.length;u>i;i++)n[r++]=t[i];return n.length=r,n},grep:function(n,t,i){for(var u,f=[],r=0,e=n.length,o=!i;e>r;r++)u=!t(n[r],r),u!==o&&f.push(n[r]);return f},map:function(n,t,i){var u,r=0,e=n.length,o=ui(n),f=[];if(o)for(;e>r;r++)u=t(n[r],r,i),null!=u&&f.push(u);else for(r in n)u=t(n[r],r,i),null!=u&&f.push(u);return wi.apply([],f)},guid:1,proxy:function(n,t){var u,f,r;return"string"==typeof t&&(u=n[t],t=n,n=u),i.isFunction(n)?(f=a.call(arguments,2),r=function(){return n.apply(t||this,f.concat(a.call(arguments)))},r.guid=n.guid=n.guid||i.guid++,r):void 0},now:Date.now,support:f});i.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(n,t){ot["[object "+t+"]"]=t.toLowerCase()});y=function(n){function u(n,t,i,u){var w,h,c,v,k,y,d,a,nt,g;if((t?t.ownerDocument||t:s)!==e&&p(t),t=t||e,i=i||[],!n||"string"!=typeof n)return i;if(1!==(v=t.nodeType)&&9!==v)return[];if(l&&!u){if(w=or.exec(n))if(c=w[1]){if(9===v){if(h=t.getElementById(c),!h||!h.parentNode)return i;if(h.id===c)return i.push(h),i}else if(t.ownerDocument&&(h=t.ownerDocument.getElementById(c))&&et(t,h)&&h.id===c)return i.push(h),i}else{if(w[2])return b.apply(i,t.getElementsByTagName(n)),i;if((c=w[3])&&r.getElementsByClassName&&t.getElementsByClassName)return b.apply(i,t.getElementsByClassName(c)),i}if(r.qsa&&(!o||!o.test(n))){if(a=d=f,nt=t,g=9===v&&n,1===v&&"object"!==t.nodeName.toLowerCase()){for(y=vt(n),(d=t.getAttribute("id"))?a=d.replace(sr,"\\$&"):t.setAttribute("id",a),a="[id='"+a+"'] ",k=y.length;k--;)y[k]=a+yt(y[k]);nt=gt.test(n)&&ii(t.parentNode)||t;g=y.join(",")}if(g)try{return b.apply(i,nt.querySelectorAll(g)),i}catch(tt){}finally{d||t.removeAttribute("id")}}}return vr(n.replace(lt,"$1"),t,i,u)}function ni(){function n(r,u){return i.push(r+" ")>t.cacheLength&&delete n[i.shift()],n[r+" "]=u}var i=[];return n}function h(n){return n[f]=!0,n}function c(n){var t=e.createElement("div");try{return!!n(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t);t=null}}function ti(n,i){for(var u=n.split("|"),r=n.length;r--;)t.attrHandle[u[r]]=i}function pi(n,t){var i=t&&n,r=i&&1===n.nodeType&&1===t.nodeType&&(~t.sourceIndex||li)-(~n.sourceIndex||li);if(r)return r;if(i)while(i=i.nextSibling)if(i===t)return-1;return n?1:-1}function hr(n){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===n}}function cr(n){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===n}}function tt(n){return h(function(t){return t=+t,h(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function ii(n){return n&&typeof n.getElementsByTagName!==ut&&n}function wi(){}function vt(n,i){var e,f,s,o,r,h,c,l=hi[n+" "];if(l)return i?0:l.slice(0);for(r=n,h=[],c=t.preFilter;r;){(!e||(f=nr.exec(r)))&&(f&&(r=r.slice(f[0].length)||r),h.push(s=[]));e=!1;(f=tr.exec(r))&&(e=f.shift(),s.push({value:e,type:f[0].replace(lt," ")}),r=r.slice(e.length));for(o in t.filter)(f=at[o].exec(r))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),r=r.slice(e.length));if(!e)break}return i?r.length:r?u.error(n):hi(n,h).slice(0)}function yt(n){for(var t=0,r=n.length,i="";r>t;t++)i+=n[t].value;return i}function ri(n,t,i){var r=t.dir,u=i&&"parentNode"===r,e=bi++;return t.first?function(t,i,f){while(t=t[r])if(1===t.nodeType||u)return n(t,i,f)}:function(t,i,o){var s,h,c=[a,e];if(o){while(t=t[r])if((1===t.nodeType||u)&&n(t,i,o))return!0}else while(t=t[r])if(1===t.nodeType||u){if(h=t[f]||(t[f]={}),(s=h[r])&&s[0]===a&&s[1]===e)return c[2]=s[2];if(h[r]=c,c[2]=n(t,i,o))return!0}}}function ui(n){return n.length>1?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function pt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=null!=t;s>f;f++)(e=n[f])&&(!i||i(e,r,u))&&(o.push(e),h&&t.push(f));return o}function fi(n,t,i,r,u,e){return r&&!r[f]&&(r=fi(r)),u&&!u[f]&&(u=fi(u,e)),h(function(f,e,o,s){var l,c,a,p=[],y=[],w=e.length,k=f||ar(t||"*",o.nodeType?[o]:o,[]),v=!n||!f&&t?k:pt(k,p,n,o,s),h=i?u||(f?n:w||r)?[]:e:v;if(i&&i(v,h,o,s),r)for(l=pt(h,y),r(l,[],o,s),c=l.length;c--;)(a=l[c])&&(h[y[c]]=!(v[y[c]]=a));if(f){if(u||n){if(u){for(l=[],c=h.length;c--;)(a=h[c])&&l.push(v[c]=a);u(null,h=[],l,s)}for(c=h.length;c--;)(a=h[c])&&(l=u?nt.call(f,a):p[c])>-1&&(f[l]=!(e[l]=a))}}else h=pt(h===e?h.splice(w,h.length):h),u?u(null,e,h,s):b.apply(e,h)})}function ei(n){for(var s,u,r,o=n.length,h=t.relative[n[0].type],c=h||t.relative[" "],i=h?1:0,l=ri(function(n){return n===s},c,!0),a=ri(function(n){return nt.call(s,n)>-1},c,!0),e=[function(n,t,i){return!h&&(i||t!==ht)||((s=t).nodeType?l(n,t,i):a(n,t,i))}];o>i;i++)if(u=t.relative[n[i].type])e=[ri(ui(e),u)];else{if(u=t.filter[n[i].type].apply(null,n[i].matches),u[f]){for(r=++i;o>r;r++)if(t.relative[n[r].type])break;return fi(i>1&&ui(e),i>1&&yt(n.slice(0,i-1).concat({value:" "===n[i-2].type?"*":""})).replace(lt,"$1"),u,r>i&&ei(n.slice(i,r)),o>r&&ei(n=n.slice(r)),o>r&&yt(n))}e.push(u)}return ui(e)}function lr(n,i){var r=i.length>0,f=n.length>0,o=function(o,s,h,c,l){var y,d,w,k=0,v="0",g=o&&[],p=[],nt=ht,tt=o||f&&t.find.TAG("*",l),it=a+=null==nt?1:Math.random()||.1,rt=tt.length;for(l&&(ht=s!==e&&s);v!==rt&&null!=(y=tt[v]);v++){if(f&&y){for(d=0;w=n[d++];)if(w(y,s,h)){c.push(y);break}l&&(a=it)}r&&((y=!w&&y)&&k--,o&&g.push(y))}if(k+=v,r&&v!==k){for(d=0;w=i[d++];)w(g,p,s,h);if(o){if(k>0)while(v--)g[v]||p[v]||(p[v]=di.call(c));p=pt(p)}b.apply(c,p);l&&!o&&p.length>0&&k+i.length>1&&u.uniqueSort(c)}return l&&(a=it,ht=nt),g};return r?h(o):o}function ar(n,t,i){for(var r=0,f=t.length;f>r;r++)u(n,t[r],i);return i}function vr(n,i,u,f){var s,e,o,c,a,h=vt(n);if(!f&&1===h.length){if(e=h[0]=h[0].slice(0),e.length>2&&"ID"===(o=e[0]).type&&r.getById&&9===i.nodeType&&l&&t.relative[e[1].type]){if(i=(t.find.ID(o.matches[0].replace(k,d),i)||[])[0],!i)return u;n=n.slice(e.shift().value.length)}for(s=at.needsContext.test(n)?0:e.length;s--;){if(o=e[s],t.relative[c=o.type])break;if((a=t.find[c])&&(f=a(o.matches[0].replace(k,d),gt.test(e[0].type)&&ii(i.parentNode)||i))){if(e.splice(s,1),n=f.length&&yt(e),!n)return b.apply(u,f),u;break}}}return wt(n,h)(f,i,!l,u,gt.test(n)&&ii(i.parentNode)||i),u}var it,r,t,st,oi,wt,ht,y,rt,p,e,v,l,o,g,ct,et,f="sizzle"+-new Date,s=n.document,a=0,bi=0,si=ni(),hi=ni(),ci=ni(),bt=function(n,t){return n===t&&(rt=!0),0},ut="undefined",li=-2147483648,ki={}.hasOwnProperty,w=[],di=w.pop,gi=w.push,b=w.push,ai=w.slice,nt=w.indexOf||function(n){for(var t=0,i=this.length;i>t;t++)if(this[t]===n)return t;return-1},kt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",i="[\\x20\\t\\r\\n\\f]",ft="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",vi=ft.replace("w","w#"),yi="\\["+i+"*("+ft+")"+i+"*(?:([*^$|!~]?=)"+i+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+vi+")|)|)"+i+"*\\]",dt=":("+ft+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+yi.replace(3,8)+")*)|.*)\\)|)",lt=new RegExp("^"+i+"+|((?:^|[^\\\\])(?:\\\\.)*)"+i+"+$","g"),nr=new RegExp("^"+i+"*,"+i+"*"),tr=new RegExp("^"+i+"*([>+~]|"+i+")"+i+"*"),ir=new RegExp("="+i+"*([^\\]'\"]*?)"+i+"*\\]","g"),rr=new RegExp(dt),ur=new RegExp("^"+vi+"$"),at={ID:new RegExp("^#("+ft+")"),CLASS:new RegExp("^\\.("+ft+")"),TAG:new RegExp("^("+ft.replace("w","w*")+")"),ATTR:new RegExp("^"+yi),PSEUDO:new RegExp("^"+dt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+i+"*(even|odd|(([+-]|)(\\d*)n|)"+i+"*(?:([+-]|)"+i+"*(\\d+)|))"+i+"*\\)|)","i"),bool:new RegExp("^(?:"+kt+")$","i"),needsContext:new RegExp("^"+i+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+i+"*((?:-\\d)?\\d*)"+i+"*\\)|)(?=[^-]|$)","i")},fr=/^(?:input|select|textarea|button)$/i,er=/^h\d$/i,ot=/^[^{]+\{\s*\[native \w/,or=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/[+~]/,sr=/'|\\/g,k=new RegExp("\\\\([\\da-f]{1,6}"+i+"?|("+i+")|.)","ig"),d=function(n,t,i){var r="0x"+t-65536;return r!==r||i?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{b.apply(w=ai.call(s.childNodes),s.childNodes);w[s.childNodes.length].nodeType}catch(yr){b={apply:w.length?function(n,t){gi.apply(n,ai.call(t))}:function(n,t){for(var i=n.length,r=0;n[i++]=t[r++];);n.length=i-1}}}r=u.support={};oi=u.isXML=function(n){var t=n&&(n.ownerDocument||n).documentElement;return t?"HTML"!==t.nodeName:!1};p=u.setDocument=function(n){var a,u=n?n.ownerDocument||n:s,h=u.defaultView;return u!==e&&9===u.nodeType&&u.documentElement?(e=u,v=u.documentElement,l=!oi(u),h&&h!==h.top&&(h.addEventListener?h.addEventListener("unload",function(){p()},!1):h.attachEvent&&h.attachEvent("onunload",function(){p()})),r.attributes=c(function(n){return n.className="i",!n.getAttribute("className")}),r.getElementsByTagName=c(function(n){return n.appendChild(u.createComment("")),!n.getElementsByTagName("*").length}),r.getElementsByClassName=ot.test(u.getElementsByClassName)&&c(function(n){return n.innerHTML="<div class='a'><\/div><div class='a i'><\/div>",n.firstChild.className="i",2===n.getElementsByClassName("i").length}),r.getById=c(function(n){return v.appendChild(n).id=f,!u.getElementsByName||!u.getElementsByName(f).length}),r.getById?(t.find.ID=function(n,t){if(typeof t.getElementById!==ut&&l){var i=t.getElementById(n);return i&&i.parentNode?[i]:[]}},t.filter.ID=function(n){var t=n.replace(k,d);return function(n){return n.getAttribute("id")===t}}):(delete t.find.ID,t.filter.ID=function(n){var t=n.replace(k,d);return function(n){var i=typeof n.getAttributeNode!==ut&&n.getAttributeNode("id");return i&&i.value===t}}),t.find.TAG=r.getElementsByTagName?function(n,t){if(typeof t.getElementsByTagName!==ut)return t.getElementsByTagName(n)}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if("*"===n){while(i=u[f++])1===i.nodeType&&r.push(i);return r}return u},t.find.CLASS=r.getElementsByClassName&&function(n,t){if(typeof t.getElementsByClassName!==ut&&l)return t.getElementsByClassName(n)},g=[],o=[],(r.qsa=ot.test(u.querySelectorAll))&&(c(function(n){n.innerHTML="<select t=''><option selected=''><\/option><\/select>";n.querySelectorAll("[t^='']").length&&o.push("[*^$]="+i+"*(?:''|\"\")");n.querySelectorAll("[selected]").length||o.push("\\["+i+"*(?:value|"+kt+")");n.querySelectorAll(":checked").length||o.push(":checked")}),c(function(n){var t=u.createElement("input");t.setAttribute("type","hidden");n.appendChild(t).setAttribute("name","D");n.querySelectorAll("[name=d]").length&&o.push("name"+i+"*[*^$|!~]?=");n.querySelectorAll(":enabled").length||o.push(":enabled",":disabled");n.querySelectorAll("*,:x");o.push(",.*:")})),(r.matchesSelector=ot.test(ct=v.webkitMatchesSelector||v.mozMatchesSelector||v.oMatchesSelector||v.msMatchesSelector))&&c(function(n){r.disconnectedMatch=ct.call(n,"div");ct.call(n,"[s!='']:x");g.push("!=",dt)}),o=o.length&&new RegExp(o.join("|")),g=g.length&&new RegExp(g.join("|")),a=ot.test(v.compareDocumentPosition),et=a||ot.test(v.contains)?function(n,t){var r=9===n.nodeType?n.documentElement:n,i=t&&t.parentNode;return n===i||!(!i||1!==i.nodeType||!(r.contains?r.contains(i):n.compareDocumentPosition&&16&n.compareDocumentPosition(i)))}:function(n,t){if(t)while(t=t.parentNode)if(t===n)return!0;return!1},bt=a?function(n,t){if(n===t)return rt=!0,0;var i=!n.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(n.ownerDocument||n)===(t.ownerDocument||t)?n.compareDocumentPosition(t):1,1&i||!r.sortDetached&&t.compareDocumentPosition(n)===i?n===u||n.ownerDocument===s&&et(s,n)?-1:t===u||t.ownerDocument===s&&et(s,t)?1:y?nt.call(y,n)-nt.call(y,t):0:4&i?-1:1)}:function(n,t){if(n===t)return rt=!0,0;var i,r=0,o=n.parentNode,h=t.parentNode,f=[n],e=[t];if(!o||!h)return n===u?-1:t===u?1:o?-1:h?1:y?nt.call(y,n)-nt.call(y,t):0;if(o===h)return pi(n,t);for(i=n;i=i.parentNode;)f.unshift(i);for(i=t;i=i.parentNode;)e.unshift(i);while(f[r]===e[r])r++;return r?pi(f[r],e[r]):f[r]===s?-1:e[r]===s?1:0},u):e};u.matches=function(n,t){return u(n,null,null,t)};u.matchesSelector=function(n,t){if((n.ownerDocument||n)!==e&&p(n),t=t.replace(ir,"='$1']"),!(!r.matchesSelector||!l||g&&g.test(t)||o&&o.test(t)))try{var i=ct.call(n,t);if(i||r.disconnectedMatch||n.document&&11!==n.document.nodeType)return i}catch(f){}return u(t,e,null,[n]).length>0};u.contains=function(n,t){return(n.ownerDocument||n)!==e&&p(n),et(n,t)};u.attr=function(n,i){(n.ownerDocument||n)!==e&&p(n);var f=t.attrHandle[i.toLowerCase()],u=f&&ki.call(t.attrHandle,i.toLowerCase())?f(n,i,!l):void 0;return void 0!==u?u:r.attributes||!l?n.getAttribute(i):(u=n.getAttributeNode(i))&&u.specified?u.value:null};u.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);};u.uniqueSort=function(n){var u,f=[],t=0,i=0;if(rt=!r.detectDuplicates,y=!r.sortStable&&n.slice(0),n.sort(bt),rt){while(u=n[i++])u===n[i]&&(t=f.push(i));while(t--)n.splice(f[t],1)}return y=null,n};st=u.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(1===t||9===t||11===t){if("string"==typeof n.textContent)return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=st(n)}else if(3===t||4===t)return n.nodeValue}else while(r=n[u++])i+=st(r);return i};t=u.selectors={cacheLength:50,createPseudo:h,match:at,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(k,d),n[3]=(n[4]||n[5]||"").replace(k,d),"~="===n[2]&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),"nth"===n[1].slice(0,3)?(n[3]||u.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*("even"===n[3]||"odd"===n[3])),n[5]=+(n[7]+n[8]||"odd"===n[3])):n[3]&&u.error(n[0]),n},PSEUDO:function(n){var i,t=!n[5]&&n[2];return at.CHILD.test(n[0])?null:(n[3]&&void 0!==n[4]?n[2]=n[4]:t&&rr.test(t)&&(i=vt(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(n[0]=n[0].slice(0,i),n[2]=t.slice(0,i)),n.slice(0,3))}},filter:{TAG:function(n){var t=n.replace(k,d).toLowerCase();return"*"===n?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(n){var t=si[n+" "];return t||(t=new RegExp("(^|"+i+")"+n+"("+i+"|$)"))&&si(n,function(n){return t.test("string"==typeof n.className&&n.className||typeof n.getAttribute!==ut&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(r){var f=u.attr(r,n);return null==f?"!="===t:t?(f+="","="===t?f===i:"!="===t?f!==i:"^="===t?i&&0===f.indexOf(i):"*="===t?i&&f.indexOf(i)>-1:"$="===t?i&&f.slice(-i.length)===i:"~="===t?(" "+f+" ").indexOf(i)>-1:"|="===t?f===i||f.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(n,t,i,r,u){var s="nth"!==n.slice(0,3),o="last"!==n.slice(-4),e="of-type"===t;return 1===r&&0===u?function(n){return!!n.parentNode}:function(t,i,h){var v,k,c,l,y,w,b=s!==o?"nextSibling":"previousSibling",p=t.parentNode,g=e&&t.nodeName.toLowerCase(),d=!h&&!e;if(p){if(s){while(b){for(c=t;c=c[b];)if(e?c.nodeName.toLowerCase()===g:1===c.nodeType)return!1;w=b="only"===n&&!w&&"nextSibling"}return!0}if(w=[o?p.firstChild:p.lastChild],o&&d){for(k=p[f]||(p[f]={}),v=k[n]||[],y=v[0]===a&&v[1],l=v[0]===a&&v[2],c=y&&p.childNodes[y];c=++y&&c&&c[b]||(l=y=0)||w.pop();)if(1===c.nodeType&&++l&&c===t){k[n]=[a,y,l];break}}else if(d&&(v=(t[f]||(t[f]={}))[n])&&v[0]===a)l=v[1];else while(c=++y&&c&&c[b]||(l=y=0)||w.pop())if((e?c.nodeName.toLowerCase()===g:1===c.nodeType)&&++l&&(d&&((c[f]||(c[f]={}))[n]=[a,l]),c===t))break;return l-=u,l===r||l%r==0&&l/r>=0}}},PSEUDO:function(n,i){var e,r=t.pseudos[n]||t.setFilters[n.toLowerCase()]||u.error("unsupported pseudo: "+n);return r[f]?r(i):r.length>1?(e=[n,n,"",i],t.setFilters.hasOwnProperty(n.toLowerCase())?h(function(n,t){for(var u,f=r(n,i),e=f.length;e--;)u=nt.call(n,f[e]),n[u]=!(t[u]=f[e])}):function(n){return r(n,0,e)}):r}},pseudos:{not:h(function(n){var i=[],r=[],t=wt(n.replace(lt,"$1"));return t[f]?h(function(n,i,r,u){for(var e,o=t(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(i[f]=e))}):function(n,u,f){return i[0]=n,t(i,null,f,r),!r.pop()}}),has:h(function(n){return function(t){return u(n,t).length>0}}),contains:h(function(n){return function(t){return(t.textContent||t.innerText||st(t)).indexOf(n)>-1}}),lang:h(function(n){return ur.test(n||"")||u.error("unsupported lang: "+n),n=n.replace(k,d).toLowerCase(),function(t){var i;do if(i=l?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===n||0===i.indexOf(n+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===v},focus:function(n){return n===e.activeElement&&(!e.hasFocus||e.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:function(n){return n.disabled===!1},disabled:function(n){return n.disabled===!0},checked:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&!!n.checked||"option"===t&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeType<6)return!1;return!0},parent:function(n){return!t.pseudos.empty(n)},header:function(n){return er.test(n.nodeName)},input:function(n){return fr.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&"button"===n.type||"button"===t},text:function(n){var t;return"input"===n.nodeName.toLowerCase()&&"text"===n.type&&(null==(t=n.getAttribute("type"))||"text"===t.toLowerCase())},first:tt(function(){return[0]}),last:tt(function(n,t){return[t-1]}),eq:tt(function(n,t,i){return[0>i?i+t:i]}),even:tt(function(n,t){for(var i=0;t>i;i+=2)n.push(i);return n}),odd:tt(function(n,t){for(var i=1;t>i;i+=2)n.push(i);return n}),lt:tt(function(n,t,i){for(var r=0>i?i+t:i;--r>=0;)n.push(r);return n}),gt:tt(function(n,t,i){for(var r=0>i?i+t:i;++r<t;)n.push(r);return n})}};t.pseudos.nth=t.pseudos.eq;for(it in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[it]=hr(it);for(it in{submit:!0,reset:!0})t.pseudos[it]=cr(it);return wi.prototype=t.filters=t.pseudos,t.setFilters=new wi,wt=u.compile=function(n,t){var r,u=[],e=[],i=ci[n+" "];if(!i){for(t||(t=vt(n)),r=t.length;r--;)i=ei(t[r]),i[f]?u.push(i):e.push(i);i=ci(n,lr(e,u))}return i},r.sortStable=f.split("").sort(bt).join("")===f,r.detectDuplicates=!!rt,p(),r.sortDetached=c(function(n){return 1&n.compareDocumentPosition(e.createElement("div"))}),c(function(n){return n.innerHTML="<a href='#'><\/a>","#"===n.firstChild.getAttribute("href")})||ti("type|href|height|width",function(n,t,i){if(!i)return n.getAttribute(t,"type"===t.toLowerCase()?1:2)}),r.attributes&&c(function(n){return n.innerHTML="<input/>",n.firstChild.setAttribute("value",""),""===n.firstChild.getAttribute("value")})||ti("value",function(n,t,i){if(!i&&"input"===n.nodeName.toLowerCase())return n.defaultValue}),c(function(n){return null==n.getAttribute("disabled")})||ti(kt,function(n,t,i){var r;if(!i)return n[t]===!0?t.toLowerCase():(r=n.getAttributeNode(t))&&r.specified?r.value:null}),u}(n);i.find=y;i.expr=y.selectors;i.expr[":"]=i.expr.pseudos;i.unique=y.uniqueSort;i.text=y.getText;i.isXMLDoc=y.isXML;i.contains=y.contains;var ki=i.expr.match.needsContext,di=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ef=/^.[^:#\[\.,]*$/;i.filter=function(n,t,r){var u=t[0];return r&&(n=":not("+n+")"),1===t.length&&1===u.nodeType?i.find.matchesSelector(u,n)?[u]:[]:i.find.matches(n,i.grep(t,function(n){return 1===n.nodeType}))};i.fn.extend({find:function(n){var t,u=this.length,r=[],f=this;if("string"!=typeof n)return this.pushStack(i(n).filter(function(){for(t=0;u>t;t++)if(i.contains(f[t],this))return!0}));for(t=0;u>t;t++)i.find(n,f[t],r);return r=this.pushStack(u>1?i.unique(r):r),r.selector=this.selector?this.selector+" "+n:n,r},filter:function(n){return this.pushStack(fi(this,n||[],!1))},not:function(n){return this.pushStack(fi(this,n||[],!0))},is:function(n){return!!fi(this,"string"==typeof n&&ki.test(n)?i(n):n||[],!1).length}});gi=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;nr=i.fn.init=function(n,t){var r,f;if(!n)return this;if("string"==typeof n){if(r="<"===n[0]&&">"===n[n.length-1]&&n.length>=3?[null,n,null]:gi.exec(n),!r||!r[1]&&t)return!t||t.jquery?(t||st).find(n):this.constructor(t).find(n);if(r[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:u,!0)),di.test(r[1])&&i.isPlainObject(t))for(r in t)i.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return f=u.getElementById(r[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=u,this.selector=n,this}return n.nodeType?(this.context=this[0]=n,this.length=1,this):i.isFunction(n)?"undefined"!=typeof st.ready?st.ready(n):n(i):(void 0!==n.selector&&(this.selector=n.selector,this.context=n.context),i.makeArray(n,this))};nr.prototype=i.fn;st=i(u);tr=/^(?:parents|prev(?:Until|All))/;ir={children:!0,contents:!0,next:!0,prev:!0};i.extend({dir:function(n,t,r){for(var u=[],f=void 0!==r;(n=n[t])&&9!==n.nodeType;)if(1===n.nodeType){if(f&&i(n).is(r))break;u.push(n)}return u},sibling:function(n,t){for(var i=[];n;n=n.nextSibling)1===n.nodeType&&n!==t&&i.push(n);return i}});i.fn.extend({has:function(n){var t=i(n,this),r=t.length;return this.filter(function(){for(var n=0;r>n;n++)if(i.contains(this,t[n]))return!0})},closest:function(n,t){for(var r,f=0,o=this.length,u=[],e=ki.test(n)||"string"!=typeof n?i(n,t||this.context):0;o>f;f++)for(r=this[f];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(e?e.index(r)>-1:1===r.nodeType&&i.find.matchesSelector(r,n))){u.push(r);break}return this.pushStack(u.length>1?i.unique(u):u)},index:function(n){return n?"string"==typeof n?et.call(i(n),this[0]):et.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){return this.pushStack(i.unique(i.merge(this.get(),i(n,t))))},addBack:function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))}});i.each({parent:function(n){var t=n.parentNode;return t&&11!==t.nodeType?t:null},parents:function(n){return i.dir(n,"parentNode")},parentsUntil:function(n,t,r){return i.dir(n,"parentNode",r)},next:function(n){return rr(n,"nextSibling")},prev:function(n){return rr(n,"previousSibling")},nextAll:function(n){return i.dir(n,"nextSibling")},prevAll:function(n){return i.dir(n,"previousSibling")},nextUntil:function(n,t,r){return i.dir(n,"nextSibling",r)},prevUntil:function(n,t,r){return i.dir(n,"previousSibling",r)},siblings:function(n){return i.sibling((n.parentNode||{}).firstChild,n)},children:function(n){return i.sibling(n.firstChild)},contents:function(n){return n.contentDocument||i.merge([],n.childNodes)}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return"Until"!==n.slice(-5)&&(u=r),u&&"string"==typeof u&&(f=i.filter(u,f)),this.length>1&&(ir[n]||i.unique(f),tr.test(n)&&f.reverse()),this.pushStack(f)}});c=/\S+/g;ei={};i.Callbacks=function(n){n="string"==typeof n?ei[n]||of(n):i.extend({},n);var u,h,o,c,f,e,t=[],r=!n.once&&[],l=function(i){for(u=n.memory&&i,h=!0,e=c||0,c=0,f=t.length,o=!0;t&&f>e;e++)if(t[e].apply(i[0],i[1])===!1&&n.stopOnFalse){u=!1;break}o=!1;t&&(r?r.length&&l(r.shift()):u?t=[]:s.disable())},s={add:function(){if(t){var r=t.length;!function e(r){i.each(r,function(r,u){var f=i.type(u);"function"===f?n.unique&&s.has(u)||t.push(u):u&&u.length&&"string"!==f&&e(u)})}(arguments);o?f=t.length:u&&(c=r,l(u))}return this},remove:function(){return t&&i.each(arguments,function(n,r){for(var u;(u=i.inArray(r,t,u))>-1;)t.splice(u,1),o&&(f>=u&&f--,e>=u&&e--)}),this},has:function(n){return n?i.inArray(n,t)>-1:!(!t||!t.length)},empty:function(){return t=[],f=0,this},disable:function(){return t=r=u=void 0,this},disabled:function(){return!t},lock:function(){return r=void 0,u||s.disable(),this},locked:function(){return!r},fireWith:function(n,i){return!t||h&&!r||(i=i||[],i=[n,i.slice?i.slice():i],o?r.push(i):l(i)),this},fire:function(){return s.fireWith(this,arguments),this},fired:function(){return!!h}};return s};i.extend({Deferred:function(n){var u=[["resolve","done",i.Callbacks("once memory"),"resolved"],["reject","fail",i.Callbacks("once memory"),"rejected"],["notify","progress",i.Callbacks("memory")]],f="pending",r={state:function(){return f},always:function(){return t.done(arguments).fail(arguments),this},then:function(){var n=arguments;return i.Deferred(function(f){i.each(u,function(u,e){var o=i.isFunction(n[u])&&n[u];t[e[1]](function(){var n=o&&o.apply(this,arguments);n&&i.isFunction(n.promise)?n.promise().done(f.resolve).fail(f.reject).progress(f.notify):f[e[0]+"With"](this===r?f.promise():this,o?[n]:arguments)})});n=null}).promise()},promise:function(n){return null!=n?i.extend(n,r):r}},t={};return r.pipe=r.then,i.each(u,function(n,i){var e=i[2],o=i[3];r[i[1]]=e.add;o&&e.add(function(){f=o},u[1^n][2].disable,u[2][2].lock);t[i[0]]=function(){return t[i[0]+"With"](this===t?r:this,arguments),this};t[i[0]+"With"]=e.fireWith}),r.promise(t),n&&n.call(t,t),t},when:function(n){var t=0,u=a.call(arguments),r=u.length,e=1!==r||n&&i.isFunction(n.promise)?r:0,f=1===e?n:i.Deferred(),h=function(n,t,i){return function(r){t[n]=this;i[n]=arguments.length>1?a.call(arguments):r;i===o?f.notifyWith(t,i):--e||f.resolveWith(t,i)}},o,c,s;if(r>1)for(o=new Array(r),c=new Array(r),s=new Array(r);r>t;t++)u[t]&&i.isFunction(u[t].promise)?u[t].promise().done(h(t,s,u)).fail(f.reject).progress(h(t,c,o)):--e;return e||f.resolveWith(s,u),f.promise()}});i.fn.ready=function(n){return i.ready.promise().done(n),this};i.extend({isReady:!1,readyWait:1,holdReady:function(n){n?i.readyWait++:i.ready(!0)},ready:function(n){(n===!0?--i.readyWait:i.isReady)||(i.isReady=!0,n!==!0&&--i.readyWait>0||(ht.resolveWith(u,[i]),i.fn.trigger&&i(u).trigger("ready").off("ready")))}});i.ready.promise=function(t){return ht||(ht=i.Deferred(),"complete"===u.readyState?setTimeout(i.ready):(u.addEventListener("DOMContentLoaded",ct,!1),n.addEventListener("load",ct,!1))),ht.promise(t)};i.ready.promise();l=i.access=function(n,t,r,u,f,e,o){var s=0,c=n.length,h=null==r;if("object"===i.type(r)){f=!0;for(s in r)i.access(n,t,s,r[s],!0,e,o)}else if(void 0!==u&&(f=!0,i.isFunction(u)||(o=!0),h&&(o?(t.call(n,u),t=null):(h=t,t=function(n,t,r){return h.call(i(n),r)})),t))for(;c>s;s++)t(n[s],r,o?u:u.call(n[s],s,t(n[s],r)));return f?n:h?t.call(n):c?t(n[0],r):e};i.acceptData=function(n){return 1===n.nodeType||9===n.nodeType||!+n.nodeType};p.uid=1;p.accepts=i.acceptData;p.prototype={key:function(n){if(!p.accepts(n))return 0;var r={},t=n[this.expando];if(!t){t=p.uid++;try{r[this.expando]={value:t};Object.defineProperties(n,r)}catch(u){r[this.expando]=t;i.extend(n,r)}}return this.cache[t]||(this.cache[t]={}),t},set:function(n,t,r){var f,e=this.key(n),u=this.cache[e];if("string"==typeof t)u[t]=r;else if(i.isEmptyObject(u))i.extend(this.cache[e],t);else for(f in t)u[f]=t[f];return u},get:function(n,t){var i=this.cache[this.key(n)];return void 0===t?i:i[t]},access:function(n,t,r){var u;return void 0===t||t&&"string"==typeof t&&void 0===r?(u=this.get(n,t),void 0!==u?u:this.get(n,i.camelCase(t))):(this.set(n,t,r),void 0!==r?r:t)},remove:function(n,t){var u,r,f,o=this.key(n),e=this.cache[o];if(void 0===t)this.cache[o]={};else for(i.isArray(t)?r=t.concat(t.map(i.camelCase)):(f=i.camelCase(t),(t in e)?r=[t,f]:(r=f,r=(r in e)?[r]:r.match(c)||[])),u=r.length;u--;)delete e[r[u]]},hasData:function(n){return!i.isEmptyObject(this.cache[n[this.expando]]||{})},discard:function(n){n[this.expando]&&delete this.cache[n[this.expando]]}};var r=new p,e=new p,sf=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,hf=/([A-Z])/g;i.extend({hasData:function(n){return e.hasData(n)||r.hasData(n)},data:function(n,t,i){return e.access(n,t,i)},removeData:function(n,t){e.remove(n,t)},_data:function(n,t,i){return r.access(n,t,i)},_removeData:function(n,t){r.remove(n,t)}});i.fn.extend({data:function(n,t){var o,f,s,u=this[0],h=u&&u.attributes;if(void 0===n){if(this.length&&(s=e.get(u),1===u.nodeType&&!r.get(u,"hasDataAttrs"))){for(o=h.length;o--;)f=h[o].name,0===f.indexOf("data-")&&(f=i.camelCase(f.slice(5)),ur(u,f,s[f]));r.set(u,"hasDataAttrs",!0)}return s}return"object"==typeof n?this.each(function(){e.set(this,n)}):l(this,function(t){var r,f=i.camelCase(n);if(u&&void 0===t){if((r=e.get(u,n),void 0!==r)||(r=e.get(u,f),void 0!==r)||(r=ur(u,f,void 0),void 0!==r))return r}else this.each(function(){var i=e.get(this,f);e.set(this,f,t);-1!==n.indexOf("-")&&void 0!==i&&e.set(this,n,t)})},null,t,arguments.length>1,null,!0)},removeData:function(n){return this.each(function(){e.remove(this,n)})}});i.extend({queue:function(n,t,u){var f;if(n)return(t=(t||"fx")+"queue",f=r.get(n,t),u&&(!f||i.isArray(u)?f=r.access(n,t,i.makeArray(u)):f.push(u)),f||[])},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),e=r.length,u=r.shift(),f=i._queueHooks(n,t),o=function(){i.dequeue(n,t)};"inprogress"===u&&(u=r.shift(),e--);u&&("fx"===t&&r.unshift("inprogress"),delete f.stop,u.call(n,o,f));!e&&f&&f.empty.fire()},_queueHooks:function(n,t){var u=t+"queueHooks";return r.get(n,u)||r.access(n,u,{empty:i.Callbacks("once memory").add(function(){r.remove(n,[t+"queue",u])})})}});i.fn.extend({queue:function(n,t){var r=2;return"string"!=typeof n&&(t=n,n="fx",r--),arguments.length<r?i.queue(this[0],n):void 0===t?this:this.each(function(){var r=i.queue(this,n,t);i._queueHooks(this,n);"fx"===n&&"inprogress"!==r[0]&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,t){var u,e=1,o=i.Deferred(),f=this,s=this.length,h=function(){--e||o.resolveWith(f,[f])};for("string"!=typeof n&&(t=n,n=void 0),n=n||"fx";s--;)u=r.get(f[s],n+"queueHooks"),u&&u.empty&&(e++,u.empty.add(h));return h(),o.promise(t)}});var lt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,w=["Top","Right","Bottom","Left"],it=function(n,t){return n=t||n,"none"===i.css(n,"display")||!i.contains(n.ownerDocument,n)},fr=/^(?:checkbox|radio)$/i;!function(){var t=u.createDocumentFragment(),n=t.appendChild(u.createElement("div"));n.innerHTML="<input type='radio' checked='checked' name='t'/>";f.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked;n.innerHTML="<textarea>x<\/textarea>";f.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue}();d="undefined";f.focusinBubbles="onfocusin"in n;var cf=/^key/,lf=/^(?:mouse|contextmenu)|click/,er=/^(?:focusinfocus|focusoutblur)$/,or=/^([^.]*)(?:\.(.+)|)$/;i.event={global:{},add:function(n,t,u,f,e){var v,y,w,p,b,h,s,l,o,k,g,a=r.get(n);if(a)for(u.handler&&(v=u,u=v.handler,e=v.selector),u.guid||(u.guid=i.guid++),(p=a.events)||(p=a.events={}),(y=a.handle)||(y=a.handle=function(t){if(typeof i!==d&&i.event.triggered!==t.type)return i.event.dispatch.apply(n,arguments)}),t=(t||"").match(c)||[""],b=t.length;b--;)w=or.exec(t[b])||[],o=g=w[1],k=(w[2]||"").split(".").sort(),o&&(s=i.event.special[o]||{},o=(e?s.delegateType:s.bindType)||o,s=i.event.special[o]||{},h=i.extend({type:o,origType:g,data:f,handler:u,guid:u.guid,selector:e,needsContext:e&&i.expr.match.needsContext.test(e),namespace:k.join(".")},v),(l=p[o])||(l=p[o]=[],l.delegateCount=0,s.setup&&s.setup.call(n,f,k,y)!==!1||n.addEventListener&&n.addEventListener(o,y,!1)),s.add&&(s.add.call(n,h),h.handler.guid||(h.handler.guid=u.guid)),e?l.splice(l.delegateCount++,0,h):l.push(h),i.event.global[o]=!0)},remove:function(n,t,u,f,e){var p,k,h,v,w,s,l,a,o,b,d,y=r.hasData(n)&&r.get(n);if(y&&(v=y.events)){for(t=(t||"").match(c)||[""],w=t.length;w--;)if(h=or.exec(t[w])||[],o=d=h[1],b=(h[2]||"").split(".").sort(),o){for(l=i.event.special[o]||{},o=(f?l.delegateType:l.bindType)||o,a=v[o]||[],h=h[2]&&new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"),k=p=a.length;p--;)s=a[p],!e&&d!==s.origType||u&&u.guid!==s.guid||h&&!h.test(s.namespace)||f&&f!==s.selector&&("**"!==f||!s.selector)||(a.splice(p,1),s.selector&&a.delegateCount--,l.remove&&l.remove.call(n,s));k&&!a.length&&(l.teardown&&l.teardown.call(n,b,y.handle)!==!1||i.removeEvent(n,o,y.handle),delete v[o])}else for(o in v)i.event.remove(n,o+t[w],u,f,!0);i.isEmptyObject(v)&&(delete y.handle,r.remove(n,"events"))}},trigger:function(t,f,e,o){var w,s,c,b,a,v,l,p=[e||u],h=ri.call(t,"type")?t.type:t,y=ri.call(t,"namespace")?t.namespace.split("."):[];if(s=c=e=e||u,3!==e.nodeType&&8!==e.nodeType&&!er.test(h+i.event.triggered)&&(h.indexOf(".")>=0&&(y=h.split("."),h=y.shift(),y.sort()),a=h.indexOf(":")<0&&"on"+h,t=t[i.expando]?t:new i.Event(h,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=y.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=e),f=null==f?[t]:i.makeArray(f,[t]),l=i.event.special[h]||{},o||!l.trigger||l.trigger.apply(e,f)!==!1)){if(!o&&!l.noBubble&&!i.isWindow(e)){for(b=l.delegateType||h,er.test(b+h)||(s=s.parentNode);s;s=s.parentNode)p.push(s),c=s;c===(e.ownerDocument||u)&&p.push(c.defaultView||c.parentWindow||n)}for(w=0;(s=p[w++])&&!t.isPropagationStopped();)t.type=w>1?b:l.bindType||h,v=(r.get(s,"events")||{})[t.type]&&r.get(s,"handle"),v&&v.apply(s,f),v=a&&s[a],v&&v.apply&&i.acceptData(s)&&(t.result=v.apply(s,f),t.result===!1&&t.preventDefault());return t.type=h,o||t.isDefaultPrevented()||l._default&&l._default.apply(p.pop(),f)!==!1||!i.acceptData(e)||a&&i.isFunction(e[h])&&!i.isWindow(e)&&(c=e[a],c&&(e[a]=null),i.event.triggered=h,e[h](),i.event.triggered=void 0,c&&(e[a]=c)),t.result}},dispatch:function(n){n=i.event.fix(n);var o,s,e,u,t,h=[],c=a.call(arguments),l=(r.get(this,"events")||{})[n.type]||[],f=i.event.special[n.type]||{};if(c[0]=n,n.delegateTarget=this,!f.preDispatch||f.preDispatch.call(this,n)!==!1){for(h=i.event.handlers.call(this,n,l),o=0;(u=h[o++])&&!n.isPropagationStopped();)for(n.currentTarget=u.elem,s=0;(t=u.handlers[s++])&&!n.isImmediatePropagationStopped();)(!n.namespace_re||n.namespace_re.test(t.namespace))&&(n.handleObj=t,n.data=t.data,e=((i.event.special[t.origType]||{}).handle||t.handler).apply(u.elem,c),void 0!==e&&(n.result=e)===!1&&(n.preventDefault(),n.stopPropagation()));return f.postDispatch&&f.postDispatch.call(this,n),n.result}},handlers:function(n,t){var e,u,f,o,h=[],s=t.delegateCount,r=n.target;if(s&&r.nodeType&&(!n.button||"click"!==n.type))for(;r!==this;r=r.parentNode||this)if(r.disabled!==!0||"click"!==n.type){for(u=[],e=0;s>e;e++)o=t[e],f=o.selector+" ",void 0===u[f]&&(u[f]=o.needsContext?i(f,this).index(r)>=0:i.find(f,this,null,[r]).length),u[f]&&u.push(o);u.length&&h.push({elem:r,handlers:u})}return s<t.length&&h.push({elem:this,handlers:t.slice(s)}),h},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(n,t){return null==n.which&&(n.which=null!=t.charCode?t.charCode:t.keyCode),n}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(n,t){var e,i,r,f=t.button;return null==n.pageX&&null!=t.clientX&&(e=n.target.ownerDocument||u,i=e.documentElement,r=e.body,n.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),n.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),n.which||void 0===f||(n.which=1&f?1:2&f?3:4&f?2:0),n}},fix:function(n){if(n[i.expando])return n;var f,e,o,r=n.type,s=n,t=this.fixHooks[r];for(t||(this.fixHooks[r]=t=lf.test(r)?this.mouseHooks:cf.test(r)?this.keyHooks:{}),o=t.props?this.props.concat(t.props):this.props,n=new i.Event(s),f=o.length;f--;)e=o[f],n[e]=s[e];return n.target||(n.target=u),3===n.target.nodeType&&(n.target=n.target.parentNode),t.filter?t.filter(n,s):n},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==sr()&&this.focus)return(this.focus(),!1)},delegateType:"focusin"},blur:{trigger:function(){if(this===sr()&&this.blur)return(this.blur(),!1)},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&i.nodeName(this,"input"))return(this.click(),!1)},_default:function(n){return i.nodeName(n.target,"a")}},beforeunload:{postDispatch:function(n){void 0!==n.result&&(n.originalEvent.returnValue=n.result)}}},simulate:function(n,t,r,u){var f=i.extend(new i.Event,r,{type:n,isSimulated:!0,originalEvent:{}});u?i.event.trigger(f,null,t):i.event.dispatch.call(t,f);f.isDefaultPrevented()&&r.preventDefault()}};i.removeEvent=function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i,!1)};i.Event=function(n,t){return this instanceof i.Event?(n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||void 0===n.defaultPrevented&&n.getPreventDefault&&n.getPreventDefault()?at:g):this.type=n,t&&i.extend(this,t),this.timeStamp=n&&n.timeStamp||i.now(),void(this[i.expando]=!0)):new i.Event(n,t)};i.Event.prototype={isDefaultPrevented:g,isPropagationStopped:g,isImmediatePropagationStopped:g,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=at;n&&n.preventDefault&&n.preventDefault()},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=at;n&&n.stopPropagation&&n.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=at;this.stopPropagation()}};i.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,f=this,r=n.relatedTarget,e=n.handleObj;return(!r||r!==f&&!i.contains(f,r))&&(n.type=e.origType,u=e.handler.apply(this,arguments),n.type=t),u}}});f.focusinBubbles||i.each({focus:"focusin",blur:"focusout"},function(n,t){var u=function(n){i.event.simulate(t,n.target,i.event.fix(n),!0)};i.event.special[t]={setup:function(){var i=this.ownerDocument||this,f=r.access(i,t);f||i.addEventListener(n,u,!0);r.access(i,t,(f||0)+1)},teardown:function(){var i=this.ownerDocument||this,f=r.access(i,t)-1;f?r.access(i,t,f):(i.removeEventListener(n,u,!0),r.remove(i,t))}}});i.fn.extend({on:function(n,t,r,u,f){var e,o;if("object"==typeof n){"string"!=typeof t&&(r=r||t,t=void 0);for(o in n)this.on(o,t,r,n[o],f);return this}if(null==r&&null==u?(u=t,r=t=void 0):null==u&&("string"==typeof t?(u=r,r=void 0):(u=r,r=t,t=void 0)),u===!1)u=g;else if(!u)return this;return 1===f&&(e=u,u=function(n){return i().off(n),e.apply(this,arguments)},u.guid=e.guid||(e.guid=i.guid++)),this.each(function(){i.event.add(this,n,u,r,t)})},one:function(n,t,i,r){return this.on(n,t,i,r,1)},off:function(n,t,r){var u,f;if(n&&n.preventDefault&&n.handleObj)return u=n.handleObj,i(n.delegateTarget).off(u.namespace?u.origType+"."+u.namespace:u.origType,u.selector,u.handler),this;if("object"==typeof n){for(f in n)this.off(f,t,n[f]);return this}return(t===!1||"function"==typeof t)&&(r=t,t=void 0),r===!1&&(r=g),this.each(function(){i.event.remove(this,n,r,t)})},trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,t){var r=this[0];if(r)return i.event.trigger(n,t,r,!0)}});var hr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,cr=/<([\w:]+)/,af=/<|&#?\w+;/,vf=/<(?:script|style|link)/i,yf=/checked\s*(?:[^=]|=\s*.checked.)/i,lr=/^$|\/(?:java|ecma)script/i,pf=/^true\/(.*)/,wf=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,h={option:[1,"<select multiple='multiple'>","<\/select>"],thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};h.optgroup=h.option;h.tbody=h.tfoot=h.colgroup=h.caption=h.thead;h.th=h.td;i.extend({clone:function(n,t,r){var u,c,s,e,h=n.cloneNode(!0),l=i.contains(n.ownerDocument,n);if(!(f.noCloneChecked||1!==n.nodeType&&11!==n.nodeType||i.isXMLDoc(n)))for(e=o(h),s=o(n),u=0,c=s.length;c>u;u++)df(s[u],e[u]);if(t)if(r)for(s=s||o(n),e=e||o(h),u=0,c=s.length;c>u;u++)vr(s[u],e[u]);else vr(n,h);return e=o(h,"script"),e.length>0&&oi(e,!l&&o(n,"script")),h},buildFragment:function(n,t,r,u){for(var f,e,y,l,p,a,s=t.createDocumentFragment(),v=[],c=0,w=n.length;w>c;c++)if(f=n[c],f||0===f)if("object"===i.type(f))i.merge(v,f.nodeType?[f]:f);else if(af.test(f)){for(e=e||s.appendChild(t.createElement("div")),y=(cr.exec(f)||["",""])[1].toLowerCase(),l=h[y]||h._default,e.innerHTML=l[1]+f.replace(hr,"<$1><\/$2>")+l[2],a=l[0];a--;)e=e.lastChild;i.merge(v,e.childNodes);e=s.firstChild;e.textContent=""}else v.push(t.createTextNode(f));for(s.textContent="",c=0;f=v[c++];)if((!u||-1===i.inArray(f,u))&&(p=i.contains(f.ownerDocument,f),e=o(s.appendChild(f),"script"),p&&oi(e),r))for(a=0;f=e[a++];)lr.test(f.type||"")&&r.push(f);return s},cleanData:function(n){for(var o,t,s,f,u,h,l=i.event.special,c=0;void 0!==(t=n[c]);c++){if(i.acceptData(t)&&(u=t[r.expando],u&&(o=r.cache[u]))){if(s=Object.keys(o.events||{}),s.length)for(h=0;void 0!==(f=s[h]);h++)l[f]?i.event.remove(t,f):i.removeEvent(t,f,o.handle);r.cache[u]&&delete r.cache[u]}delete e.cache[t[e.expando]]}}});i.fn.extend({text:function(n){return l(this,function(n){return void 0===n?i.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=n)})},null,n,arguments.length)},append:function(){return this.domManip(arguments,function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ar(this,n);t.appendChild(n)}})},prepend:function(){return this.domManip(arguments,function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ar(this,n);t.insertBefore(n,t.firstChild)}})},before:function(){return this.domManip(arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return this.domManip(arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},remove:function(n,t){for(var r,f=n?i.filter(n,this):this,u=0;null!=(r=f[u]);u++)t||1!==r.nodeType||i.cleanData(o(r)),r.parentNode&&(t&&i.contains(r.ownerDocument,r)&&oi(o(r,"script")),r.parentNode.removeChild(r));return this},empty:function(){for(var n,t=0;null!=(n=this[t]);t++)1===n.nodeType&&(i.cleanData(o(n,!1)),n.textContent="");return this},clone:function(n,t){return n=null==n?!1:n,t=null==t?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return l(this,function(n){var t=this[0]||{},r=0,u=this.length;if(void 0===n&&1===t.nodeType)return t.innerHTML;if("string"==typeof n&&!vf.test(n)&&!h[(cr.exec(n)||["",""])[1].toLowerCase()]){n=n.replace(hr,"<$1><\/$2>");try{for(;u>r;r++)t=this[r]||{},1===t.nodeType&&(i.cleanData(o(t,!1)),t.innerHTML=n);t=0}catch(f){}}t&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(){var n=arguments[0];return this.domManip(arguments,function(t){n=this.parentNode;i.cleanData(o(this));n&&n.replaceChild(t,this)}),n&&(n.length||n.nodeType)?this:this.remove()},detach:function(n){return this.remove(n,!0)},domManip:function(n,t){n=wi.apply([],n);var h,v,s,c,u,y,e=0,l=this.length,w=this,b=l-1,a=n[0],p=i.isFunction(a);if(p||l>1&&"string"==typeof a&&!f.checkClone&&yf.test(a))return this.each(function(i){var r=w.eq(i);p&&(n[0]=a.call(this,i,r.html()));r.domManip(n,t)});if(l&&(h=i.buildFragment(n,this[0].ownerDocument,!1,this),v=h.firstChild,1===h.childNodes.length&&(h=v),v)){for(s=i.map(o(h,"script"),bf),c=s.length;l>e;e++)u=h,e!==b&&(u=i.clone(u,!0,!0),c&&i.merge(s,o(u,"script"))),t.call(this[e],u,e);if(c)for(y=s[s.length-1].ownerDocument,i.map(s,kf),e=0;c>e;e++)u=s[e],lr.test(u.type||"")&&!r.access(u,"globalEval")&&i.contains(y,u)&&(u.src?i._evalUrl&&i._evalUrl(u.src):i.globalEval(u.textContent.replace(wf,"")))}return this}});i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(n){for(var u,f=[],e=i(n),o=e.length-1,r=0;o>=r;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),ii.apply(f,u.get());return this.pushStack(f)}});si={};var wr=/^margin/,hi=new RegExp("^("+lt+")(?!px)[a-z%]+$","i"),yt=function(n){return n.ownerDocument.defaultView.getComputedStyle(n,null)};!function(){function h(){t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%";e.appendChild(r);var i=n.getComputedStyle(t,null);s="1%"!==i.top;o="4px"===i.width;e.removeChild(r)}var s,o,c="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",e=u.documentElement,r=u.createElement("div"),t=u.createElement("div");t.style.backgroundClip="content-box";t.cloneNode(!0).style.backgroundClip="";f.clearCloneStyle="content-box"===t.style.backgroundClip;r.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";r.appendChild(t);n.getComputedStyle&&i.extend(f,{pixelPosition:function(){return h(),s},boxSizingReliable:function(){return null==o&&h(),o},reliableMarginRight:function(){var f,i=t.appendChild(u.createElement("div"));return i.style.cssText=t.style.cssText=c,i.style.marginRight=i.style.width="0",t.style.width="1px",e.appendChild(r),f=!parseFloat(n.getComputedStyle(i,null).marginRight),e.removeChild(r),t.innerHTML="",f}})}();i.swap=function(n,t,i,r){var f,u,e={};for(u in t)e[u]=n.style[u],n.style[u]=t[u];f=i.apply(n,r||[]);for(u in t)n.style[u]=e[u];return f};var gf=/^(none|table(?!-c[ea]).+)/,ne=new RegExp("^("+lt+")(.*)$","i"),te=new RegExp("^([+-])=("+lt+")","i"),ie={position:"absolute",visibility:"hidden",display:"block"},kr={letterSpacing:0,fontWeight:400},dr=["Webkit","O","Moz","ms"];i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=rt(n,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(n,t,r,u){if(n&&3!==n.nodeType&&8!==n.nodeType&&n.style){var o,c,e,s=i.camelCase(t),h=n.style;return t=i.cssProps[s]||(i.cssProps[s]=gr(h,s)),e=i.cssHooks[t]||i.cssHooks[s],void 0===r?e&&"get"in e&&void 0!==(o=e.get(n,!1,u))?o:h[t]:(c=typeof r,"string"===c&&(o=te.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(i.css(n,t)),c="number"),null!=r&&r===r&&("number"!==c||i.cssNumber[s]||(r+="px"),f.clearCloneStyle||""!==r||0!==t.indexOf("background")||(h[t]="inherit"),e&&"set"in e&&void 0===(r=e.set(n,r,u))||(h[t]="",h[t]=r)),void 0)}},css:function(n,t,r,u){var f,s,e,o=i.camelCase(t);return t=i.cssProps[o]||(i.cssProps[o]=gr(n.style,o)),e=i.cssHooks[t]||i.cssHooks[o],e&&"get"in e&&(f=e.get(n,!0,r)),void 0===f&&(f=rt(n,t,u)),"normal"===f&&t in kr&&(f=kr[t]),""===r||r?(s=parseFloat(f),r===!0||i.isNumeric(s)?s||0:f):f}});i.each(["height","width"],function(n,t){i.cssHooks[t]={get:function(n,r,u){if(r)return 0===n.offsetWidth&&gf.test(i.css(n,"display"))?i.swap(n,ie,function(){return iu(n,t,u)}):iu(n,t,u)},set:function(n,r,u){var f=u&&yt(n);return nu(n,r,u?tu(n,t,u,"border-box"===i.css(n,"boxSizing",!1,f),f):0)}}});i.cssHooks.marginRight=br(f.reliableMarginRight,function(n,t){if(t)return i.swap(n,{display:"inline-block"},rt,[n,"marginRight"])});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u="string"==typeof i?i.split(" "):[i];4>r;r++)f[n+w[r]+t]=u[r]||u[r-2]||u[0];return f}};wr.test(n)||(i.cssHooks[n+t].set=nu)});i.fn.extend({css:function(n,t){return l(this,function(n,t,r){var f,e,o={},u=0;if(i.isArray(t)){for(f=yt(n),e=t.length;e>u;u++)o[t[u]]=i.css(n,t[u],!1,f);return o}return void 0!==r?i.style(n,t,r):i.css(n,t)},n,t,arguments.length>1)},show:function(){return ru(this,!0)},hide:function(){return ru(this)},toggle:function(n){return"boolean"==typeof n?n?this.show():this.hide():this.each(function(){it(this)?i(this).show():i(this).hide()})}});i.Tween=s;s.prototype={constructor:s,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||"swing";this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=s.propHooks[this.prop];return n&&n.get?n.get(this):s.propHooks._default.get(this)},run:function(n){var r,t=s.propHooks[this.prop];return this.pos=r=this.options.duration?i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):n,this.now=(this.end-this.start)*r+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),t&&t.set?t.set(this):s.propHooks._default.set(this),this}};s.prototype.init.prototype=s.prototype;s.propHooks={_default:{get:function(n){var t;return null==n.elem[n.prop]||n.elem.style&&null!=n.elem.style[n.prop]?(t=i.css(n.elem,n.prop,""),t&&"auto"!==t?t:0):n.elem[n.prop]},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):n.elem.style&&(null!=n.elem.style[i.cssProps[n.prop]]||i.cssHooks[n.prop])?i.style(n.elem,n.prop,n.now+n.unit):n.elem[n.prop]=n.now}}};s.propHooks.scrollTop=s.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2}};i.fx=s.prototype.init;i.fx.step={};var nt,pt,re=/^(?:toggle|show|hide)$/,uu=new RegExp("^(?:([+-])=|)("+lt+")([a-z%]*)$","i"),ue=/queueHooks$/,wt=[fe],ut={"*":[function(n,t){var f=this.createTween(n,t),s=f.cur(),r=uu.exec(t),e=r&&r[3]||(i.cssNumber[n]?"":"px"),u=(i.cssNumber[n]||"px"!==e&&+s)&&uu.exec(i.css(f.elem,n)),o=1,h=20;if(u&&u[3]!==e){e=e||u[3];r=r||[];u=+s||1;do o=o||".5",u/=o,i.style(f.elem,n,u+e);while(o!==(o=f.cur()/s)&&1!==o&&--h)}return r&&(u=f.start=+u||+s||0,f.unit=e,f.end=r[1]?u+(r[1]+1)*r[2]:+r[2]),f}]};i.Animation=i.extend(ou,{tweener:function(n,t){i.isFunction(n)?(t=n,n=["*"]):n=n.split(" ");for(var r,u=0,f=n.length;f>u;u++)r=n[u],ut[r]=ut[r]||[],ut[r].unshift(t)},prefilter:function(n,t){t?wt.unshift(n):wt.push(n)}});i.speed=function(n,t,r){var u=n&&"object"==typeof n?i.extend({},n):{complete:r||!r&&t||i.isFunction(n)&&n,duration:n,easing:r&&t||t&&!i.isFunction(t)&&t};return u.duration=i.fx.off?0:"number"==typeof u.duration?u.duration:u.duration in i.fx.speeds?i.fx.speeds[u.duration]:i.fx.speeds._default,(null==u.queue||u.queue===!0)&&(u.queue="fx"),u.old=u.complete,u.complete=function(){i.isFunction(u.old)&&u.old.call(this);u.queue&&i.dequeue(this,u.queue)},u};i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(it).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,u,f){var s=i.isEmptyObject(n),o=i.speed(t,u,f),e=function(){var t=ou(this,i.extend({},n),o);(s||r.get(this,"finish"))&&t.stop(!0)};return e.finish=e,s||o.queue===!1?this.each(e):this.queue(o.queue,e)},stop:function(n,t,u){var f=function(n){var t=n.stop;delete n.stop;t(u)};return"string"!=typeof n&&(u=t,t=n,n=void 0),t&&n!==!1&&this.queue(n||"fx",[]),this.each(function(){var s=!0,t=null!=n&&n+"queueHooks",o=i.timers,e=r.get(this);if(t)e[t]&&e[t].stop&&f(e[t]);else for(t in e)e[t]&&e[t].stop&&ue.test(t)&&f(e[t]);for(t=o.length;t--;)o[t].elem!==this||null!=n&&o[t].queue!==n||(o[t].anim.stop(u),s=!1,o.splice(t,1));(s||!u)&&i.dequeue(this,n)})},finish:function(n){return n!==!1&&(n=n||"fx"),this.each(function(){var t,e=r.get(this),u=e[n+"queue"],o=e[n+"queueHooks"],f=i.timers,s=u?u.length:0;for(e.finish=!0,i.queue(this,n,[]),o&&o.stop&&o.stop.call(this,!0),t=f.length;t--;)f[t].elem===this&&f[t].queue===n&&(f[t].anim.stop(!0),f.splice(t,1));for(t=0;s>t;t++)u[t]&&u[t].finish&&u[t].finish.call(this);delete e.finish})}});i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return null==n||"boolean"==typeof n?r.apply(this,arguments):this.animate(bt(t,!0),n,i,u)}});i.each({slideDown:bt("show"),slideUp:bt("hide"),slideToggle:bt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.timers=[];i.fx.tick=function(){var r,n=0,t=i.timers;for(nt=i.now();n<t.length;n++)r=t[n],r()||t[n]!==r||t.splice(n--,1);t.length||i.fx.stop();nt=void 0};i.fx.timer=function(n){i.timers.push(n);n()?i.fx.start():i.timers.pop()};i.fx.interval=13;i.fx.start=function(){pt||(pt=setInterval(i.fx.tick,i.fx.interval))};i.fx.stop=function(){clearInterval(pt);pt=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fn.delay=function(n,t){return n=i.fx?i.fx.speeds[n]||n:n,t=t||"fx",this.queue(t,function(t,i){var r=setTimeout(t,n);i.stop=function(){clearTimeout(r)}})},function(){var n=u.createElement("input"),t=u.createElement("select"),i=t.appendChild(u.createElement("option"));n.type="checkbox";f.checkOn=""!==n.value;f.optSelected=i.selected;t.disabled=!0;f.optDisabled=!i.disabled;n=u.createElement("input");n.value="t";n.type="radio";f.radioValue="t"===n.value}();tt=i.expr.attrHandle;i.fn.extend({attr:function(n,t){return l(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})}});i.extend({attr:function(n,t,r){var u,f,e=n.nodeType;if(n&&3!==e&&8!==e&&2!==e)return typeof n.getAttribute===d?i.prop(n,t,r):(1===e&&i.isXMLDoc(n)||(t=t.toLowerCase(),u=i.attrHooks[t]||(i.expr.match.bool.test(t)?su:oe)),void 0===r?u&&"get"in u&&null!==(f=u.get(n,t))?f:(f=i.find.attr(n,t),null==f?void 0:f):null!==r?u&&"set"in u&&void 0!==(f=u.set(n,r,t))?f:(n.setAttribute(t,r+""),r):void i.removeAttr(n,t))},removeAttr:function(n,t){var r,u,e=0,f=t&&t.match(c);if(f&&1===n.nodeType)while(r=f[e++])u=i.propFix[r]||r,i.expr.match.bool.test(r)&&(n[u]=!1),n.removeAttribute(r)},attrHooks:{type:{set:function(n,t){if(!f.radioValue&&"radio"===t&&i.nodeName(n,"input")){var r=n.value;return n.setAttribute("type",t),r&&(n.value=r),t}}}}});su={set:function(n,t,r){return t===!1?i.removeAttr(n,r):n.setAttribute(r,r),r}};i.each(i.expr.match.bool.source.match(/\w+/g),function(n,t){var r=tt[t]||i.find.attr;tt[t]=function(n,t,i){var u,f;return i||(f=tt[t],tt[t]=u,u=null!=r(n,t,i)?t.toLowerCase():null,tt[t]=f),u}});hu=/^(?:input|select|textarea|button)$/i;i.fn.extend({prop:function(n,t){return l(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return this.each(function(){delete this[i.propFix[n]||n]})}});i.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(n,t,r){var f,u,o,e=n.nodeType;if(n&&3!==e&&8!==e&&2!==e)return o=1!==e||!i.isXMLDoc(n),o&&(t=i.propFix[t]||t,u=i.propHooks[t]),void 0!==r?u&&"set"in u&&void 0!==(f=u.set(n,r,t))?f:n[t]=r:u&&"get"in u&&null!==(f=u.get(n,t))?f:n[t]},propHooks:{tabIndex:{get:function(n){return n.hasAttribute("tabindex")||hu.test(n.nodeName)||n.href?n.tabIndex:-1}}}});f.optSelected||(i.propHooks.selected={get:function(n){var t=n.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}});i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});kt=/[\t\r\n\f]/g;i.fn.extend({addClass:function(n){var o,t,r,u,s,f,h="string"==typeof n&&n,e=0,l=this.length;if(i.isFunction(n))return this.each(function(t){i(this).addClass(n.call(this,t,this.className))});if(h)for(o=(n||"").match(c)||[];l>e;e++)if(t=this[e],r=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(kt," "):" ")){for(s=0;u=o[s++];)r.indexOf(" "+u+" ")<0&&(r+=u+" ");f=i.trim(r);t.className!==f&&(t.className=f)}return this},removeClass:function(n){var o,t,r,u,s,f,h=0===arguments.length||"string"==typeof n&&n,e=0,l=this.length;if(i.isFunction(n))return this.each(function(t){i(this).removeClass(n.call(this,t,this.className))});if(h)for(o=(n||"").match(c)||[];l>e;e++)if(t=this[e],r=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(kt," "):"")){for(s=0;u=o[s++];)while(r.indexOf(" "+u+" ")>=0)r=r.replace(" "+u+" "," ");f=n?i.trim(r):"";t.className!==f&&(t.className=f)}return this},toggleClass:function(n,t){var u=typeof n;return"boolean"==typeof t&&"string"===u?t?this.addClass(n):this.removeClass(n):this.each(i.isFunction(n)?function(r){i(this).toggleClass(n.call(this,r,this.className,t),t)}:function(){if("string"===u)for(var t,e=0,f=i(this),o=n.match(c)||[];t=o[e++];)f.hasClass(t)?f.removeClass(t):f.addClass(t);else(u===d||"boolean"===u)&&(this.className&&r.set(this,"__className__",this.className),this.className=this.className||n===!1?"":r.get(this,"__className__")||"")})},hasClass:function(n){for(var i=" "+n+" ",t=0,r=this.length;r>t;t++)if(1===this[t].nodeType&&(" "+this[t].className+" ").replace(kt," ").indexOf(i)>=0)return!0;return!1}});cu=/\r/g;i.fn.extend({val:function(n){var t,r,f,u=this[0];return arguments.length?(f=i.isFunction(n),this.each(function(r){var u;1===this.nodeType&&(u=f?n.call(this,r,i(this).val()):n,null==u?u="":"number"==typeof u?u+="":i.isArray(u)&&(u=i.map(u,function(n){return null==n?"":n+""})),t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,u,"value")||(this.value=u))})):u?(t=i.valHooks[u.type]||i.valHooks[u.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(r=t.get(u,"value"))?r:(r=u.value,"string"==typeof r?r.replace(cu,""):null==r?"":r)):void 0}});i.extend({valHooks:{select:{get:function(n){for(var o,t,s=n.options,r=n.selectedIndex,u="select-one"===n.type||0>r,h=u?null:[],c=u?r+1:s.length,e=0>r?c:u?r:0;c>e;e++)if(t=s[e],!(!t.selected&&e!==r||(f.optDisabled?t.disabled:null!==t.getAttribute("disabled"))||t.parentNode.disabled&&i.nodeName(t.parentNode,"optgroup"))){if(o=i(t).val(),u)return o;h.push(o)}return h},set:function(n,t){for(var u,r,f=n.options,e=i.makeArray(t),o=f.length;o--;)r=f[o],(r.selected=i.inArray(i(r).val(),e)>=0)&&(u=!0);return u||(n.selectedIndex=-1),e}}}});i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(n,t){if(i.isArray(t))return n.checked=i.inArray(i(n).val(),t)>=0}};f.checkOn||(i.valHooks[this].get=function(n){return null===n.getAttribute("value")?"on":n.value})});i.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return arguments.length>0?this.on(t,null,n,i):this.trigger(t)}});i.fn.extend({hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)},bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return 1===arguments.length?this.off(n,"**"):this.off(t,n||"**",i)}});dt=i.now();gt=/\?/;i.parseJSON=function(n){return JSON.parse(n+"")};i.parseXML=function(n){var t,r;if(!n||"string"!=typeof n)return null;try{r=new DOMParser;t=r.parseFromString(n,"text/xml")}catch(u){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&i.error("Invalid XML: "+n),t};var b,v,se=/#.*$/,lu=/([?&])_=[^&]*/,he=/^(.*?):[ \t]*([^\r\n]*)$/gm,ce=/^(?:GET|HEAD)$/,le=/^\/\//,au=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,vu={},ci={},yu="*/".concat("*");try{v=location.href}catch(ge){v=u.createElement("a");v.href="";v=v.href}b=au.exec(v.toLowerCase())||[];i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:v,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(b[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":yu,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":i.parseJSON,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?li(li(n,i.ajaxSettings),t):li(i.ajaxSettings,n)},ajaxPrefilter:pu(vu),ajaxTransport:pu(ci),ajax:function(n,t){function w(n,t,s,h){var v,it,b,y,w,c=t;2!==e&&(e=2,d&&clearTimeout(d),l=void 0,k=h||"",u.readyState=n>0?4:0,v=n>=200&&300>n||304===n,s&&(y=ae(r,u,s)),y=ve(r,y,u,v),v?(r.ifModified&&(w=u.getResponseHeader("Last-Modified"),w&&(i.lastModified[f]=w),w=u.getResponseHeader("etag"),w&&(i.etag[f]=w)),204===n||"HEAD"===r.type?c="nocontent":304===n?c="notmodified":(c=y.state,it=y.data,b=y.error,v=!b)):(b=c,(n||!c)&&(c="error",0>n&&(n=0))),u.status=n,u.statusText=(t||c)+"",v?nt.resolveWith(o,[it,c,u]):nt.rejectWith(o,[u,c,b]),u.statusCode(p),p=void 0,a&&g.trigger(v?"ajaxSuccess":"ajaxError",[u,r,v?it:b]),tt.fireWith(o,[u,c]),a&&(g.trigger("ajaxComplete",[u,r]),--i.active||i.event.trigger("ajaxStop")))}"object"==typeof n&&(t=n,n=void 0);t=t||{};var l,f,k,y,d,s,a,h,r=i.ajaxSetup({},t),o=r.context||r,g=r.context&&(o.nodeType||o.jquery)?i(o):i.event,nt=i.Deferred(),tt=i.Callbacks("once memory"),p=r.statusCode||{},it={},rt={},e=0,ut="canceled",u={readyState:0,getResponseHeader:function(n){var t;if(2===e){if(!y)for(y={};t=he.exec(k);)y[t[1].toLowerCase()]=t[2];t=y[n.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===e?k:null},setRequestHeader:function(n,t){var i=n.toLowerCase();return e||(n=rt[i]=rt[i]||n,it[n]=t),this},overrideMimeType:function(n){return e||(r.mimeType=n),this},statusCode:function(n){var t;if(n)if(2>e)for(t in n)p[t]=[p[t],n[t]];else u.always(n[u.status]);return this},abort:function(n){var t=n||ut;return l&&l.abort(t),w(0,t),this}};if(nt.promise(u).complete=tt.add,u.success=u.done,u.error=u.fail,r.url=((n||r.url||v)+"").replace(se,"").replace(le,b[1]+"//"),r.type=t.method||t.type||r.method||r.type,r.dataTypes=i.trim(r.dataType||"*").toLowerCase().match(c)||[""],null==r.crossDomain&&(s=au.exec(r.url.toLowerCase()),r.crossDomain=!(!s||s[1]===b[1]&&s[2]===b[2]&&(s[3]||("http:"===s[1]?"80":"443"))===(b[3]||("http:"===b[1]?"80":"443")))),r.data&&r.processData&&"string"!=typeof r.data&&(r.data=i.param(r.data,r.traditional)),wu(vu,r,t,u),2===e)return u;a=r.global;a&&0==i.active++&&i.event.trigger("ajaxStart");r.type=r.type.toUpperCase();r.hasContent=!ce.test(r.type);f=r.url;r.hasContent||(r.data&&(f=r.url+=(gt.test(f)?"&":"?")+r.data,delete r.data),r.cache===!1&&(r.url=lu.test(f)?f.replace(lu,"$1_="+dt++):f+(gt.test(f)?"&":"?")+"_="+dt++));r.ifModified&&(i.lastModified[f]&&u.setRequestHeader("If-Modified-Since",i.lastModified[f]),i.etag[f]&&u.setRequestHeader("If-None-Match",i.etag[f]));(r.data&&r.hasContent&&r.contentType!==!1||t.contentType)&&u.setRequestHeader("Content-Type",r.contentType);u.setRequestHeader("Accept",r.dataTypes[0]&&r.accepts[r.dataTypes[0]]?r.accepts[r.dataTypes[0]]+("*"!==r.dataTypes[0]?", "+yu+"; q=0.01":""):r.accepts["*"]);for(h in r.headers)u.setRequestHeader(h,r.headers[h]);if(r.beforeSend&&(r.beforeSend.call(o,u,r)===!1||2===e))return u.abort();ut="abort";for(h in{success:1,error:1,complete:1})u[h](r[h]);if(l=wu(ci,r,t,u)){u.readyState=1;a&&g.trigger("ajaxSend",[u,r]);r.async&&r.timeout>0&&(d=setTimeout(function(){u.abort("timeout")},r.timeout));try{e=1;l.send(it,w)}catch(ft){if(!(2>e))throw ft;w(-1,ft)}}else w(-1,"No Transport");return u},getJSON:function(n,t,r){return i.get(n,t,r,"json")},getScript:function(n,t){return i.get(n,void 0,t,"script")}});i.each(["get","post"],function(n,t){i[t]=function(n,r,u,f){return i.isFunction(r)&&(f=f||u,u=r,r=void 0),i.ajax({url:n,type:t,dataType:f,data:r,success:u})}});i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){i.fn[t]=function(n){return this.on(t,n)}});i._evalUrl=function(n){return i.ajax({url:n,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})};i.fn.extend({wrapAll:function(n){var t;return i.isFunction(n)?this.each(function(t){i(this).wrapAll(n.call(this,t))}):(this[0]&&(t=i(n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this)},wrapInner:function(n){return this.each(i.isFunction(n)?function(t){i(this).wrapInner(n.call(this,t))}:function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=i.isFunction(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(){return this.parent().each(function(){i.nodeName(this,"body")||i(this).replaceWith(this.childNodes)}).end()}});i.expr.filters.hidden=function(n){return n.offsetWidth<=0&&n.offsetHeight<=0};i.expr.filters.visible=function(n){return!i.expr.filters.hidden(n)};var ye=/%20/g,pe=/\[\]$/,bu=/\r?\n/g,we=/^(?:submit|button|image|reset|file)$/i,be=/^(?:input|select|textarea|keygen)/i;i.param=function(n,t){var r,u=[],f=function(n,t){t=i.isFunction(t)?t():null==t?"":t;u[u.length]=encodeURIComponent(n)+"="+encodeURIComponent(t)};if(void 0===t&&(t=i.ajaxSettings&&i.ajaxSettings.traditional),i.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){f(this.name,this.value)});else for(r in n)ai(r,n[r],t,f);return u.join("&").replace(ye,"+")};i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&be.test(this.nodeName)&&!we.test(n)&&(this.checked||!fr.test(n))}).map(function(n,t){var r=i(this).val();return null==r?null:i.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(bu,"\r\n")}}):{name:t.name,value:r.replace(bu,"\r\n")}}).get()}});i.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(n){}};var ke=0,ni={},de={0:200,1223:204},ft=i.ajaxSettings.xhr();return n.ActiveXObject&&i(n).on("unload",function(){for(var n in ni)ni[n]()}),f.cors=!!ft&&"withCredentials"in ft,f.ajax=ft=!!ft,i.ajaxTransport(function(n){var t;if(f.cors||ft&&!n.crossDomain)return{send:function(i,r){var f,u=n.xhr(),e=++ke;if(u.open(n.type,n.url,n.async,n.username,n.password),n.xhrFields)for(f in n.xhrFields)u[f]=n.xhrFields[f];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType);n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(f in i)u.setRequestHeader(f,i[f]);t=function(n){return function(){t&&(delete ni[e],t=u.onload=u.onerror=null,"abort"===n?u.abort():"error"===n?r(u.status,u.statusText):r(de[u.status]||u.status,u.statusText,"string"==typeof u.responseText?{text:u.responseText}:void 0,u.getAllResponseHeaders()))}};u.onload=t();u.onerror=t("error");t=ni[e]=t("abort");u.send(n.hasContent&&n.data||null)},abort:function(){t&&t()}}}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(n){return i.globalEval(n),n}}}),i.ajaxPrefilter("script",function(n){void 0===n.cache&&(n.cache=!1);n.crossDomain&&(n.type="GET")}),i.ajaxTransport("script",function(n){if(n.crossDomain){var r,t;return{send:function(f,e){r=i("<script>").prop({async:!0,charset:n.scriptCharset,src:n.url}).on("load error",t=function(n){r.remove();t=null;n&&e("error"===n.type?404:200,n.type)});u.head.appendChild(r[0])},abort:function(){t&&t()}}}}),vi=[],ti=/(=)\?(?=&|$)|\?\?/,i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=vi.pop()||i.expando+"_"+dt++;return this[n]=!0,n}}),i.ajaxPrefilter("json jsonp",function(t,r,u){var f,o,e,s=t.jsonp!==!1&&(ti.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ti.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return(f=t.jsonpCallback=i.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ti,"$1"+f):t.jsonp!==!1&&(t.url+=(gt.test(t.url)?"&":"?")+t.jsonp+"="+f),t.converters["script json"]=function(){return e||i.error(f+" was not called"),e[0]},t.dataTypes[0]="json",o=n[f],n[f]=function(){e=arguments},u.always(function(){n[f]=o;t[f]&&(t.jsonpCallback=r.jsonpCallback,vi.push(f));e&&i.isFunction(o)&&o(e[0]);e=o=void 0}),"script")}),i.parseHTML=function(n,t,r){if(!n||"string"!=typeof n)return null;"boolean"==typeof t&&(r=t,t=!1);t=t||u;var f=di.exec(n),e=!r&&[];return f?[t.createElement(f[1])]:(f=i.buildFragment([n],t,e),e&&e.length&&i(e).remove(),i.merge([],f.childNodes))},yi=i.fn.load,i.fn.load=function(n,t,r){if("string"!=typeof n&&yi)return yi.apply(this,arguments);var u,o,s,f=this,e=n.indexOf(" ");return e>=0&&(u=n.slice(e),n=n.slice(0,e)),i.isFunction(t)?(r=t,t=void 0):t&&"object"==typeof t&&(o="POST"),f.length>0&&i.ajax({url:n,type:o,dataType:"html",data:t}).done(function(n){s=arguments;f.html(u?i("<div>").append(i.parseHTML(n)).find(u):n)}).complete(r&&function(n,t){f.each(r,s||[n.responseText,t,n])}),this},i.expr.filters.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length},pi=n.document.documentElement,i.offset={setOffset:function(n,t,r){var e,o,s,h,u,c,v,l=i.css(n,"position"),a=i(n),f={};"static"===l&&(n.style.position="relative");u=a.offset();s=i.css(n,"top");c=i.css(n,"left");v=("absolute"===l||"fixed"===l)&&(s+c).indexOf("auto")>-1;v?(e=a.position(),h=e.top,o=e.left):(h=parseFloat(s)||0,o=parseFloat(c)||0);i.isFunction(t)&&(t=t.call(n,r,u));null!=t.top&&(f.top=t.top-u.top+h);null!=t.left&&(f.left=t.left-u.left+o);"using"in t?t.using.call(n,f):a.css(f)}},i.fn.extend({offset:function(n){if(arguments.length)return void 0===n?this:this.each(function(t){i.offset.setOffset(this,n,t)});var r,f,t=this[0],u={top:0,left:0},e=t&&t.ownerDocument;if(e)return r=e.documentElement,i.contains(r,t)?(typeof t.getBoundingClientRect!==d&&(u=t.getBoundingClientRect()),f=ku(e),{top:u.top+f.pageYOffset-r.clientTop,left:u.left+f.pageXOffset-r.clientLeft}):u},position:function(){if(this[0]){var n,r,u=this[0],t={top:0,left:0};return"fixed"===i.css(u,"position")?r=u.getBoundingClientRect():(n=this.offsetParent(),r=this.offset(),i.nodeName(n[0],"html")||(t=n.offset()),t.top+=i.css(n[0],"borderTopWidth",!0),t.left+=i.css(n[0],"borderLeftWidth",!0)),{top:r.top-t.top-i.css(u,"marginTop",!0),left:r.left-t.left-i.css(u,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent||pi;n&&!i.nodeName(n,"html")&&"static"===i.css(n,"position");)n=n.offsetParent;return n||pi})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var u="pageYOffset"===r;i.fn[t]=function(i){return l(this,function(t,i,f){var e=ku(t);return void 0===f?e?e[r]:t[i]:void(e?e.scrollTo(u?n.pageXOffset:f,u?f:n.pageYOffset):t[i]=f)},t,i,arguments.length,null)}}),i.each(["top","left"],function(n,t){i.cssHooks[t]=br(f.pixelPosition,function(n,r){if(r)return(r=rt(n,t),hi.test(r)?i(n).position()[t]+"px":r)})}),i.each({Height:"height",Width:"width"},function(n,t){i.each({padding:"inner"+n,content:t,"":"outer"+n},function(r,u){i.fn[u]=function(u,f){var e=arguments.length&&(r||"boolean"!=typeof u),o=r||(u===!0||f===!0?"margin":"border");return l(this,function(t,r,u){var f;return i.isWindow(t)?t.document.documentElement["client"+n]:9===t.nodeType?(f=t.documentElement,Math.max(t.body["scroll"+n],f["scroll"+n],t.body["offset"+n],f["offset"+n],f["client"+n])):void 0===u?i.css(t,r,o):i.style(t,r,u,o)},t,e?u:void 0,e,null)}})}),i.fn.size=function(){return this.length},i.fn.andSelf=i.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return i}),du=n.jQuery,gu=n.$,i.noConflict=function(t){return n.$===i&&(n.$=gu),t&&n.jQuery===i&&(n.jQuery=du),i},typeof t===d&&(n.jQuery=n.$=i),i}),!jQuery)throw new Error("Bootstrap requires jQuery");+function(n){"use strict";function t(){var i=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var t in n)if(void 0!==i.style[t])return{end:n[t]}}n.fn.emulateTransitionEnd=function(t){var i=!1,u=this,r;n(this).one(n.support.transition.end,function(){i=!0});return r=function(){i||n(u).trigger(n.support.transition.end)},setTimeout(r,t),this};n(function(){n.support.transition=t()})}(window.jQuery);+function(n){"use strict";var i='[data-dismiss="alert"]',t=function(t){n(t).on("click",i,this.close)},r;t.prototype.close=function(t){function f(){i.trigger("closed.bs.alert").remove()}var u=n(this),r=u.attr("data-target"),i;r||(r=u.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));i=n(r);t&&t.preventDefault();i.length||(i=u.hasClass("alert")?u:u.parent());i.trigger(t=n.Event("close.bs.alert"));t.isDefaultPrevented()||(i.removeClass("in"),n.support.transition&&i.hasClass("fade")?i.one(n.support.transition.end,f).emulateTransitionEnd(150):f())};r=n.fn.alert;n.fn.alert=function(i){return this.each(function(){var r=n(this),u=r.data("bs.alert");u||r.data("bs.alert",u=new t(this));"string"==typeof i&&u[i].call(r)})};n.fn.alert.Constructor=t;n.fn.alert.noConflict=function(){return n.fn.alert=r,this};n(document).on("click.bs.alert.data-api",i,t.prototype.close)}(window.jQuery);+function(n){"use strict";var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r)},i;t.DEFAULTS={loadingText:"loading..."};t.prototype.setState=function(n){var i="disabled",t=this.$element,r=t.is("input")?"val":"html",u=t.data();n+="Text";u.resetText||t.data("resetText",t[r]());t[r](u[n]||this.options[n]);setTimeout(function(){"loadingText"==n?t.addClass(i).attr(i,i):t.removeClass(i).removeAttr(i)},0)};t.prototype.toggle=function(){var n=this.$element.closest('[data-toggle="buttons"]'),t;n.length&&(t=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change"),"radio"===t.prop("type")&&n.find(".active").removeClass("active"));this.$element.toggleClass("active")};i=n.fn.button;n.fn.button=function(i){return this.each(function(){var u=n(this),r=u.data("bs.button"),f="object"==typeof i&&i;r||u.data("bs.button",r=new t(this,f));"toggle"==i?r.toggle():i&&r.setState(i)})};n.fn.button.Constructor=t;n.fn.button.noConflict=function(){return n.fn.button=i,this};n(document).on("click.bs.button.data-api","[data-toggle^=button]",function(t){var i=n(t.target);i.hasClass("btn")||(i=i.closest(".btn"));i.button("toggle");t.preventDefault()})}(window.jQuery);+function(n){"use strict";var t=function(t,i){this.$element=n(t);this.$indicators=this.$element.find(".carousel-indicators");this.options=i;this.paused=this.sliding=this.interval=this.$active=this.$items=null;"hover"==this.options.pause&&this.$element.on("mouseenter",n.proxy(this.pause,this)).on("mouseleave",n.proxy(this.cycle,this))},i;t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0};t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(n.proxy(this.next,this),this.options.interval)),this};t.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)};t.prototype.to=function(t){var r=this,i=this.getActiveIndex();if(!(t>this.$items.length-1)&&!(0>t))return this.sliding?this.$element.one("slid",function(){r.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",n(this.$items[t]))};t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&n.support.transition.end&&(this.$element.trigger(n.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this};t.prototype.next=function(){if(!this.sliding)return this.slide("next")};t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};t.prototype.slide=function(t,i){var u=this.$element.find(".item.active"),r=i||u[t](),s=this.interval,f="next"==t?"left":"right",h="next"==t?"first":"last",o=this,e;if(!r.length){if(!this.options.wrap)return;r=this.$element.find(".item")[h]()}if(this.sliding=!0,s&&this.pause(),e=n.Event("slide.bs.carousel",{relatedTarget:r[0],direction:f}),!r.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=n(o.$indicators.children()[o.getActiveIndex()]);t&&t.addClass("active")})),n.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(e),e.isDefaultPrevented())return;r.addClass(t);r[0].offsetWidth;u.addClass(f);r.addClass(f);u.one(n.support.transition.end,function(){r.removeClass([t,f].join(" ")).addClass("active");u.removeClass(["active",f].join(" "));o.sliding=!1;setTimeout(function(){o.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(e),e.isDefaultPrevented())return;u.removeClass("active");r.addClass("active");this.sliding=!1;this.$element.trigger("slid")}return s&&this.cycle(),this}};i=n.fn.carousel;n.fn.carousel=function(i){return this.each(function(){var u=n(this),r=u.data("bs.carousel"),f=n.extend({},t.DEFAULTS,u.data(),"object"==typeof i&&i),e="string"==typeof i?i:f.slide;r||u.data("bs.carousel",r=new t(this,f));"number"==typeof i?r.to(i):e?r[e]():f.interval&&r.pause().cycle()})};n.fn.carousel.Constructor=t;n.fn.carousel.noConflict=function(){return n.fn.carousel=i,this};n(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(t){var f,i=n(this),r=n(i.attr("data-target")||(f=i.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"")),e=n.extend({},r.data(),i.data()),u=i.attr("data-slide-to");u&&(e.interval=!1);r.carousel(e);(u=i.attr("data-slide-to"))&&r.data("bs.carousel").to(u);t.preventDefault()});n(window).on("load",function(){n('[data-ride="carousel"]').each(function(){var t=n(this);t.carousel(t.data())})})}(window.jQuery);+function(n){"use strict";var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.transitioning=null;this.options.parent&&(this.$parent=n(this.options.parent));this.options.toggle&&this.toggle()},i;t.DEFAULTS={toggle:!0};t.prototype.dimension=function(){var n=this.$element.hasClass("width");return n?"width":"height"};t.prototype.show=function(){var u,t,r,i,f,e;if(!this.transitioning&&!this.$element.hasClass("in")&&(u=n.Event("show.bs.collapse"),this.$element.trigger(u),!u.isDefaultPrevented())){if(t=this.$parent&&this.$parent.find("> .panel > .in"),t&&t.length){if(r=t.data("bs.collapse"),r&&r.transitioning)return;t.collapse("hide");r||t.data("bs.collapse",null)}if(i=this.dimension(),this.$element.removeClass("collapse").addClass("collapsing")[i](0),this.transitioning=1,f=function(){this.$element.removeClass("collapsing").addClass("in")[i]("auto");this.transitioning=0;this.$element.trigger("shown.bs.collapse")},!n.support.transition)return f.call(this);e=n.camelCase(["scroll",i].join("-"));this.$element.one(n.support.transition.end,n.proxy(f,this)).emulateTransitionEnd(350)[i](this.$element[0][e])}};t.prototype.hide=function(){var i,t,r;if(!this.transitioning&&this.$element.hasClass("in")&&(i=n.Event("hide.bs.collapse"),this.$element.trigger(i),!i.isDefaultPrevented()))return t=this.dimension(),this.$element[t](this.$element[t]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1,r=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")},n.support.transition?(this.$element[t](0).one(n.support.transition.end,n.proxy(r,this)).emulateTransitionEnd(350),void 0):r.call(this)};t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};i=n.fn.collapse;n.fn.collapse=function(i){return this.each(function(){var r=n(this),u=r.data("bs.collapse"),f=n.extend({},t.DEFAULTS,r.data(),"object"==typeof i&&i);u||r.data("bs.collapse",u=new t(this,f));"string"==typeof i&&u[i]()})};n.fn.collapse.Constructor=t;n.fn.collapse.noConflict=function(){return n.fn.collapse=i,this};n(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(t){var e,i=n(this),s=i.attr("data-target")||t.preventDefault()||(e=i.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""),r=n(s),u=r.data("bs.collapse"),h=u?"toggle":i.data(),f=i.attr("data-parent"),o=f&&n(f);u&&u.transitioning||(o&&o.find('[data-toggle=collapse][data-parent="'+f+'"]').not(i).addClass("collapsed"),i[r.hasClass("in")?"addClass":"removeClass"]("collapsed"));r.collapse(h)})}(window.jQuery);+function(n){"use strict";function r(){n(e).remove();n(i).each(function(t){var i=u(n(this));i.hasClass("open")&&(i.trigger(t=n.Event("hide.bs.dropdown")),t.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown"))})}function u(t){var i=t.attr("data-target"),r;return i||(i=t.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),r=i&&n(i),r&&r.length?r:t.parent()}var e=".dropdown-backdrop",i="[data-toggle=dropdown]",t=function(t){n(t).on("click.bs.dropdown",this.toggle)},f;t.prototype.toggle=function(t){var f=n(this),i,e;if(!f.is(".disabled, :disabled")){if(i=u(f),e=i.hasClass("open"),r(),!e){if("ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&n('<div class="dropdown-backdrop"/>').insertAfter(n(this)).on("click",r),i.trigger(t=n.Event("show.bs.dropdown")),t.isDefaultPrevented())return;i.toggleClass("open").trigger("shown.bs.dropdown");f.focus()}return!1}};t.prototype.keydown=function(t){var e,o,s,f,r;if(/(38|40|27)/.test(t.keyCode)&&(e=n(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(o=u(e),s=o.hasClass("open"),!s||s&&27==t.keyCode)return 27==t.which&&o.find(i).focus(),e.click();f=n("[role=menu] li:not(.divider):visible a",o);f.length&&(r=f.index(f.filter(":focus")),38==t.keyCode&&r>0&&r--,40==t.keyCode&&r<f.length-1&&r++,~r||(r=0),f.eq(r).focus())}};f=n.fn.dropdown;n.fn.dropdown=function(i){return this.each(function(){var r=n(this),u=r.data("dropdown");u||r.data("dropdown",u=new t(this));"string"==typeof i&&u[i].call(r)})};n.fn.dropdown.Constructor=t;n.fn.dropdown.noConflict=function(){return n.fn.dropdown=f,this};n(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",function(n){n.stopPropagation()}).on("click.bs.dropdown.data-api",i,t.prototype.toggle).on("keydown.bs.dropdown.data-api",i+", [role=menu]",t.prototype.keydown)}(window.jQuery);+function(n){"use strict";var t=function(t,i){this.options=i;this.$element=n(t);this.$backdrop=this.isShown=null;this.options.remote&&this.$element.load(this.options.remote)},i;t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};t.prototype.toggle=function(n){return this[this.isShown?"hide":"show"](n)};t.prototype.show=function(t){var i=this,r=n.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r);this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',n.proxy(this.hide,this)),this.backdrop(function(){var u=n.support.transition&&i.$element.hasClass("fade"),r;i.$element.parent().length||i.$element.appendTo(document.body);i.$element.show();u&&i.$element[0].offsetWidth;i.$element.addClass("in").attr("aria-hidden",!1);i.enforceFocus();r=n.Event("shown.bs.modal",{relatedTarget:t});u?i.$element.find(".modal-dialog").one(n.support.transition.end,function(){i.$element.focus().trigger(r)}).emulateTransitionEnd(300):i.$element.focus().trigger(r)}))};t.prototype.hide=function(t){t&&t.preventDefault();t=n.Event("hide.bs.modal");this.$element.trigger(t);this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),n(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),n.support.transition&&this.$element.hasClass("fade")?this.$element.one(n.support.transition.end,n.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())};t.prototype.enforceFocus=function(){n(document).off("focusin.bs.modal").on("focusin.bs.modal",n.proxy(function(n){this.$element[0]===n.target||this.$element.has(n.target).length||this.$element.focus()},this))};t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",n.proxy(function(n){27==n.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")};t.prototype.hideModal=function(){var n=this;this.$element.hide();this.backdrop(function(){n.removeBackdrop();n.$element.trigger("hidden.bs.modal")})};t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};t.prototype.backdrop=function(t){var r=this.$element.hasClass("fade")?"fade":"",i;if(this.isShown&&this.options.backdrop){if(i=n.support.transition&&r,this.$backdrop=n('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",n.proxy(function(n){n.target===n.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(n.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(n.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};i=n.fn.modal;n.fn.modal=function(i,r){return this.each(function(){var f=n(this),u=f.data("bs.modal"),e=n.extend({},t.DEFAULTS,f.data(),"object"==typeof i&&i);u||f.data("bs.modal",u=new t(this,e));"string"==typeof i?u[i](r):e.show&&u.show(r)})};n.fn.modal.Constructor=t;n.fn.modal.noConflict=function(){return n.fn.modal=i,this};n(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var i=n(this),r=i.attr("href"),u=n(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),f=u.data("modal")?"toggle":n.extend({remote:!/#/.test(r)&&r},u.data(),i.data());t.preventDefault();u.modal(f,this).one("hide",function(){i.is(":visible")&&i.focus()})});n(document).on("show.bs.modal",".modal",function(){n(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){n(document.body).removeClass("modal-open")})}(window.jQuery);+function(n){"use strict";var t=function(n,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",n,t)},i;t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1};t.prototype.init=function(t,i,r){var f,e,u,o,s;for(this.enabled=!0,this.type=t,this.$element=n(i),this.options=this.getOptions(r),f=this.options.trigger.split(" "),e=f.length;e--;)if(u=f[e],"click"==u)this.$element.on("click."+this.type,this.options.selector,n.proxy(this.toggle,this));else"manual"!=u&&(o="hover"==u?"mouseenter":"focus",s="hover"==u?"mouseleave":"blur",this.$element.on(o+"."+this.type,this.options.selector,n.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,n.proxy(this.leave,this)));this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.getOptions=function(t){return t=n.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t};t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&n.each(this._options,function(n,r){i[n]!=r&&(t[n]=r)}),t};t.prototype.enter=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show),void 0):i.show()};t.prototype.leave=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide),void 0):i.hide()};t.prototype.show=function(){var o=n.Event("show.bs."+this.type),i,l;if(this.hasContent()&&this.enabled){if(this.$element.trigger(o),o.isDefaultPrevented())return;i=this.tip();this.setContent();this.options.animation&&i.addClass("fade");var t="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,h=s.test(t);h&&(t=t.replace(s,"")||"top");i.detach().css({top:0,left:0,display:"block"}).addClass(t);this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var r=this.getPosition(),u=i[0].offsetWidth,f=i[0].offsetHeight;if(h){var e=this.$element.parent(),a=t,c=document.documentElement.scrollTop||document.body.scrollTop,v="body"==this.options.container?window.innerWidth:e.outerWidth(),y="body"==this.options.container?window.innerHeight:e.outerHeight(),p="body"==this.options.container?0:e.offset().left;t="bottom"==t&&r.top+r.height+f-c>y?"top":"top"==t&&r.top-c-f<0?"bottom":"right"==t&&r.right+u>v?"left":"left"==t&&r.left-u<p?"right":t;i.removeClass(a).addClass(t)}l=this.getCalculatedOffset(t,r,u,f);this.applyPlacement(l,t);this.$element.trigger("shown.bs."+this.type)}};t.prototype.applyPlacement=function(n,t){var h,i=this.tip(),c=i[0].offsetWidth,f=i[0].offsetHeight,e=parseInt(i.css("margin-top"),10),o=parseInt(i.css("margin-left"),10),u,r,s;isNaN(e)&&(e=0);isNaN(o)&&(o=0);n.top=n.top+e;n.left=n.left+o;i.offset(n).addClass("in");u=i[0].offsetWidth;r=i[0].offsetHeight;("top"==t&&r!=f&&(h=!0,n.top=n.top+f-r),/bottom|top/.test(t))?(s=0,n.left<0&&(s=-2*n.left,n.left=0,i.offset(n),u=i[0].offsetWidth,r=i[0].offsetHeight),this.replaceArrow(s-c+u,u,"left")):this.replaceArrow(r-f,r,"top");h&&i.offset(n)};t.prototype.replaceArrow=function(n,t,i){this.arrow().css(i,n?50*(1-n/t)+"%":"")};t.prototype.setContent=function(){var n=this.tip(),t=this.getTitle();n.find(".tooltip-inner")[this.options.html?"html":"text"](t);n.removeClass("fade in top bottom left right")};t.prototype.hide=function(){function i(){"in"!=u.hoverState&&t.detach()}var u=this,t=this.tip(),r=n.Event("hide.bs."+this.type);return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(t.removeClass("in"),n.support.transition&&this.$tip.hasClass("fade")?t.one(n.support.transition.end,i).emulateTransitionEnd(150):i(),this.$element.trigger("hidden.bs."+this.type),this)};t.prototype.fixTitle=function(){var n=this.$element;(n.attr("title")||"string"!=typeof n.attr("data-original-title"))&&n.attr("data-original-title",n.attr("title")||"").attr("title","")};t.prototype.hasContent=function(){return this.getTitle()};t.prototype.getPosition=function(){var t=this.$element[0];return n.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())};t.prototype.getCalculatedOffset=function(n,t,i,r){return"bottom"==n?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==n?{top:t.top-r,left:t.left+t.width/2-i/2}:"left"==n?{top:t.top+t.height/2-r/2,left:t.left-i}:{top:t.top+t.height/2-r/2,left:t.left+t.width}};t.prototype.getTitle=function(){var t=this.$element,n=this.options;return t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)};t.prototype.tip=function(){return this.$tip=this.$tip||n(this.options.template)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)};t.prototype.enable=function(){this.enabled=!0};t.prototype.disable=function(){this.enabled=!1};t.prototype.toggleEnabled=function(){this.enabled=!this.enabled};t.prototype.toggle=function(t){var i=t?n(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)};t.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};i=n.fn.tooltip;n.fn.tooltip=function(i){return this.each(function(){var u=n(this),r=u.data("bs.tooltip"),f="object"==typeof i&&i;r||u.data("bs.tooltip",r=new t(this,f));"string"==typeof i&&r[i]()})};n.fn.tooltip.Constructor=t;n.fn.tooltip.noConflict=function(){return n.fn.tooltip=i,this}}(window.jQuery);+function(n){"use strict";var t=function(n,t){this.init("popover",n,t)},i;if(!n.fn.tooltip)throw new Error("Popover requires tooltip.js");t.DEFAULTS=n.extend({},n.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content"><\/div><\/div>'});t.prototype=n.extend({},n.fn.tooltip.Constructor.prototype);t.prototype.constructor=t;t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.setContent=function(){var n=this.tip(),t=this.getTitle(),i=this.getContent();n.find(".popover-title")[this.options.html?"html":"text"](t);n.find(".popover-content")[this.options.html?"html":"text"](i);n.removeClass("fade top bottom left right in");n.find(".popover-title").html()||n.find(".popover-title").hide()};t.prototype.hasContent=function(){return this.getTitle()||this.getContent()};t.prototype.getContent=function(){var t=this.$element,n=this.options;return t.attr("data-content")||("function"==typeof n.content?n.content.call(t[0]):n.content)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};t.prototype.tip=function(){return this.$tip||(this.$tip=n(this.options.template)),this.$tip};i=n.fn.popover;n.fn.popover=function(i){return this.each(function(){var u=n(this),r=u.data("bs.popover"),f="object"==typeof i&&i;r||u.data("bs.popover",r=new t(this,f));"string"==typeof i&&r[i]()})};n.fn.popover.Constructor=t;n.fn.popover.noConflict=function(){return n.fn.popover=i,this}}(window.jQuery);+function(n){"use strict";function t(i,r){var u,f=n.proxy(this.process,this);this.$element=n(i).is("body")?n(window):n(i);this.$body=n("body");this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",f);this.options=n.extend({},t.DEFAULTS,r);this.selector=(this.options.target||(u=n(i).attr("href"))&&u.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.offsets=n([]);this.targets=n([]);this.activeTarget=null;this.refresh();this.process()}t.DEFAULTS={offset:10};t.prototype.refresh=function(){var i=this.$element[0]==window?"offset":"position",t;this.offsets=n([]);this.targets=n([]);t=this;this.$body.find(this.selector).map(function(){var f=n(this),r=f.data("target")||f.attr("href"),u=/^#\w/.test(r)&&n(r);return u&&u.length&&[[u[i]().top+(!n.isWindow(t.$scrollElement.get(0))&&t.$scrollElement.scrollTop()),r]]||null}).sort(function(n,t){return n[0]-t[0]}).each(function(){t.offsets.push(this[0]);t.targets.push(this[1])})};t.prototype.process=function(){var n,i=this.$scrollElement.scrollTop()+this.options.offset,f=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,e=f-this.$scrollElement.height(),t=this.offsets,r=this.targets,u=this.activeTarget;if(i>=e)return u!=(n=r.last()[0])&&this.activate(n);for(n=t.length;n--;)u!=r[n]&&i>=t[n]&&(!t[n+1]||i<=t[n+1])&&this.activate(r[n])};t.prototype.activate=function(t){this.activeTarget=t;n(this.selector).parents(".active").removeClass("active");var r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=n(r).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active"));i.trigger("activate")};var i=n.fn.scrollspy;n.fn.scrollspy=function(i){return this.each(function(){var u=n(this),r=u.data("bs.scrollspy"),f="object"==typeof i&&i;r||u.data("bs.scrollspy",r=new t(this,f));"string"==typeof i&&r[i]()})};n.fn.scrollspy.Constructor=t;n.fn.scrollspy.noConflict=function(){return n.fn.scrollspy=i,this};n(window).on("load",function(){n('[data-spy="scroll"]').each(function(){var t=n(this);t.scrollspy(t.data())})})}(window.jQuery);+function(n){"use strict";var t=function(t){this.element=n(t)},i;t.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),i=t.attr("data-target"),r,u,f;(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),t.parent("li").hasClass("active"))||(r=e.find(".active:last a")[0],u=n.Event("show.bs.tab",{relatedTarget:r}),(t.trigger(u),u.isDefaultPrevented())||(f=n(i),this.activate(t.parent("li"),e),this.activate(f,f.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:r})})))};t.prototype.activate=function(t,i,r){function f(){u.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");t.addClass("active");e?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade");t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active");r&&r()}var u=i.find("> .active"),e=r&&n.support.transition&&u.hasClass("fade");e?u.one(n.support.transition.end,f).emulateTransitionEnd(150):f();u.removeClass("in")};i=n.fn.tab;n.fn.tab=function(i){return this.each(function(){var u=n(this),r=u.data("bs.tab");r||u.data("bs.tab",r=new t(this));"string"==typeof i&&r[i]()})};n.fn.tab.Constructor=t;n.fn.tab.noConflict=function(){return n.fn.tab=i,this};n(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault();n(this).tab("show")})}(window.jQuery);+function(n){"use strict";var t=function(i,r){this.options=n.extend({},t.DEFAULTS,r);this.$window=n(window).on("scroll.bs.affix.data-api",n.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",n.proxy(this.checkPositionWithEventLoop,this));this.$element=n(i);this.affixed=this.unpin=null;this.checkPosition()},i;t.RESET="affix affix-top affix-bottom";t.DEFAULTS={offset:0};t.prototype.checkPositionWithEventLoop=function(){setTimeout(n.proxy(this.checkPosition,this),1)};t.prototype.checkPosition=function(){var i;if(this.$element.is(":visible")){var s=n(document).height(),e=this.$window.scrollTop(),o=this.$element.offset(),r=this.options.offset,f=r.top,u=r.bottom;"object"!=typeof r&&(u=f=r);"function"==typeof f&&(f=r.top());"function"==typeof u&&(u=r.bottom());i=null!=this.unpin&&e+this.unpin<=o.top?!1:null!=u&&o.top+this.$element.height()>=s-u?"bottom":null!=f&&f>=e?"top":!1;this.affixed!==i&&(this.unpin&&this.$element.css("top",""),this.affixed=i,this.unpin="bottom"==i?o.top-e:null,this.$element.removeClass(t.RESET).addClass("affix"+(i?"-"+i:"")),"bottom"==i&&this.$element.offset({top:document.body.offsetHeight-u-this.$element.height()}))}};i=n.fn.affix;n.fn.affix=function(i){return this.each(function(){var u=n(this),r=u.data("bs.affix"),f="object"==typeof i&&i;r||u.data("bs.affix",r=new t(this,f));"string"==typeof i&&r[i]()})};n.fn.affix.Constructor=t;n.fn.affix.noConflict=function(){return n.fn.affix=i,this};n(window).on("load",function(){n('[data-spy="affix"]').each(function(){var i=n(this),t=i.data();t.offset=t.offset||{};t.offsetBottom&&(t.offset.bottom=t.offsetBottom);t.offsetTop&&(t.offset.top=t.offsetTop);i.affix(t)})})}(window.jQuery);!function(){"use strict";function e(n){n.fn.swiper=function(i){var r;return n(this).each(function(){var n=new t(this,i);r||(r=n)}),r}}var n,t=function(r,u){function k(n){return Math.floor(n)}function ft(){f.autoplayTimeoutId=setTimeout(function(){f.params.loop?(f.fixLoop(),f._slideNext(),f.emit("onAutoplay",f)):f.isEnd?u.autoplayStopOnLast?f.stopAutoplay():(f._slideTo(0),f.emit("onAutoplay",f)):(f._slideNext(),f.emit("onAutoplay",f))},f.params.autoplay)}function et(t,i){var r=n(t.target),u;if(!r.is(i))if("string"==typeof i)r=r.parents(i);else if(i.nodeType)return r.parents().each(function(n,t){t===i&&(u=i)}),u?i:void 0;if(0!==r.length)return r[0]}function ot(n,t){t=t||{};var r=window.MutationObserver||window.WebkitMutationObserver,i=new r(function(n){n.forEach(function(n){f.onResize(!0);f.emit("onObserverUpdate",f,n)})});i.observe(n,{attributes:"undefined"==typeof t.attributes?!0:t.attributes,childList:"undefined"==typeof t.childList?!0:t.childList,characterData:"undefined"==typeof t.characterData?!0:t.characterData});f.observers.push(i)}function pt(n){var t,o,s,e,r;if((n.originalEvent&&(n=n.originalEvent),t=n.keyCode||n.charCode,!f.params.allowSwipeToNext&&(f.isHorizontal()&&39===t||!f.isHorizontal()&&40===t))||!f.params.allowSwipeToPrev&&(f.isHorizontal()&&37===t||!f.isHorizontal()&&38===t))return!1;if(!(n.shiftKey||n.altKey||n.ctrlKey||n.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===t||39===t||38===t||40===t){if(o=!1,f.container.parents(".swiper-slide").length>0&&0===f.container.parents(".swiper-slide-active").length)return;var u={left:window.pageXOffset,top:window.pageYOffset},h=window.innerWidth,c=window.innerHeight,i=f.container.offset();for(f.rtl&&(i.left=i.left-f.container[0].scrollLeft),s=[[i.left,i.top],[i.left+f.width,i.top],[i.left,i.top+f.height],[i.left+f.width,i.top+f.height]],e=0;e<s.length;e++)r=s[e],r[0]>=u.left&&r[0]<=u.left+h&&r[1]>=u.top&&r[1]<=u.top+c&&(o=!0);if(!o)return}f.isHorizontal()?((37===t||39===t)&&(n.preventDefault?n.preventDefault():n.returnValue=!1),(39===t&&!f.rtl||37===t&&f.rtl)&&f.slideNext(),(37===t&&!f.rtl||39===t&&f.rtl)&&f.slidePrev()):((38===t||40===t)&&(n.preventDefault?n.preventDefault():n.returnValue=!1),40===t&&f.slideNext(),38===t&&f.slidePrev())}}function wt(n){n.originalEvent&&(n=n.originalEvent);var u=f.mousewheel.event,t=0,r=f.rtl?-1:1;if("mousewheel"===u)if(f.params.mousewheelForceToAxis)if(f.isHorizontal()){if(!(Math.abs(n.wheelDeltaX)>Math.abs(n.wheelDeltaY)))return;t=n.wheelDeltaX*r}else{if(!(Math.abs(n.wheelDeltaY)>Math.abs(n.wheelDeltaX)))return;t=n.wheelDeltaY}else t=Math.abs(n.wheelDeltaX)>Math.abs(n.wheelDeltaY)?-n.wheelDeltaX*r:-n.wheelDeltaY;else if("DOMMouseScroll"===u)t=-n.detail;else if("wheel"===u)if(f.params.mousewheelForceToAxis)if(f.isHorizontal()){if(!(Math.abs(n.deltaX)>Math.abs(n.deltaY)))return;t=-n.deltaX*r}else{if(!(Math.abs(n.deltaY)>Math.abs(n.deltaX)))return;t=-n.deltaY}else t=Math.abs(n.deltaX)>Math.abs(n.deltaY)?-n.deltaX*r:-n.deltaY;if(0!==t){if(f.params.mousewheelInvert&&(t=-t),f.params.freeMode){var i=f.getWrapperTranslate()+t*f.params.mousewheelSensitivity,e=f.isBeginning,o=f.isEnd;if(i>=f.minTranslate()&&(i=f.minTranslate()),i<=f.maxTranslate()&&(i=f.maxTranslate()),f.setWrapperTransition(0),f.setWrapperTranslate(i),f.updateProgress(),f.updateActiveIndex(),(!e&&f.isBeginning||!o&&f.isEnd)&&f.updateClasses(),f.params.freeModeSticky?(clearTimeout(f.mousewheel.timeout),f.mousewheel.timeout=setTimeout(function(){f.slideReset()},300)):f.params.lazyLoading&&f.lazy&&f.lazy.load(),0===i||i===f.maxTranslate())return}else{if((new window.Date).getTime()-f.mousewheel.lastScrollTime>60)if(0>t)if(f.isEnd&&!f.params.loop||f.animating){if(f.params.mousewheelReleaseOnEdges)return!0}else f.slideNext();else if(f.isBeginning&&!f.params.loop||f.animating){if(f.params.mousewheelReleaseOnEdges)return!0}else f.slidePrev();f.mousewheel.lastScrollTime=(new window.Date).getTime()}return f.params.autoplay&&f.stopAutoplay(),n.preventDefault?n.preventDefault():n.returnValue=!1,!1}}function bt(t,i){t=n(t);var e,r,u,o=f.rtl?-1:1;e=t.attr("data-swiper-parallax")||"0";r=t.attr("data-swiper-parallax-x");u=t.attr("data-swiper-parallax-y");r||u?(r=r||"0",u=u||"0"):f.isHorizontal()?(r=e,u="0"):(u=e,r="0");r=r.indexOf("%")>=0?parseInt(r,10)*i*o+"%":r*i*o+"px";u=u.indexOf("%")>=0?parseInt(u,10)*i+"%":u*i+"px";t.transform("translate3d("+r+", "+u+",0px)")}function st(n){return 0!==n.indexOf("on")&&(n=n[0]!==n[0].toUpperCase()?"on"+n[0].toUpperCase()+n.substring(1):"on"+n),n}var y,kt,p,o,ht,h,d,f,ct,v,rt,ut,vt,yt;if(!(this instanceof t))return new t(r,u);y={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,hashnav:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0};kt=u&&u.virtualTranslate;u=u||{};p={};for(o in u)if("object"!=typeof u[o]||null===u[o]||u[o].nodeType||u[o]===window||u[o]===document||"undefined"!=typeof i&&u[o]instanceof i||"undefined"!=typeof jQuery&&u[o]instanceof jQuery)p[o]=u[o];else{p[o]={};for(ht in u[o])p[o][ht]=u[o][ht]}for(h in y)if("undefined"==typeof u[h])u[h]=y[h];else if("object"==typeof u[h])for(d in y[h])"undefined"==typeof u[h][d]&&(u[h][d]=y[h][d]);if(f=this,f.params=u,f.originalParams=p,f.classNames=[],"undefined"!=typeof n&&"undefined"!=typeof i&&(n=i),("undefined"!=typeof n||(n="undefined"==typeof i?window.Dom7||window.Zepto||window.jQuery:i))&&(f.$=n,f.currentBreakpoint=void 0,f.getActiveBreakpoint=function(){var n,i,t,r;if(!f.params.breakpoints)return!1;i=!1;t=[];for(n in f.params.breakpoints)f.params.breakpoints.hasOwnProperty(n)&&t.push(n);for(t.sort(function(n,t){return parseInt(n,10)>parseInt(t,10)}),r=0;r<t.length;r++)n=t[r],n>=window.innerWidth&&!i&&(i=n);return i||"max"},f.setBreakpoint=function(){var n=f.getActiveBreakpoint(),t,r,i;if(n&&f.currentBreakpoint!==n){t=n in f.params.breakpoints?f.params.breakpoints[n]:f.originalParams;r=f.params.loop&&t.slidesPerView!==f.params.slidesPerView;for(i in t)f.params[i]=t[i];f.currentBreakpoint=n;r&&f.destroyLoop&&f.reLoop(!0)}},f.params.breakpoints&&f.setBreakpoint(),f.container=n(r),0!==f.container.length)){if(f.container.length>1)return ct=[],f.container.each(function(){ct.push(new t(this,u))}),ct;f.container[0].swiper=f;f.container.data("swiper",f);f.classNames.push("swiper-container-"+f.params.direction);f.params.freeMode&&f.classNames.push("swiper-container-free-mode");f.support.flexbox||(f.classNames.push("swiper-container-no-flexbox"),f.params.slidesPerColumn=1);f.params.autoHeight&&f.classNames.push("swiper-container-autoheight");(f.params.parallax||f.params.watchSlidesVisibility)&&(f.params.watchSlidesProgress=!0);["cube","coverflow","flip"].indexOf(f.params.effect)>=0&&(f.support.transforms3d?(f.params.watchSlidesProgress=!0,f.classNames.push("swiper-container-3d")):f.params.effect="slide");"slide"!==f.params.effect&&f.classNames.push("swiper-container-"+f.params.effect);"cube"===f.params.effect&&(f.params.resistanceRatio=0,f.params.slidesPerView=1,f.params.slidesPerColumn=1,f.params.slidesPerGroup=1,f.params.centeredSlides=!1,f.params.spaceBetween=0,f.params.virtualTranslate=!0,f.params.setWrapperSize=!1);("fade"===f.params.effect||"flip"===f.params.effect)&&(f.params.slidesPerView=1,f.params.slidesPerColumn=1,f.params.slidesPerGroup=1,f.params.watchSlidesProgress=!0,f.params.spaceBetween=0,f.params.setWrapperSize=!1,"undefined"==typeof kt&&(f.params.virtualTranslate=!0));f.params.grabCursor&&f.support.touch&&(f.params.grabCursor=!1);f.wrapper=f.container.children("."+f.params.wrapperClass);f.params.pagination&&(f.paginationContainer=n(f.params.pagination),f.params.uniqueNavElements&&"string"==typeof f.params.pagination&&f.paginationContainer.length>1&&1===f.container.find(f.params.pagination).length&&(f.paginationContainer=f.container.find(f.params.pagination)),"bullets"===f.params.paginationType&&f.params.paginationClickable?f.paginationContainer.addClass("swiper-pagination-clickable"):f.params.paginationClickable=!1,f.paginationContainer.addClass("swiper-pagination-"+f.params.paginationType));(f.params.nextButton||f.params.prevButton)&&(f.params.nextButton&&(f.nextButton=n(f.params.nextButton),f.params.uniqueNavElements&&"string"==typeof f.params.nextButton&&f.nextButton.length>1&&1===f.container.find(f.params.nextButton).length&&(f.nextButton=f.container.find(f.params.nextButton))),f.params.prevButton&&(f.prevButton=n(f.params.prevButton),f.params.uniqueNavElements&&"string"==typeof f.params.prevButton&&f.prevButton.length>1&&1===f.container.find(f.params.prevButton).length&&(f.prevButton=f.container.find(f.params.prevButton))));f.isHorizontal=function(){return"horizontal"===f.params.direction};f.rtl=f.isHorizontal()&&("rtl"===f.container[0].dir.toLowerCase()||"rtl"===f.container.css("direction"));f.rtl&&f.classNames.push("swiper-container-rtl");f.rtl&&(f.wrongRTL="-webkit-box"===f.wrapper.css("display"));f.params.slidesPerColumn>1&&f.classNames.push("swiper-container-multirow");f.device.android&&f.classNames.push("swiper-container-android");f.container.addClass(f.classNames.join(" "));f.translate=0;f.progress=0;f.velocity=0;f.lockSwipeToNext=function(){f.params.allowSwipeToNext=!1};f.lockSwipeToPrev=function(){f.params.allowSwipeToPrev=!1};f.lockSwipes=function(){f.params.allowSwipeToNext=f.params.allowSwipeToPrev=!1};f.unlockSwipeToNext=function(){f.params.allowSwipeToNext=!0};f.unlockSwipeToPrev=function(){f.params.allowSwipeToPrev=!0};f.unlockSwipes=function(){f.params.allowSwipeToNext=f.params.allowSwipeToPrev=!0};f.params.grabCursor&&(f.container[0].style.cursor="move",f.container[0].style.cursor="-webkit-grab",f.container[0].style.cursor="-moz-grab",f.container[0].style.cursor="grab");f.imagesToLoad=[];f.imagesLoaded=0;f.loadImage=function(n,t,i,r,u){function e(){u&&u()}var f;n.complete&&r?e():t?(f=new window.Image,f.onload=e,f.onerror=e,i&&(f.srcset=i),t&&(f.src=t)):e()};f.preloadImages=function(){function t(){"undefined"!=typeof f&&null!==f&&(void 0!==f.imagesLoaded&&f.imagesLoaded++,f.imagesLoaded===f.imagesToLoad.length&&(f.params.updateOnImagesReady&&f.update(),f.emit("onImagesReady",f)))}f.imagesToLoad=f.container.find("img");for(var n=0;n<f.imagesToLoad.length;n++)f.loadImage(f.imagesToLoad[n],f.imagesToLoad[n].currentSrc||f.imagesToLoad[n].getAttribute("src"),f.imagesToLoad[n].srcset||f.imagesToLoad[n].getAttribute("srcset"),!0,t)};f.autoplayTimeoutId=void 0;f.autoplaying=!1;f.autoplayPaused=!1;f.startAutoplay=function(){return"undefined"!=typeof f.autoplayTimeoutId?!1:f.params.autoplay?f.autoplaying?!1:(f.autoplaying=!0,f.emit("onAutoplayStart",f),void ft()):!1};f.stopAutoplay=function(){f.autoplayTimeoutId&&(f.autoplayTimeoutId&&clearTimeout(f.autoplayTimeoutId),f.autoplaying=!1,f.autoplayTimeoutId=void 0,f.emit("onAutoplayStop",f))};f.pauseAutoplay=function(n){f.autoplayPaused||(f.autoplayTimeoutId&&clearTimeout(f.autoplayTimeoutId),f.autoplayPaused=!0,0===n?(f.autoplayPaused=!1,ft()):f.wrapper.transitionEnd(function(){f&&(f.autoplayPaused=!1,f.autoplaying?ft():f.stopAutoplay())}))};f.minTranslate=function(){return-f.snapGrid[0]};f.maxTranslate=function(){return-f.snapGrid[f.snapGrid.length-1]};f.updateAutoHeight=function(){var t=f.slides.eq(f.activeIndex)[0],n;"undefined"!=typeof t&&(n=t.offsetHeight,n&&f.wrapper.css("height",n+"px"))};f.updateContainerSize=function(){var n,t;n="undefined"!=typeof f.params.width?f.params.width:f.container[0].clientWidth;t="undefined"!=typeof f.params.height?f.params.height:f.container[0].clientHeight;0===n&&f.isHorizontal()||0===t&&!f.isHorizontal()||(n=n-parseInt(f.container.css("padding-left"),10)-parseInt(f.container.css("padding-right"),10),t=t-parseInt(f.container.css("padding-top"),10)-parseInt(f.container.css("padding-bottom"),10),f.width=n,f.height=t,f.size=f.isHorizontal()?f.width:f.height)};f.updateSlidesSize=function(){var o,h,c,e,u,l;f.slides=f.wrapper.children("."+f.params.slideClass);f.snapGrid=[];f.slidesGrid=[];f.slidesSizesGrid=[];var n,i=f.params.spaceBetween,r=-f.params.slidesOffsetBefore,y=0,v=0;if("undefined"!=typeof f.size){"string"==typeof i&&i.indexOf("%")>=0&&(i=parseFloat(i.replace("%",""))/100*f.size);f.virtualSize=-i;f.rtl?f.slides.css({marginLeft:"",marginTop:""}):f.slides.css({marginRight:"",marginBottom:""});f.params.slidesPerColumn>1&&(o=Math.floor(f.slides.length/f.params.slidesPerColumn)===f.slides.length/f.params.slidesPerColumn?f.slides.length:Math.ceil(f.slides.length/f.params.slidesPerColumn)*f.params.slidesPerColumn,"auto"!==f.params.slidesPerView&&"row"===f.params.slidesPerColumnFill&&(o=Math.max(o,f.params.slidesPerView*f.params.slidesPerColumn)));var t,s=f.params.slidesPerColumn,a=o/s,p=a-(f.params.slidesPerColumn*a-f.slides.length);for(n=0;n<f.slides.length;n++)t=0,h=f.slides.eq(n),f.params.slidesPerColumn>1&&("column"===f.params.slidesPerColumnFill?(e=Math.floor(n/s),u=n-e*s,(e>p||e===p&&u===s-1)&&++u>=s&&(u=0,e++),c=e+u*o/s,h.css({"-webkit-box-ordinal-group":c,"-moz-box-ordinal-group":c,"-ms-flex-order":c,"-webkit-order":c,order:c})):(u=Math.floor(n/a),e=n-u*a),h.css({"margin-top":0!==u&&f.params.spaceBetween&&f.params.spaceBetween+"px"}).attr("data-swiper-column",e).attr("data-swiper-row",u)),"none"!==h.css("display")&&("auto"===f.params.slidesPerView?(t=f.isHorizontal()?h.outerWidth(!0):h.outerHeight(!0),f.params.roundLengths&&(t=k(t))):(t=(f.size-(f.params.slidesPerView-1)*i)/f.params.slidesPerView,f.params.roundLengths&&(t=k(t)),f.isHorizontal()?f.slides[n].style.width=t+"px":f.slides[n].style.height=t+"px"),f.slides[n].swiperSlideSize=t,f.slidesSizesGrid.push(t),f.params.centeredSlides?(r=r+t/2+y/2+i,0===n&&(r=r-f.size/2-i),Math.abs(r)<.001&&(r=0),v%f.params.slidesPerGroup==0&&f.snapGrid.push(r),f.slidesGrid.push(r)):(v%f.params.slidesPerGroup==0&&f.snapGrid.push(r),f.slidesGrid.push(r),r=r+t+i),f.virtualSize+=t+i,y=t,v++);if(f.virtualSize=Math.max(f.virtualSize,f.size)+f.params.slidesOffsetAfter,f.rtl&&f.wrongRTL&&("slide"===f.params.effect||"coverflow"===f.params.effect)&&f.wrapper.css({width:f.virtualSize+f.params.spaceBetween+"px"}),(!f.support.flexbox||f.params.setWrapperSize)&&(f.isHorizontal()?f.wrapper.css({width:f.virtualSize+f.params.spaceBetween+"px"}):f.wrapper.css({height:f.virtualSize+f.params.spaceBetween+"px"})),f.params.slidesPerColumn>1&&(f.virtualSize=(t+f.params.spaceBetween)*o,f.virtualSize=Math.ceil(f.virtualSize/f.params.slidesPerColumn)-f.params.spaceBetween,f.wrapper.css({width:f.virtualSize+f.params.spaceBetween+"px"}),f.params.centeredSlides)){for(l=[],n=0;n<f.snapGrid.length;n++)f.snapGrid[n]<f.virtualSize+f.snapGrid[0]&&l.push(f.snapGrid[n]);f.snapGrid=l}if(!f.params.centeredSlides){for(l=[],n=0;n<f.snapGrid.length;n++)f.snapGrid[n]<=f.virtualSize-f.size&&l.push(f.snapGrid[n]);f.snapGrid=l;Math.floor(f.virtualSize-f.size)-Math.floor(f.snapGrid[f.snapGrid.length-1])>1&&f.snapGrid.push(f.virtualSize-f.size)}0===f.snapGrid.length&&(f.snapGrid=[0]);0!==f.params.spaceBetween&&(f.isHorizontal()?f.rtl?f.slides.css({marginLeft:i+"px"}):f.slides.css({marginRight:i+"px"}):f.slides.css({marginBottom:i+"px"}));f.params.watchSlidesProgress&&f.updateSlidesOffset()}};f.updateSlidesOffset=function(){for(var n=0;n<f.slides.length;n++)f.slides[n].swiperSlideOffset=f.isHorizontal()?f.slides[n].offsetLeft:f.slides[n].offsetTop};f.updateSlidesProgress=function(n){var r,t,i,e;if("undefined"==typeof n&&(n=f.translate||0),0!==f.slides.length)for("undefined"==typeof f.slides[0].swiperSlideOffset&&f.updateSlidesOffset(),r=-n,f.rtl&&(r=n),f.slides.removeClass(f.params.slideVisibleClass),t=0;t<f.slides.length;t++){if(i=f.slides[t],e=(r-i.swiperSlideOffset)/(i.swiperSlideSize+f.params.spaceBetween),f.params.watchSlidesVisibility){var u=-(r-i.swiperSlideOffset),o=u+f.slidesSizesGrid[t],s=u>=0&&u<f.size||o>0&&o<=f.size||0>=u&&o>=f.size;s&&f.slides.eq(t).addClass(f.params.slideVisibleClass)}i.progress=f.rtl?-e:e}};f.updateProgress=function(n){"undefined"==typeof n&&(n=f.translate||0);var t=f.maxTranslate()-f.minTranslate(),i=f.isBeginning,r=f.isEnd;0===t?(f.progress=0,f.isBeginning=f.isEnd=!0):(f.progress=(n-f.minTranslate())/t,f.isBeginning=f.progress<=0,f.isEnd=f.progress>=1);f.isBeginning&&!i&&f.emit("onReachBeginning",f);f.isEnd&&!r&&f.emit("onReachEnd",f);f.params.watchSlidesProgress&&f.updateSlidesProgress(n);f.emit("onProgress",f,f.progress)};f.updateActiveIndex=function(){for(var t,r,i=f.rtl?f.translate:-f.translate,n=0;n<f.slidesGrid.length;n++)"undefined"!=typeof f.slidesGrid[n+1]?i>=f.slidesGrid[n]&&i<f.slidesGrid[n+1]-(f.slidesGrid[n+1]-f.slidesGrid[n])/2?t=n:i>=f.slidesGrid[n]&&i<f.slidesGrid[n+1]&&(t=n+1):i>=f.slidesGrid[n]&&(t=n);(0>t||"undefined"==typeof t)&&(t=0);r=Math.floor(t/f.params.slidesPerGroup);r>=f.snapGrid.length&&(r=f.snapGrid.length-1);t!==f.activeIndex&&(f.snapIndex=r,f.previousIndex=f.activeIndex,f.activeIndex=t,f.updateClasses())};f.updateClasses=function(){var r,u,e,t,i;if(f.slides.removeClass(f.params.slideActiveClass+" "+f.params.slideNextClass+" "+f.params.slidePrevClass),r=f.slides.eq(f.activeIndex),r.addClass(f.params.slideActiveClass),u=r.next("."+f.params.slideClass).addClass(f.params.slideNextClass),f.params.loop&&0===u.length&&f.slides.eq(0).addClass(f.params.slideNextClass),e=r.prev("."+f.params.slideClass).addClass(f.params.slidePrevClass),f.params.loop&&0===e.length&&f.slides.eq(-1).addClass(f.params.slidePrevClass),f.paginationContainer&&f.paginationContainer.length>0){if(i=f.params.loop?Math.ceil((f.slides.length-2*f.loopedSlides)/f.params.slidesPerGroup):f.snapGrid.length,f.params.loop?(t=Math.ceil((f.activeIndex-f.loopedSlides)/f.params.slidesPerGroup),t>f.slides.length-1-2*f.loopedSlides&&(t-=f.slides.length-2*f.loopedSlides),t>i-1&&(t-=i),0>t&&"bullets"!==f.params.paginationType&&(t=i+t)):t="undefined"!=typeof f.snapIndex?f.snapIndex:f.activeIndex||0,"bullets"===f.params.paginationType&&f.bullets&&f.bullets.length>0&&(f.bullets.removeClass(f.params.bulletActiveClass),f.paginationContainer.length>1?f.bullets.each(function(){n(this).index()===t&&n(this).addClass(f.params.bulletActiveClass)}):f.bullets.eq(t).addClass(f.params.bulletActiveClass)),"fraction"===f.params.paginationType&&(f.paginationContainer.find("."+f.params.paginationCurrentClass).text(t+1),f.paginationContainer.find("."+f.params.paginationTotalClass).text(i)),"progress"===f.params.paginationType){var o=(t+1)/i,s=o,h=1;f.isHorizontal()||(h=o,s=1);f.paginationContainer.find("."+f.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+s+") scaleY("+h+")").transition(f.params.speed)}"custom"===f.params.paginationType&&f.params.paginationCustomRender&&(f.paginationContainer.html(f.params.paginationCustomRender(f,t+1,i)),f.emit("onPaginationRendered",f,f.paginationContainer[0]))}f.params.loop||(f.params.prevButton&&f.prevButton&&f.prevButton.length>0&&(f.isBeginning?(f.prevButton.addClass(f.params.buttonDisabledClass),f.params.a11y&&f.a11y&&f.a11y.disable(f.prevButton)):(f.prevButton.removeClass(f.params.buttonDisabledClass),f.params.a11y&&f.a11y&&f.a11y.enable(f.prevButton))),f.params.nextButton&&f.nextButton&&f.nextButton.length>0&&(f.isEnd?(f.nextButton.addClass(f.params.buttonDisabledClass),f.params.a11y&&f.a11y&&f.a11y.disable(f.nextButton)):(f.nextButton.removeClass(f.params.buttonDisabledClass),f.params.a11y&&f.a11y&&f.a11y.enable(f.nextButton))))};f.updatePagination=function(){var n,i,t;if(f.params.pagination&&f.paginationContainer&&f.paginationContainer.length>0){if(n="","bullets"===f.params.paginationType){for(i=f.params.loop?Math.ceil((f.slides.length-2*f.loopedSlides)/f.params.slidesPerGroup):f.snapGrid.length,t=0;i>t;t++)n+=f.params.paginationBulletRender?f.params.paginationBulletRender(t,f.params.bulletClass):"<"+f.params.paginationElement+' class="'+f.params.bulletClass+'"><\/'+f.params.paginationElement+">";f.paginationContainer.html(n);f.bullets=f.paginationContainer.find("."+f.params.bulletClass);f.params.paginationClickable&&f.params.a11y&&f.a11y&&f.a11y.initPagination()}"fraction"===f.params.paginationType&&(n=f.params.paginationFractionRender?f.params.paginationFractionRender(f,f.params.paginationCurrentClass,f.params.paginationTotalClass):'<span class="'+f.params.paginationCurrentClass+'"><\/span> / <span class="'+f.params.paginationTotalClass+'"><\/span>',f.paginationContainer.html(n));"progress"===f.params.paginationType&&(n=f.params.paginationProgressRender?f.params.paginationProgressRender(f,f.params.paginationProgressbarClass):'<span class="'+f.params.paginationProgressbarClass+'"><\/span>',f.paginationContainer.html(n));"custom"!==f.params.paginationType&&f.emit("onPaginationRendered",f,f.paginationContainer[0])}};f.update=function(n){function t(){r=Math.min(Math.max(f.translate,f.maxTranslate()),f.minTranslate());f.setWrapperTranslate(r);f.updateActiveIndex();f.updateClasses()}if(f.updateContainerSize(),f.updateSlidesSize(),f.updateProgress(),f.updatePagination(),f.updateClasses(),f.params.scrollbar&&f.scrollbar&&f.scrollbar.set(),n){var i,r;f.controller&&f.controller.spline&&(f.controller.spline=void 0);f.params.freeMode?(t(),f.params.autoHeight&&f.updateAutoHeight()):(i=("auto"===f.params.slidesPerView||f.params.slidesPerView>1)&&f.isEnd&&!f.params.centeredSlides?f.slideTo(f.slides.length-1,0,!1,!0):f.slideTo(f.activeIndex,0,!1,!0),i||t())}else f.params.autoHeight&&f.updateAutoHeight()};f.onResize=function(n){var i,r,t,u;f.params.breakpoints&&f.setBreakpoint();i=f.params.allowSwipeToPrev;r=f.params.allowSwipeToNext;f.params.allowSwipeToPrev=f.params.allowSwipeToNext=!0;f.updateContainerSize();f.updateSlidesSize();("auto"===f.params.slidesPerView||f.params.freeMode||n)&&f.updatePagination();f.params.scrollbar&&f.scrollbar&&f.scrollbar.set();f.controller&&f.controller.spline&&(f.controller.spline=void 0);t=!1;f.params.freeMode?(u=Math.min(Math.max(f.translate,f.maxTranslate()),f.minTranslate()),f.setWrapperTranslate(u),f.updateActiveIndex(),f.updateClasses(),f.params.autoHeight&&f.updateAutoHeight()):(f.updateClasses(),t=("auto"===f.params.slidesPerView||f.params.slidesPerView>1)&&f.isEnd&&!f.params.centeredSlides?f.slideTo(f.slides.length-1,0,!1,!0):f.slideTo(f.activeIndex,0,!1,!0));f.params.lazyLoading&&!t&&f.lazy&&f.lazy.load();f.params.allowSwipeToPrev=i;f.params.allowSwipeToNext=r};v=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?v=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(v=["MSPointerDown","MSPointerMove","MSPointerUp"]);f.touchEvents={start:f.support.touch||!f.params.simulateTouch?"touchstart":v[0],move:f.support.touch||!f.params.simulateTouch?"touchmove":v[1],end:f.support.touch||!f.params.simulateTouch?"touchend":v[2]};(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===f.params.touchEventsTarget?f.container:f.wrapper).addClass("swiper-wp8-"+f.params.direction);f.initEvents=function(n){var r=n?"off":"on",t=n?"removeEventListener":"addEventListener",i="container"===f.params.touchEventsTarget?f.container[0]:f.wrapper[0],o=f.support.touch?i:document,e=f.params.nested?!0:!1;f.browser.ie?(i[t](f.touchEvents.start,f.onTouchStart,!1),o[t](f.touchEvents.move,f.onTouchMove,e),o[t](f.touchEvents.end,f.onTouchEnd,!1)):(f.support.touch&&(i[t](f.touchEvents.start,f.onTouchStart,!1),i[t](f.touchEvents.move,f.onTouchMove,e),i[t](f.touchEvents.end,f.onTouchEnd,!1)),!u.simulateTouch||f.device.ios||f.device.android||(i[t]("mousedown",f.onTouchStart,!1),document[t]("mousemove",f.onTouchMove,e),document[t]("mouseup",f.onTouchEnd,!1)));window[t]("resize",f.onResize);f.params.nextButton&&f.nextButton&&f.nextButton.length>0&&(f.nextButton[r]("click",f.onClickNext),f.params.a11y&&f.a11y&&f.nextButton[r]("keydown",f.a11y.onEnterKey));f.params.prevButton&&f.prevButton&&f.prevButton.length>0&&(f.prevButton[r]("click",f.onClickPrev),f.params.a11y&&f.a11y&&f.prevButton[r]("keydown",f.a11y.onEnterKey));f.params.pagination&&f.params.paginationClickable&&(f.paginationContainer[r]("click","."+f.params.bulletClass,f.onClickIndex),f.params.a11y&&f.a11y&&f.paginationContainer[r]("keydown","."+f.params.bulletClass,f.a11y.onEnterKey));(f.params.preventClicks||f.params.preventClicksPropagation)&&i[t]("click",f.preventClicks,!0)};f.attachEvents=function(){f.initEvents()};f.detachEvents=function(){f.initEvents(!0)};f.allowClick=!0;f.preventClicks=function(n){f.allowClick||(f.params.preventClicks&&n.preventDefault(),f.params.preventClicksPropagation&&f.animating&&(n.stopPropagation(),n.stopImmediatePropagation()))};f.onClickNext=function(n){n.preventDefault();(!f.isEnd||f.params.loop)&&f.slideNext()};f.onClickPrev=function(n){n.preventDefault();(!f.isBeginning||f.params.loop)&&f.slidePrev()};f.onClickIndex=function(t){t.preventDefault();var i=n(this).index()*f.params.slidesPerGroup;f.params.loop&&(i+=f.loopedSlides);f.slideTo(i)};f.updateClickedSlide=function(t){var r=et(t,"."+f.params.slideClass),o=!1,u,e,i;if(r)for(u=0;u<f.slides.length;u++)f.slides[u]===r&&(o=!0);if(!r||!o)return f.clickedSlide=void 0,void(f.clickedIndex=void 0);if(f.clickedSlide=r,f.clickedIndex=n(r).index(),f.params.slideToClickedSlide&&void 0!==f.clickedIndex&&f.clickedIndex!==f.activeIndex)if(i=f.clickedIndex,f.params.loop){if(f.animating)return;e=n(f.clickedSlide).attr("data-swiper-slide-index");f.params.centeredSlides?i<f.loopedSlides-f.params.slidesPerView/2||i>f.slides.length-f.loopedSlides+f.params.slidesPerView/2?(f.fixLoop(),i=f.wrapper.children("."+f.params.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){f.slideTo(i)},0)):f.slideTo(i):i>f.slides.length-f.params.slidesPerView?(f.fixLoop(),i=f.wrapper.children("."+f.params.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){f.slideTo(i)},0)):f.slideTo(i)}else f.slideTo(i)};var c,l,g,nt,w,e,s,tt,b,it,lt="input, select, textarea, button",at=Date.now(),a=[];if(f.animating=!1,f.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0},f.onTouchStart=function(t){var i,u,r;if(t.originalEvent&&(t=t.originalEvent),rt="touchstart"===t.type,rt||!("which"in t)||3!==t.which){if(f.params.noSwiping&&et(t,"."+f.params.noSwipingClass))return void(f.allowClick=!0);(!f.params.swipeHandler||et(t,f.params.swipeHandler))&&(i=f.touches.currentX="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,u=f.touches.currentY="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,f.device.ios&&f.params.iOSEdgeSwipeDetection&&i<=f.params.iOSEdgeSwipeThreshold||((c=!0,l=!1,g=!0,w=void 0,ut=void 0,f.touches.startX=i,f.touches.startY=u,nt=Date.now(),f.allowClick=!0,f.updateContainerSize(),f.swipeDirection=void 0,f.params.threshold>0&&(tt=!1),"touchstart"!==t.type)&&(r=!0,n(t.target).is(lt)&&(r=!1),document.activeElement&&n(document.activeElement).is(lt)&&document.activeElement.blur(),r&&t.preventDefault()),f.emit("onTouchStart",f,t)))}},f.onTouchMove=function(t){var o,i,r;if(t.originalEvent&&(t=t.originalEvent),!rt||"mousemove"!==t.type){if(t.preventedByNestedSwiper)return f.touches.startX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,void(f.touches.startY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY);if(f.params.onlyExternal)return f.allowClick=!1,void(c&&(f.touches.startX=f.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,f.touches.startY=f.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,nt=Date.now()));if(rt&&document.activeElement&&t.target===document.activeElement&&n(t.target).is(lt))return l=!0,void(f.allowClick=!1);if((g&&f.emit("onTouchMove",f,t),!(t.targetTouches&&t.targetTouches.length>1))&&((f.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,f.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,"undefined"==typeof w)&&(o=180*Math.atan2(Math.abs(f.touches.currentY-f.touches.startY),Math.abs(f.touches.currentX-f.touches.startX))/Math.PI,w=f.isHorizontal()?o>f.params.touchAngle:90-o>f.params.touchAngle),w&&f.emit("onTouchMoveOpposite",f,t),"undefined"==typeof ut&&f.browser.ieTouch&&(f.touches.currentX!==f.touches.startX||f.touches.currentY!==f.touches.startY)&&(ut=!0),c)){if(w)return void(c=!1);if((ut||!f.browser.ieTouch)&&(f.allowClick=!1,f.emit("onSliderMove",f,t),t.preventDefault(),f.params.touchMoveStopPropagation&&!f.params.nested&&t.stopPropagation(),l||(u.loop&&f.fixLoop(),s=f.getWrapperTranslate(),f.setWrapperTransition(0),f.animating&&f.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),f.params.autoplay&&f.autoplaying&&(f.params.autoplayDisableOnInteraction?f.stopAutoplay():f.pauseAutoplay()),it=!1,f.params.grabCursor&&(f.container[0].style.cursor="move",f.container[0].style.cursor="-webkit-grabbing",f.container[0].style.cursor="-moz-grabbin",f.container[0].style.cursor="grabbing")),l=!0,i=f.touches.diff=f.isHorizontal()?f.touches.currentX-f.touches.startX:f.touches.currentY-f.touches.startY,i*=f.params.touchRatio,f.rtl&&(i=-i),f.swipeDirection=i>0?"prev":"next",e=i+s,r=!0,i>0&&e>f.minTranslate()?(r=!1,f.params.resistance&&(e=f.minTranslate()-1+Math.pow(-f.minTranslate()+s+i,f.params.resistanceRatio))):0>i&&e<f.maxTranslate()&&(r=!1,f.params.resistance&&(e=f.maxTranslate()+1-Math.pow(f.maxTranslate()-s-i,f.params.resistanceRatio))),r&&(t.preventedByNestedSwiper=!0),!f.params.allowSwipeToNext&&"next"===f.swipeDirection&&s>e&&(e=s),!f.params.allowSwipeToPrev&&"prev"===f.swipeDirection&&e>s&&(e=s),f.params.followFinger)){if(f.params.threshold>0){if(!(Math.abs(i)>f.params.threshold||tt))return void(e=s);if(!tt)return tt=!0,f.touches.startX=f.touches.currentX,f.touches.startY=f.touches.currentY,e=s,void(f.touches.diff=f.isHorizontal()?f.touches.currentX-f.touches.startX:f.touches.currentY-f.touches.startY)}(f.params.freeMode||f.params.watchSlidesProgress)&&f.updateActiveIndex();f.params.freeMode&&(0===a.length&&a.push({position:f.touches[f.isHorizontal()?"startX":"startY"],time:nt}),a.push({position:f.touches[f.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()}));f.updateProgress(e);f.setWrapperTranslate(e)}}}},f.onTouchEnd=function(t){var w,v,o,d,tt,y,p,h,r,u,rt,ft;if(t.originalEvent&&(t=t.originalEvent),g&&f.emit("onTouchEnd",f,t),g=!1,c){if(f.params.grabCursor&&l&&c&&(f.container[0].style.cursor="move",f.container[0].style.cursor="-webkit-grab",f.container[0].style.cursor="-moz-grab",f.container[0].style.cursor="grab"),w=Date.now(),v=w-nt,f.allowClick&&(f.updateClickedSlide(t),f.emit("onTap",f,t),300>v&&w-at>300&&(b&&clearTimeout(b),b=setTimeout(function(){f&&(f.params.paginationHide&&f.paginationContainer.length>0&&!n(t.target).hasClass(f.params.bulletClass)&&f.paginationContainer.toggleClass(f.params.paginationHiddenClass),f.emit("onClick",f,t))},300)),300>v&&300>w-at&&(b&&clearTimeout(b),f.emit("onDoubleTap",f,t))),at=Date.now(),setTimeout(function(){f&&(f.allowClick=!0)},0),!c||!l||!f.swipeDirection||0===f.touches.diff||e===s)return void(c=l=!1);if(c=l=!1,o=f.params.followFinger?f.rtl?f.translate:-f.translate:-e,f.params.freeMode){if(o<-f.minTranslate())return void f.slideTo(f.activeIndex);if(o>-f.maxTranslate())return void(f.slides.length<f.snapGrid.length?f.slideTo(f.snapGrid.length-1):f.slideTo(f.slides.length-1));if(f.params.freeModeMomentum){if(a.length>1){var ut=a.pop(),et=a.pop(),st=ut.position-et.position,ot=ut.time-et.time;f.velocity=st/ot;f.velocity=f.velocity/2;Math.abs(f.velocity)<f.params.freeModeMinimumVelocity&&(f.velocity=0);(ot>150||(new window.Date).getTime()-ut.time>300)&&(f.velocity=0)}else f.velocity=0;a.length=0;var k=1e3*f.params.freeModeMomentumRatio,ht=f.velocity*k,i=f.translate+ht;if(f.rtl&&(i=-i),tt=!1,y=20*Math.abs(f.velocity)*f.params.freeModeMomentumBounceRatio,i<f.maxTranslate())f.params.freeModeMomentumBounce?(i+f.maxTranslate()<-y&&(i=f.maxTranslate()-y),d=f.maxTranslate(),tt=!0,it=!0):i=f.maxTranslate();else if(i>f.minTranslate())f.params.freeModeMomentumBounce?(i-f.minTranslate()>y&&(i=f.minTranslate()+y),d=f.minTranslate(),tt=!0,it=!0):i=f.minTranslate();else if(f.params.freeModeSticky){for(h=0,h=0;h<f.snapGrid.length;h+=1)if(f.snapGrid[h]>-i){p=h;break}i=Math.abs(f.snapGrid[p]-i)<Math.abs(f.snapGrid[p-1]-i)||"next"===f.swipeDirection?f.snapGrid[p]:f.snapGrid[p-1];f.rtl||(i=-i)}if(0!==f.velocity)k=f.rtl?Math.abs((-i-f.translate)/f.velocity):Math.abs((i-f.translate)/f.velocity);else if(f.params.freeModeSticky)return void f.slideReset();f.params.freeModeMomentumBounce&&tt?(f.updateProgress(d),f.setWrapperTransition(k),f.setWrapperTranslate(i),f.onTransitionStart(),f.animating=!0,f.wrapper.transitionEnd(function(){f&&it&&(f.emit("onMomentumBounce",f),f.setWrapperTransition(f.params.speed),f.setWrapperTranslate(d),f.wrapper.transitionEnd(function(){f&&f.onTransitionEnd()}))})):f.velocity?(f.updateProgress(i),f.setWrapperTransition(k),f.setWrapperTranslate(i),f.onTransitionStart(),f.animating||(f.animating=!0,f.wrapper.transitionEnd(function(){f&&f.onTransitionEnd()}))):f.updateProgress(i);f.updateActiveIndex()}return void((!f.params.freeModeMomentum||v>=f.params.longSwipesMs)&&(f.updateProgress(),f.updateActiveIndex()))}for(u=0,rt=f.slidesSizesGrid[0],r=0;r<f.slidesGrid.length;r+=f.params.slidesPerGroup)"undefined"!=typeof f.slidesGrid[r+f.params.slidesPerGroup]?o>=f.slidesGrid[r]&&o<f.slidesGrid[r+f.params.slidesPerGroup]&&(u=r,rt=f.slidesGrid[r+f.params.slidesPerGroup]-f.slidesGrid[r]):o>=f.slidesGrid[r]&&(u=r,rt=f.slidesGrid[f.slidesGrid.length-1]-f.slidesGrid[f.slidesGrid.length-2]);if(ft=(o-f.slidesGrid[u])/rt,v>f.params.longSwipesMs){if(!f.params.longSwipes)return void f.slideTo(f.activeIndex);"next"===f.swipeDirection&&(ft>=f.params.longSwipesRatio?f.slideTo(u+f.params.slidesPerGroup):f.slideTo(u));"prev"===f.swipeDirection&&(ft>1-f.params.longSwipesRatio?f.slideTo(u+f.params.slidesPerGroup):f.slideTo(u))}else{if(!f.params.shortSwipes)return void f.slideTo(f.activeIndex);"next"===f.swipeDirection&&f.slideTo(u+f.params.slidesPerGroup);"prev"===f.swipeDirection&&f.slideTo(u)}}},f._slideTo=function(n,t){return f.slideTo(n,t,!0,!0)},f.slideTo=function(n,t,i,r){var u,e;for("undefined"==typeof i&&(i=!0),"undefined"==typeof n&&(n=0),0>n&&(n=0),f.snapIndex=Math.floor(n/f.params.slidesPerGroup),f.snapIndex>=f.snapGrid.length&&(f.snapIndex=f.snapGrid.length-1),u=-f.snapGrid[f.snapIndex],f.params.autoplay&&f.autoplaying&&(r||!f.params.autoplayDisableOnInteraction?f.pauseAutoplay(t):f.stopAutoplay()),f.updateProgress(u),e=0;e<f.slidesGrid.length;e++)-Math.floor(100*u)>=Math.floor(100*f.slidesGrid[e])&&(n=e);return!f.params.allowSwipeToNext&&u<f.translate&&u<f.minTranslate()?!1:!f.params.allowSwipeToPrev&&u>f.translate&&u>f.maxTranslate()&&(f.activeIndex||0)!==n?!1:("undefined"==typeof t&&(t=f.params.speed),f.previousIndex=f.activeIndex||0,f.activeIndex=n,f.rtl&&-u===f.translate||!f.rtl&&u===f.translate?(f.params.autoHeight&&f.updateAutoHeight(),f.updateClasses(),"slide"!==f.params.effect&&f.setWrapperTranslate(u),!1):(f.updateClasses(),f.onTransitionStart(i),0===t?(f.setWrapperTranslate(u),f.setWrapperTransition(0),f.onTransitionEnd(i)):(f.setWrapperTranslate(u),f.setWrapperTransition(t),f.animating||(f.animating=!0,f.wrapper.transitionEnd(function(){f&&f.onTransitionEnd(i)}))),!0))},f.onTransitionStart=function(n){"undefined"==typeof n&&(n=!0);f.params.autoHeight&&f.updateAutoHeight();f.lazy&&f.lazy.onTransitionStart();n&&(f.emit("onTransitionStart",f),f.activeIndex!==f.previousIndex&&(f.emit("onSlideChangeStart",f),f.activeIndex>f.previousIndex?f.emit("onSlideNextStart",f):f.emit("onSlidePrevStart",f)))},f.onTransitionEnd=function(n){f.animating=!1;f.setWrapperTransition(0);"undefined"==typeof n&&(n=!0);f.lazy&&f.lazy.onTransitionEnd();n&&(f.emit("onTransitionEnd",f),f.activeIndex!==f.previousIndex&&(f.emit("onSlideChangeEnd",f),f.activeIndex>f.previousIndex?f.emit("onSlideNextEnd",f):f.emit("onSlidePrevEnd",f)));f.params.hashnav&&f.hashnav&&f.hashnav.setHash()},f.slideNext=function(n,t,i){return f.params.loop?f.animating?!1:(f.fixLoop(),f.container[0].clientLeft,f.slideTo(f.activeIndex+f.params.slidesPerGroup,t,n,i)):f.slideTo(f.activeIndex+f.params.slidesPerGroup,t,n,i)},f._slideNext=function(n){return f.slideNext(!0,n,!0)},f.slidePrev=function(n,t,i){return f.params.loop?f.animating?!1:(f.fixLoop(),f.container[0].clientLeft,f.slideTo(f.activeIndex-1,t,n,i)):f.slideTo(f.activeIndex-1,t,n,i)},f._slidePrev=function(n){return f.slidePrev(!0,n,!0)},f.slideReset=function(n,t){return f.slideTo(f.activeIndex,t,n)},f.setWrapperTransition=function(n,t){f.wrapper.transition(n);"slide"!==f.params.effect&&f.effects[f.params.effect]&&f.effects[f.params.effect].setTransition(n);f.params.parallax&&f.parallax&&f.parallax.setTransition(n);f.params.scrollbar&&f.scrollbar&&f.scrollbar.setTransition(n);f.params.control&&f.controller&&f.controller.setTransition(n,t);f.emit("onSetTransition",f,n)},f.setWrapperTranslate=function(n,t,i){var r=0,u=0,o,e;f.isHorizontal()?r=f.rtl?-n:n:u=n;f.params.roundLengths&&(r=k(r),u=k(u));f.params.virtualTranslate||(f.support.transforms3d?f.wrapper.transform("translate3d("+r+"px, "+u+"px, 0px)"):f.wrapper.transform("translate("+r+"px, "+u+"px)"));f.translate=f.isHorizontal()?r:u;e=f.maxTranslate()-f.minTranslate();o=0===e?0:(n-f.minTranslate())/e;o!==f.progress&&f.updateProgress(n);t&&f.updateActiveIndex();"slide"!==f.params.effect&&f.effects[f.params.effect]&&f.effects[f.params.effect].setTranslate(f.translate);f.params.parallax&&f.parallax&&f.parallax.setTranslate(f.translate);f.params.scrollbar&&f.scrollbar&&f.scrollbar.setTranslate(f.translate);f.params.control&&f.controller&&f.controller.setTranslate(f.translate,i);f.emit("onSetTranslate",f,f.translate)},f.getTranslate=function(n,t){var u,i,r,e;return"undefined"==typeof t&&(t="x"),f.params.virtualTranslate?f.rtl?-f.translate:f.translate:(r=window.getComputedStyle(n,null),window.WebKitCSSMatrix?(i=r.transform||r.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(function(n){return n.replace(",",".")}).join(", ")),e=new window.WebKitCSSMatrix("none"===i?"":i)):(e=r.MozTransform||r.OTransform||r.MsTransform||r.msTransform||r.transform||r.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),u=e.toString().split(",")),"x"===t&&(i=window.WebKitCSSMatrix?e.m41:16===u.length?parseFloat(u[12]):parseFloat(u[4])),"y"===t&&(i=window.WebKitCSSMatrix?e.m42:16===u.length?parseFloat(u[13]):parseFloat(u[5])),f.rtl&&i&&(i=-i),i||0)},f.getWrapperTranslate=function(n){return"undefined"==typeof n&&(n=f.isHorizontal()?"x":"y"),f.getTranslate(f.wrapper[0],n)},f.observers=[],f.initObservers=function(){if(f.params.observeParents)for(var t=f.container.parents(),n=0;n<t.length;n++)ot(t[n]);ot(f.container[0],{childList:!1});ot(f.wrapper[0],{attributes:!1})},f.disconnectObservers=function(){for(var n=0;n<f.observers.length;n++)f.observers[n].disconnect();f.observers=[]},f.createLoop=function(){var i,t,r,u;for(f.wrapper.children("."+f.params.slideClass+"."+f.params.slideDuplicateClass).remove(),i=f.wrapper.children("."+f.params.slideClass),"auto"!==f.params.slidesPerView||f.params.loopedSlides||(f.params.loopedSlides=i.length),f.loopedSlides=parseInt(f.params.loopedSlides||f.params.slidesPerView,10),f.loopedSlides=f.loopedSlides+f.params.loopAdditionalSlides,f.loopedSlides>i.length&&(f.loopedSlides=i.length),r=[],u=[],i.each(function(t,e){var o=n(this);t<f.loopedSlides&&u.push(e);t<i.length&&t>=i.length-f.loopedSlides&&r.push(e);o.attr("data-swiper-slide-index",t)}),t=0;t<u.length;t++)f.wrapper.append(n(u[t].cloneNode(!0)).addClass(f.params.slideDuplicateClass));for(t=r.length-1;t>=0;t--)f.wrapper.prepend(n(r[t].cloneNode(!0)).addClass(f.params.slideDuplicateClass))},f.destroyLoop=function(){f.wrapper.children("."+f.params.slideClass+"."+f.params.slideDuplicateClass).remove();f.slides.removeAttr("data-swiper-slide-index")},f.reLoop=function(n){var t=f.activeIndex-f.loopedSlides;f.destroyLoop();f.createLoop();f.updateSlidesSize();n&&f.slideTo(t+f.loopedSlides,0,!1)},f.fixLoop=function(){var n;f.activeIndex<f.loopedSlides?(n=f.slides.length-3*f.loopedSlides+f.activeIndex,n+=f.loopedSlides,f.slideTo(n,0,!1,!0)):("auto"===f.params.slidesPerView&&f.activeIndex>=2*f.loopedSlides||f.activeIndex>f.slides.length-2*f.params.slidesPerView)&&(n=-f.slides.length+f.activeIndex+f.loopedSlides,n+=f.loopedSlides,f.slideTo(n,0,!1,!0))},f.appendSlide=function(n){if(f.params.loop&&f.destroyLoop(),"object"==typeof n&&n.length)for(var t=0;t<n.length;t++)n[t]&&f.wrapper.append(n[t]);else f.wrapper.append(n);f.params.loop&&f.createLoop();f.params.observer&&f.support.observer||f.update(!0)},f.prependSlide=function(n){var i,t;if(f.params.loop&&f.destroyLoop(),i=f.activeIndex+1,"object"==typeof n&&n.length){for(t=0;t<n.length;t++)n[t]&&f.wrapper.prepend(n[t]);i=f.activeIndex+n.length}else f.wrapper.prepend(n);f.params.loop&&f.createLoop();f.params.observer&&f.support.observer||f.update(!0);f.slideTo(i,0,!1)},f.removeSlide=function(n){var i,t,r;if(f.params.loop&&(f.destroyLoop(),f.slides=f.wrapper.children("."+f.params.slideClass)),t=f.activeIndex,"object"==typeof n&&n.length){for(r=0;r<n.length;r++)i=n[r],f.slides[i]&&f.slides.eq(i).remove(),t>i&&t--;t=Math.max(t,0)}else i=n,f.slides[i]&&f.slides.eq(i).remove(),t>i&&t--,t=Math.max(t,0);f.params.loop&&f.createLoop();f.params.observer&&f.support.observer||f.update(!0);f.params.loop?f.slideTo(t+f.loopedSlides,0,!1):f.slideTo(t,0,!1)},f.removeAllSlides=function(){for(var t=[],n=0;n<f.slides.length;n++)t.push(n);f.removeSlide(t)},f.effects={fade:{setTranslate:function(){for(var r,u,n=0;n<f.slides.length;n++){var t=f.slides.eq(n),e=t[0].swiperSlideOffset,i=-e;f.params.virtualTranslate||(i-=f.translate);r=0;f.isHorizontal()||(r=i,i=0);u=f.params.fade.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);t.css({opacity:u}).transform("translate3d("+i+"px, "+r+"px, 0px)")}},setTransition:function(n){if(f.slides.transition(n),f.params.virtualTranslate&&0!==n){var t=!1;f.slides.transitionEnd(function(){if(!t&&f){t=!0;f.animating=!1;for(var i=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=0;n<i.length;n++)f.wrapper.trigger(i[n])}})}}},flip:{setTranslate:function(){for(var t,i,r,u,o=0;o<f.slides.length;o++){t=f.slides.eq(o);i=t[0].progress;f.params.flip.limitRotation&&(i=Math.max(Math.min(t[0].progress,1),-1));var l=t[0].swiperSlideOffset,a=-180*i,e=a,h=0,s=-l,c=0;(f.isHorizontal()?f.rtl&&(e=-e):(c=s,s=0,h=-e,e=0),t[0].style.zIndex=-Math.abs(Math.round(i))+f.slides.length,f.params.flip.slideShadows)&&(r=f.isHorizontal()?t.find(".swiper-slide-shadow-left"):t.find(".swiper-slide-shadow-top"),u=f.isHorizontal()?t.find(".swiper-slide-shadow-right"):t.find(".swiper-slide-shadow-bottom"),0===r.length&&(r=n('<div class="swiper-slide-shadow-'+(f.isHorizontal()?"left":"top")+'"><\/div>'),t.append(r)),0===u.length&&(u=n('<div class="swiper-slide-shadow-'+(f.isHorizontal()?"right":"bottom")+'"><\/div>'),t.append(u)),r.length&&(r[0].style.opacity=Math.max(-i,0)),u.length&&(u[0].style.opacity=Math.max(i,0)));t.transform("translate3d("+s+"px, "+c+"px, 0px) rotateX("+h+"deg) rotateY("+e+"deg)")}},setTransition:function(t){if(f.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),f.params.virtualTranslate&&0!==t){var i=!1;f.slides.eq(f.activeIndex).transitionEnd(function(){if(!i&&f&&n(this).hasClass(f.params.slideActiveClass)){i=!0;f.animating=!1;for(var r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],t=0;t<r.length;t++)f.wrapper.trigger(r[t])}})}}},cube:{setTranslate:function(){var t,e=0,i,y,h,c,b;for(f.params.cube.shadow&&(f.isHorizontal()?(t=f.wrapper.find(".swiper-cube-shadow"),0===t.length&&(t=n('<div class="swiper-cube-shadow"><\/div>'),f.wrapper.append(t)),t.css({height:f.width+"px"})):(t=f.container.find(".swiper-cube-shadow"),0===t.length&&(t=n('<div class="swiper-cube-shadow"><\/div>'),f.container.append(t)))),i=0;i<f.slides.length;i++){var u=f.slides.eq(i),o=90*i,l=Math.floor(o/360);f.rtl&&(o=-o,l=Math.floor(-o/360));var s=Math.max(Math.min(u[0].progress,1),-1),r=0,v=0,a=0;i%4==0?(r=4*-l*f.size,a=0):(i-1)%4==0?(r=0,a=4*-l*f.size):(i-2)%4==0?(r=f.size+4*l*f.size,a=f.size):(i-3)%4==0&&(r=-f.size,a=3*f.size+4*f.size*l);f.rtl&&(r=-r);f.isHorizontal()||(v=r,r=0);y="rotateX("+(f.isHorizontal()?0:-o)+"deg) rotateY("+(f.isHorizontal()?o:0)+"deg) translate3d("+r+"px, "+v+"px, "+a+"px)";(1>=s&&s>-1&&(e=90*i+90*s,f.rtl&&(e=90*-i-90*s)),u.transform(y),f.params.cube.slideShadows)&&(h=f.isHorizontal()?u.find(".swiper-slide-shadow-left"):u.find(".swiper-slide-shadow-top"),c=f.isHorizontal()?u.find(".swiper-slide-shadow-right"):u.find(".swiper-slide-shadow-bottom"),0===h.length&&(h=n('<div class="swiper-slide-shadow-'+(f.isHorizontal()?"left":"top")+'"><\/div>'),u.append(h)),0===c.length&&(c=n('<div class="swiper-slide-shadow-'+(f.isHorizontal()?"right":"bottom")+'"><\/div>'),u.append(c)),h.length&&(h[0].style.opacity=Math.max(-s,0)),c.length&&(c[0].style.opacity=Math.max(s,0)))}if(f.wrapper.css({"-webkit-transform-origin":"50% 50% -"+f.size/2+"px","-moz-transform-origin":"50% 50% -"+f.size/2+"px","-ms-transform-origin":"50% 50% -"+f.size/2+"px","transform-origin":"50% 50% -"+f.size/2+"px"}),f.params.cube.shadow)if(f.isHorizontal())t.transform("translate3d(0px, "+(f.width/2+f.params.cube.shadowOffset)+"px, "+-f.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+f.params.cube.shadowScale+")");else{var p=Math.abs(e)-90*Math.floor(Math.abs(e)/90),k=1.5-(Math.sin(2*p*Math.PI/360)/2+Math.cos(2*p*Math.PI/360)/2),d=f.params.cube.shadowScale,w=f.params.cube.shadowScale/k,g=f.params.cube.shadowOffset;t.transform("scale3d("+d+", 1, "+w+") translate3d(0px, "+(f.height/2+g)+"px, "+-f.height/2/w+"px) rotateX(-90deg)")}b=f.isSafari||f.isUiWebView?-f.size/2:0;f.wrapper.transform("translate3d(0px,0,"+b+"px) rotateX("+(f.isHorizontal()?0:e)+"deg) rotateY("+(f.isHorizontal()?-e:0)+"deg)")},setTransition:function(n){f.slides.transition(n).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(n);f.params.cube.shadow&&!f.isHorizontal()&&f.container.find(".swiper-cube-shadow").transition(n)}},coverflow:{setTranslate:function(){for(var w,r,u,b,a=f.translate,v=f.isHorizontal()?-a+f.width/2:-a+f.height/2,y=f.isHorizontal()?f.params.coverflow.rotate:-f.params.coverflow.rotate,k=f.params.coverflow.depth,e=0,d=f.slides.length;d>e;e++){var i=f.slides.eq(e),p=f.slidesSizesGrid[e],g=i[0].swiperSlideOffset,t=(v-g-p/2)/p*f.params.coverflow.modifier,o=f.isHorizontal()?y*t:0,s=f.isHorizontal()?0:y*t,h=-k*Math.abs(t),c=f.isHorizontal()?0:f.params.coverflow.stretch*t,l=f.isHorizontal()?f.params.coverflow.stretch*t:0;Math.abs(l)<.001&&(l=0);Math.abs(c)<.001&&(c=0);Math.abs(h)<.001&&(h=0);Math.abs(o)<.001&&(o=0);Math.abs(s)<.001&&(s=0);w="translate3d("+l+"px,"+c+"px,"+h+"px)  rotateX("+s+"deg) rotateY("+o+"deg)";(i.transform(w),i[0].style.zIndex=-Math.abs(Math.round(t))+1,f.params.coverflow.slideShadows)&&(r=f.isHorizontal()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top"),u=f.isHorizontal()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom"),0===r.length&&(r=n('<div class="swiper-slide-shadow-'+(f.isHorizontal()?"left":"top")+'"><\/div>'),i.append(r)),0===u.length&&(u=n('<div class="swiper-slide-shadow-'+(f.isHorizontal()?"right":"bottom")+'"><\/div>'),i.append(u)),r.length&&(r[0].style.opacity=t>0?t:0),u.length&&(u[0].style.opacity=-t>0?-t:0))}f.browser.ie&&(b=f.wrapper[0].style,b.perspectiveOrigin=v+"px 50%")},setTransition:function(n){f.slides.transition(n).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(n)}}},f.lazy={initialImageLoaded:!1,loadImageInSlide:function(t,i){if("undefined"!=typeof t&&("undefined"==typeof i&&(i=!0),0!==f.slides.length)){var r=f.slides.eq(t),u=r.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!r.hasClass("swiper-lazy")||r.hasClass("swiper-lazy-loaded")||r.hasClass("swiper-lazy-loading")||(u=u.add(r[0]));0!==u.length&&u.each(function(){var t=n(this);t.addClass("swiper-lazy-loading");var u=t.attr("data-background"),e=t.attr("data-src"),o=t.attr("data-srcset");f.loadImage(t[0],e||u,o,!1,function(){var n,s,h;(u?(t.css("background-image",'url("'+u+'")'),t.removeAttr("data-background")):(o&&(t.attr("srcset",o),t.removeAttr("data-srcset")),e&&(t.attr("src",e),t.removeAttr("data-src"))),t.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),r.find(".swiper-lazy-preloader, .preloader").remove(),f.params.loop&&i)&&(n=r.attr("data-swiper-slide-index"),r.hasClass(f.params.slideDuplicateClass)?(s=f.wrapper.children('[data-swiper-slide-index="'+n+'"]:not(.'+f.params.slideDuplicateClass+")"),f.lazy.loadImageInSlide(s.index(),!1)):(h=f.wrapper.children("."+f.params.slideDuplicateClass+'[data-swiper-slide-index="'+n+'"]'),f.lazy.loadImageInSlide(h.index(),!1)));f.emit("onLazyImageReady",f,r[0],t[0])});f.emit("onLazyImageLoad",f,r[0],t[0])})}},load:function(){var t,r,u;if(f.params.watchSlidesVisibility)f.wrapper.children("."+f.params.slideVisibleClass).each(function(){f.lazy.loadImageInSlide(n(this).index())});else if(f.params.slidesPerView>1)for(t=f.activeIndex;t<f.activeIndex+f.params.slidesPerView;t++)f.slides[t]&&f.lazy.loadImageInSlide(t);else f.lazy.loadImageInSlide(f.activeIndex);if(f.params.lazyLoadingInPrevNext)if(f.params.slidesPerView>1||f.params.lazyLoadingInPrevNextAmount&&f.params.lazyLoadingInPrevNextAmount>1){var e=f.params.lazyLoadingInPrevNextAmount,i=f.params.slidesPerView,o=Math.min(f.activeIndex+i+Math.max(e,i),f.slides.length),s=Math.max(f.activeIndex-Math.max(i,e),0);for(t=f.activeIndex+f.params.slidesPerView;o>t;t++)f.slides[t]&&f.lazy.loadImageInSlide(t);for(t=s;t<f.activeIndex;t++)f.slides[t]&&f.lazy.loadImageInSlide(t)}else r=f.wrapper.children("."+f.params.slideNextClass),r.length>0&&f.lazy.loadImageInSlide(r.index()),u=f.wrapper.children("."+f.params.slidePrevClass),u.length>0&&f.lazy.loadImageInSlide(u.index())},onTransitionStart:function(){f.params.lazyLoading&&(f.params.lazyLoadingOnTransitionStart||!f.params.lazyLoadingOnTransitionStart&&!f.lazy.initialImageLoaded)&&f.lazy.load()},onTransitionEnd:function(){f.params.lazyLoading&&!f.params.lazyLoadingOnTransitionStart&&f.lazy.load()}},f.scrollbar={isTouched:!1,setDragPosition:function(n){var i=f.scrollbar,e=f.isHorizontal()?"touchstart"===n.type||"touchmove"===n.type?n.targetTouches[0].pageX:n.pageX||n.clientX:"touchstart"===n.type||"touchmove"===n.type?n.targetTouches[0].pageY:n.pageY||n.clientY,t=e-i.track.offset()[f.isHorizontal()?"left":"top"]-i.dragSize/2,r=-f.minTranslate()*i.moveDivider,u=-f.maxTranslate()*i.moveDivider;r>t?t=r:t>u&&(t=u);t=-t/i.moveDivider;f.updateProgress(t);f.setWrapperTranslate(t,!0)},dragStart:function(n){var t=f.scrollbar;t.isTouched=!0;n.preventDefault();n.stopPropagation();t.setDragPosition(n);clearTimeout(t.dragTimeout);t.track.transition(0);f.params.scrollbarHide&&t.track.css("opacity",1);f.wrapper.transition(100);t.drag.transition(100);f.emit("onScrollbarDragStart",f)},dragMove:function(n){var t=f.scrollbar;t.isTouched&&(n.preventDefault?n.preventDefault():n.returnValue=!1,t.setDragPosition(n),f.wrapper.transition(0),t.track.transition(0),t.drag.transition(0),f.emit("onScrollbarDragMove",f))},dragEnd:function(){var n=f.scrollbar;n.isTouched&&(n.isTouched=!1,f.params.scrollbarHide&&(clearTimeout(n.dragTimeout),n.dragTimeout=setTimeout(function(){n.track.css("opacity",0);n.track.transition(400)},1e3)),f.emit("onScrollbarDragEnd",f),f.params.scrollbarSnapOnRelease&&f.slideReset())},enableDraggable:function(){var t=f.scrollbar,i=f.support.touch?t.track:document;n(t.track).on(f.touchEvents.start,t.dragStart);n(i).on(f.touchEvents.move,t.dragMove);n(i).on(f.touchEvents.end,t.dragEnd)},disableDraggable:function(){var t=f.scrollbar,i=f.support.touch?t.track:document;n(t.track).off(f.touchEvents.start,t.dragStart);n(i).off(f.touchEvents.move,t.dragMove);n(i).off(f.touchEvents.end,t.dragEnd)},set:function(){if(f.params.scrollbar){var t=f.scrollbar;t.track=n(f.params.scrollbar);f.params.uniqueNavElements&&"string"==typeof f.params.scrollbar&&t.track.length>1&&1===f.container.find(f.params.scrollbar).length&&(t.track=f.container.find(f.params.scrollbar));t.drag=t.track.find(".swiper-scrollbar-drag");0===t.drag.length&&(t.drag=n('<div class="swiper-scrollbar-drag"><\/div>'),t.track.append(t.drag));t.drag[0].style.width="";t.drag[0].style.height="";t.trackSize=f.isHorizontal()?t.track[0].offsetWidth:t.track[0].offsetHeight;t.divider=f.size/f.virtualSize;t.moveDivider=t.divider*(t.trackSize/f.size);t.dragSize=t.trackSize*t.divider;f.isHorizontal()?t.drag[0].style.width=t.dragSize+"px":t.drag[0].style.height=t.dragSize+"px";t.track[0].style.display=t.divider>=1?"none":"";f.params.scrollbarHide&&(t.track[0].style.opacity=0)}},setTranslate:function(){if(f.params.scrollbar){var t,n=f.scrollbar,i=(f.translate||0,n.dragSize);t=(n.trackSize-n.dragSize)*f.progress;f.rtl&&f.isHorizontal()?(t=-t,t>0?(i=n.dragSize-t,t=0):-t+n.dragSize>n.trackSize&&(i=n.trackSize+t)):0>t?(i=n.dragSize+t,t=0):t+n.dragSize>n.trackSize&&(i=n.trackSize-t);f.isHorizontal()?(f.support.transforms3d?n.drag.transform("translate3d("+t+"px, 0, 0)"):n.drag.transform("translateX("+t+"px)"),n.drag[0].style.width=i+"px"):(f.support.transforms3d?n.drag.transform("translate3d(0px, "+t+"px, 0)"):n.drag.transform("translateY("+t+"px)"),n.drag[0].style.height=i+"px");f.params.scrollbarHide&&(clearTimeout(n.timeout),n.track[0].style.opacity=1,n.timeout=setTimeout(function(){n.track[0].style.opacity=0;n.track.transition(400)},1e3))}},setTransition:function(n){f.params.scrollbar&&f.scrollbar.drag.transition(n)}},f.controller={LinearSpline:function(n,t){var i,r,u;this.x=n;this.y=t;this.lastIndex=n.length-1;this.x.length;this.interpolate=function(n){return n?(r=u(this.x,n),i=r-1,(n-this.x[i])*(this.y[r]-this.y[i])/(this.x[r]-this.x[i])+this.y[i]):0};u=function(){var n,t,i;return function(r,u){for(t=-1,n=r.length;n-t>1;)r[i=n+t>>1]<=u?t=i:n=i;return n}}()},getInterpolateFunction:function(n){f.controller.spline||(f.controller.spline=f.params.loop?new f.controller.LinearSpline(f.slidesGrid,n.slidesGrid):new f.controller.LinearSpline(f.snapGrid,n.snapGrid))},setTranslate:function(n,i){function o(t){n=t.rtl&&"horizontal"===t.params.direction?-f.translate:f.translate;"slide"===f.params.controlBy&&(f.controller.getInterpolateFunction(t),u=-f.controller.spline.interpolate(-n));u&&"container"!==f.params.controlBy||(s=(t.maxTranslate()-t.minTranslate())/(f.maxTranslate()-f.minTranslate()),u=(n-f.minTranslate())*s+t.minTranslate());f.params.controlInverse&&(u=t.maxTranslate()-u);t.updateProgress(u);t.setWrapperTranslate(u,!1,f);t.updateActiveIndex()}var s,u,r=f.params.control,e;if(f.isArray(r))for(e=0;e<r.length;e++)r[e]!==i&&r[e]instanceof t&&o(r[e]);else r instanceof t&&i!==r&&o(r)},setTransition:function(n,i){function e(t){t.setWrapperTransition(n,f);0!==n&&(t.onTransitionStart(),t.wrapper.transitionEnd(function(){r&&(t.params.loop&&"slide"===f.params.controlBy&&t.fixLoop(),t.onTransitionEnd())}))}var u,r=f.params.control;if(f.isArray(r))for(u=0;u<r.length;u++)r[u]!==i&&r[u]instanceof t&&e(r[u]);else r instanceof t&&i!==r&&e(r)}},f.hashnav={init:function(){var t,n,r,u;if(f.params.hashnav&&(f.hashnav.initialized=!0,t=document.location.hash.replace("#",""),t))for(var i=0,e=f.slides.length;e>i;i++)n=f.slides.eq(i),r=n.attr("data-hash"),r!==t||n.hasClass(f.params.slideDuplicateClass)||(u=n.index(),f.slideTo(u,0,f.params.runCallbacksOnInit,!0))},setHash:function(){f.hashnav.initialized&&f.params.hashnav&&(document.location.hash=f.slides.eq(f.activeIndex).attr("data-hash")||"")}},f.disableKeyboardControl=function(){f.params.keyboardControl=!1;n(document).off("keydown",pt)},f.enableKeyboardControl=function(){f.params.keyboardControl=!0;n(document).on("keydown",pt)},f.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},f.params.mousewheelControl){try{new window.WheelEvent("wheel");f.mousewheel.event="wheel"}catch(dt){(window.WheelEvent||f.container[0]&&"wheel"in f.container[0])&&(f.mousewheel.event="wheel")}f.mousewheel.event||window.WheelEvent;f.mousewheel.event||void 0===document.onmousewheel||(f.mousewheel.event="mousewheel");f.mousewheel.event||(f.mousewheel.event="DOMMouseScroll")}f.disableMousewheelControl=function(){return f.mousewheel.event?(f.container.off(f.mousewheel.event,wt),!0):!1};f.enableMousewheelControl=function(){return f.mousewheel.event?(f.container.on(f.mousewheel.event,wt),!0):!1};f.parallax={setTranslate:function(){f.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){bt(this,f.progress)});f.slides.each(function(){var t=n(this);t.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var n=Math.min(Math.max(t[0].progress,-1),1);bt(this,n)})})},setTransition:function(t){"undefined"==typeof t&&(t=f.params.speed);f.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var i=n(this),r=parseInt(i.attr("data-swiper-parallax-duration"),10)||t;0===t&&(r=0);i.transition(r)})}};f._plugins=[];for(vt in f.plugins)yt=f.plugins[vt](f,f.params[vt]),yt&&f._plugins.push(yt);return f.callPlugins=function(n){for(var t=0;t<f._plugins.length;t++)n in f._plugins[t]&&f._plugins[t][n](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},f.emitterEventListeners={},f.emit=function(n){f.params[n]&&f.params[n](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var t;if(f.emitterEventListeners[n])for(t=0;t<f.emitterEventListeners[n].length;t++)f.emitterEventListeners[n][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);f.callPlugins&&f.callPlugins(n,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},f.on=function(n,t){return n=st(n),f.emitterEventListeners[n]||(f.emitterEventListeners[n]=[]),f.emitterEventListeners[n].push(t),f},f.off=function(n,t){var i;if(n=st(n),"undefined"==typeof t)return f.emitterEventListeners[n]=[],f;if(f.emitterEventListeners[n]&&0!==f.emitterEventListeners[n].length){for(i=0;i<f.emitterEventListeners[n].length;i++)f.emitterEventListeners[n][i]===t&&f.emitterEventListeners[n].splice(i,1);return f}},f.once=function(n,t){n=st(n);var i=function(){t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);f.off(n,i)};return f.on(n,i),f},f.a11y={makeFocusable:function(n){return n.attr("tabIndex","0"),n},addRole:function(n,t){return n.attr("role",t),n},addLabel:function(n,t){return n.attr("aria-label",t),n},disable:function(n){return n.attr("aria-disabled",!0),n},enable:function(n){return n.attr("aria-disabled",!1),n},onEnterKey:function(t){13===t.keyCode&&(n(t.target).is(f.params.nextButton)?(f.onClickNext(t),f.isEnd?f.a11y.notify(f.params.lastSlideMessage):f.a11y.notify(f.params.nextSlideMessage)):n(t.target).is(f.params.prevButton)&&(f.onClickPrev(t),f.isBeginning?f.a11y.notify(f.params.firstSlideMessage):f.a11y.notify(f.params.prevSlideMessage)),n(t.target).is("."+f.params.bulletClass)&&n(t.target)[0].click())},liveRegion:n('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"><\/span>'),notify:function(n){var t=f.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(n))},init:function(){f.params.nextButton&&f.nextButton&&f.nextButton.length>0&&(f.a11y.makeFocusable(f.nextButton),f.a11y.addRole(f.nextButton,"button"),f.a11y.addLabel(f.nextButton,f.params.nextSlideMessage));f.params.prevButton&&f.prevButton&&f.prevButton.length>0&&(f.a11y.makeFocusable(f.prevButton),f.a11y.addRole(f.prevButton,"button"),f.a11y.addLabel(f.prevButton,f.params.prevSlideMessage));n(f.container).append(f.a11y.liveRegion)},initPagination:function(){f.params.pagination&&f.params.paginationClickable&&f.bullets&&f.bullets.length&&f.bullets.each(function(){var t=n(this);f.a11y.makeFocusable(t);f.a11y.addRole(t,"button");f.a11y.addLabel(t,f.params.paginationBulletMessage.replace(/{{index}}/,t.index()+1))})},destroy:function(){f.a11y.liveRegion&&f.a11y.liveRegion.length>0&&f.a11y.liveRegion.remove()}},f.init=function(){f.params.loop&&f.createLoop();f.updateContainerSize();f.updateSlidesSize();f.updatePagination();f.params.scrollbar&&f.scrollbar&&(f.scrollbar.set(),f.params.scrollbarDraggable&&f.scrollbar.enableDraggable());"slide"!==f.params.effect&&f.effects[f.params.effect]&&(f.params.loop||f.updateProgress(),f.effects[f.params.effect].setTranslate());f.params.loop?f.slideTo(f.params.initialSlide+f.loopedSlides,0,f.params.runCallbacksOnInit):(f.slideTo(f.params.initialSlide,0,f.params.runCallbacksOnInit),0===f.params.initialSlide&&(f.parallax&&f.params.parallax&&f.parallax.setTranslate(),f.lazy&&f.params.lazyLoading&&(f.lazy.load(),f.lazy.initialImageLoaded=!0)));f.attachEvents();f.params.observer&&f.support.observer&&f.initObservers();f.params.preloadImages&&!f.params.lazyLoading&&f.preloadImages();f.params.autoplay&&f.startAutoplay();f.params.keyboardControl&&f.enableKeyboardControl&&f.enableKeyboardControl();f.params.mousewheelControl&&f.enableMousewheelControl&&f.enableMousewheelControl();f.params.hashnav&&f.hashnav&&f.hashnav.init();f.params.a11y&&f.a11y&&f.a11y.init();f.emit("onInit",f)},f.cleanupStyles=function(){f.container.removeClass(f.classNames.join(" ")).removeAttr("style");f.wrapper.removeAttr("style");f.slides&&f.slides.length&&f.slides.removeClass([f.params.slideVisibleClass,f.params.slideActiveClass,f.params.slideNextClass,f.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row");f.paginationContainer&&f.paginationContainer.length&&f.paginationContainer.removeClass(f.params.paginationHiddenClass);f.bullets&&f.bullets.length&&f.bullets.removeClass(f.params.bulletActiveClass);f.params.prevButton&&n(f.params.prevButton).removeClass(f.params.buttonDisabledClass);f.params.nextButton&&n(f.params.nextButton).removeClass(f.params.buttonDisabledClass);f.params.scrollbar&&f.scrollbar&&(f.scrollbar.track&&f.scrollbar.track.length&&f.scrollbar.track.removeAttr("style"),f.scrollbar.drag&&f.scrollbar.drag.length&&f.scrollbar.drag.removeAttr("style"))},f.destroy=function(n,t){f.detachEvents();f.stopAutoplay();f.params.scrollbar&&f.scrollbar&&f.params.scrollbarDraggable&&f.scrollbar.disableDraggable();f.params.loop&&f.destroyLoop();t&&f.cleanupStyles();f.disconnectObservers();f.params.keyboardControl&&f.disableKeyboardControl&&f.disableKeyboardControl();f.params.mousewheelControl&&f.disableMousewheelControl&&f.disableMousewheelControl();f.params.a11y&&f.a11y&&f.a11y.destroy();f.emit("onDestroy");n!==!1&&(f=null)},f.init(),f}},r;t.prototype={isSafari:function(){var n=navigator.userAgent.toLowerCase();return n.indexOf("safari")>=0&&n.indexOf("chrome")<0&&n.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(n){return"[object Array]"===Object.prototype.toString.apply(n)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var n=navigator.userAgent,i=n.match(/(Android);?[\s\/]+([\d.]+)?/),t=n.match(/(iPad).*OS\s([\d_]+)/),r=n.match(/(iPod)(.*OS\s([\d_]+))?/),u=!t&&n.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:t||u||r,android:i}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var n=document.createElement("div").style;return"webkitPerspective"in n||"MozPerspective"in n||"OPerspective"in n||"MsPerspective"in n||"perspective"in n}(),flexbox:function(){for(var i=document.createElement("div").style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),n=0;n<t.length;n++)if(t[n]in i)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};for(var i=function(){var t=function(n){for(var i=this,t=0,t=0;t<n.length;t++)i[t]=n[t];return i.length=n.length,this},n=function(n,i){var e=[],r=0,o,s,u,f;if(n&&!i&&n instanceof t)return n;if(n)if("string"==typeof n)if(u=n.trim(),u.indexOf("<")>=0&&u.indexOf(">")>=0)for(f="div",0===u.indexOf("<li")&&(f="ul"),0===u.indexOf("<tr")&&(f="tbody"),(0===u.indexOf("<td")||0===u.indexOf("<th"))&&(f="tr"),0===u.indexOf("<tbody")&&(f="table"),0===u.indexOf("<option")&&(f="select"),s=document.createElement(f),s.innerHTML=n,r=0;r<s.childNodes.length;r++)e.push(s.childNodes[r]);else for(o=i||"#"!==n[0]||n.match(/[ .<>:~]/)?(i||document).querySelectorAll(n):[document.getElementById(n.split("#")[1])],r=0;r<o.length;r++)o[r]&&e.push(o[r]);else if(n.nodeType||n===window||n===document)e.push(n);else if(n.length>0&&n[0].nodeType)for(r=0;r<n.length;r++)e.push(n[r]);return new t(e)};return t.prototype={addClass:function(n){var r,t,i;if("undefined"==typeof n)return this;for(r=n.split(" "),t=0;t<r.length;t++)for(i=0;i<this.length;i++)this[i].classList.add(r[t]);return this},removeClass:function(n){for(var i,r=n.split(" "),t=0;t<r.length;t++)for(i=0;i<this.length;i++)this[i].classList.remove(r[t]);return this},hasClass:function(n){return this[0]?this[0].classList.contains(n):!1},toggleClass:function(n){for(var i,r=n.split(" "),t=0;t<r.length;t++)for(i=0;i<this.length;i++)this[i].classList.toggle(r[t]);return this},attr:function(n,t){var i,r;if(1===arguments.length&&"string"==typeof n)return this[0]?this[0].getAttribute(n):void 0;for(i=0;i<this.length;i++)if(2===arguments.length)this[i].setAttribute(n,t);else for(r in n)this[i][r]=n[r],this[i].setAttribute(r,n[r]);return this},removeAttr:function(n){for(var t=0;t<this.length;t++)this[t].removeAttribute(n);return this},data:function(n,t){var i,r,u;if("undefined"!=typeof t){for(i=0;i<this.length;i++)r=this[i],r.dom7ElementDataStorage||(r.dom7ElementDataStorage={}),r.dom7ElementDataStorage[n]=t;return this}if(this[0])return u=this[0].getAttribute("data-"+n),u?u:this[0].dom7ElementDataStorage&&n in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[n]:void 0},transform:function(n){for(var t,i=0;i<this.length;i++)t=this[i].style,t.webkitTransform=t.MsTransform=t.msTransform=t.MozTransform=t.OTransform=t.transform=n;return this},transition:function(n){var i,t;for("string"!=typeof n&&(n+="ms"),i=0;i<this.length;i++)t=this[i].style,t.webkitTransitionDuration=t.MsTransitionDuration=t.msTransitionDuration=t.MozTransitionDuration=t.OTransitionDuration=t.transitionDuration=n;return this},on:function(t,i,r,u){function s(t){var e=t.target,f,u;if(n(e).is(i))r.call(e,t);else for(f=n(e).parents(),u=0;u<f.length;u++)n(f[u]).is(i)&&r.call(f[u],t)}for(var e,o=t.split(" "),f=0;f<this.length;f++)if("function"==typeof i||i===!1)for("function"==typeof i&&(r=arguments[1],u=arguments[2]||!1),e=0;e<o.length;e++)this[f].addEventListener(o[e],r,u);else for(e=0;e<o.length;e++)this[f].dom7LiveListeners||(this[f].dom7LiveListeners=[]),this[f].dom7LiveListeners.push({listener:r,liveListener:s}),this[f].addEventListener(o[e],s,u);return this},off:function(n,t,i,r){for(var u,e,o=n.split(" "),f=0;f<o.length;f++)for(u=0;u<this.length;u++)if("function"==typeof t||t===!1)"function"==typeof t&&(i=arguments[1],r=arguments[2]||!1),this[u].removeEventListener(o[f],i,r);else if(this[u].dom7LiveListeners)for(e=0;e<this[u].dom7LiveListeners.length;e++)this[u].dom7LiveListeners[e].listener===i&&this[u].removeEventListener(o[f],this[u].dom7LiveListeners[e].liveListener,r);return this},once:function(n,t,i,r){function u(e){i(e);f.off(n,t,u,r)}var f=this;"function"==typeof t&&(t=!1,i=arguments[1],r=arguments[2]);f.on(n,t,u,r)},trigger:function(n,t){for(var i,r=0;r<this.length;r++){try{i=new window.CustomEvent(n,{detail:t,bubbles:!0,cancelable:!0})}catch(u){i=document.createEvent("Event");i.initEvent(n,!0,!0);i.detail=t}this[r].dispatchEvent(i)}return this},transitionEnd:function(n){function r(f){if(f.target===this)for(n.call(this,f),t=0;t<i.length;t++)u.off(i[t],r)}var t,i=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],u=this;if(n)for(t=0;t<i.length;t++)u.on(i[t],r);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(n){return this.length>0?n?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(n){return this.length>0?n?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var n=this[0],t=n.getBoundingClientRect(),i=document.body,r=n.clientTop||i.clientTop||0,u=n.clientLeft||i.clientLeft||0,f=window.pageYOffset||n.scrollTop,e=window.pageXOffset||n.scrollLeft;return{top:t.top+f-r,left:t.left+e-u}}return null},css:function(n,t){var i,r;if(1===arguments.length){if("string"!=typeof n){for(i=0;i<this.length;i++)for(r in n)this[i].style[r]=n[r];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(n)}if(2===arguments.length&&"string"==typeof n){for(i=0;i<this.length;i++)this[i].style[n]=t;return this}return this},each:function(n){for(var t=0;t<this.length;t++)n.call(this[t],t,this[t]);return this},html:function(n){if("undefined"==typeof n)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t++)this[t].innerHTML=n;return this},text:function(n){if("undefined"==typeof n)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[t].textContent=n;return this},is:function(i){var f,u,r;if(!this[0])return!1;if("string"==typeof i){if(r=this[0],r===document)return i===document;if(r===window)return i===window;if(r.matches)return r.matches(i);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(i);if(r.mozMatchesSelector)return r.mozMatchesSelector(i);if(r.msMatchesSelector)return r.msMatchesSelector(i);for(f=n(i),u=0;u<f.length;u++)if(f[u]===this[0])return!0;return!1}if(i===document)return this[0]===document;if(i===window)return this[0]===window;if(i.nodeType||i instanceof t){for(f=i.nodeType?[i]:i,u=0;u<f.length;u++)if(f[u]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var n=this[0],t=0;null!==(n=n.previousSibling);)1===n.nodeType&&t++;return t}},eq:function(n){if("undefined"==typeof n)return this;var i,r=this.length;return n>r-1?new t([]):0>n?(i=r+n,new t(0>i?[]:[this[i]])):new t([this[n]])},append:function(n){for(var r,u,i=0;i<this.length;i++)if("string"==typeof n)for(u=document.createElement("div"),u.innerHTML=n;u.firstChild;)this[i].appendChild(u.firstChild);else if(n instanceof t)for(r=0;r<n.length;r++)this[i].appendChild(n[r]);else this[i].appendChild(n);return this},prepend:function(n){for(var r,u,i=0;i<this.length;i++)if("string"==typeof n)for(u=document.createElement("div"),u.innerHTML=n,r=u.childNodes.length-1;r>=0;r--)this[i].insertBefore(u.childNodes[r],this[i].childNodes[0]);else if(n instanceof t)for(r=0;r<n.length;r++)this[i].insertBefore(n[r],this[i].childNodes[0]);else this[i].insertBefore(n,this[i].childNodes[0]);return this},insertBefore:function(t){for(var u,i=n(t),r=0;r<this.length;r++)if(1===i.length)i[0].parentNode.insertBefore(this[r],i[0]);else if(i.length>1)for(u=0;u<i.length;u++)i[u].parentNode.insertBefore(this[r].cloneNode(!0),i[u])},insertAfter:function(t){for(var u,i=n(t),r=0;r<this.length;r++)if(1===i.length)i[0].parentNode.insertBefore(this[r],i[0].nextSibling);else if(i.length>1)for(u=0;u<i.length;u++)i[u].parentNode.insertBefore(this[r].cloneNode(!0),i[u].nextSibling)},next:function(i){return new t(this.length>0?i?this[0].nextElementSibling&&n(this[0].nextElementSibling).is(i)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(i){var f=[],u=this[0],r;if(!u)return new t([]);for(;u.nextElementSibling;)r=u.nextElementSibling,i?n(r).is(i)&&f.push(r):f.push(r),u=r;return new t(f)},prev:function(i){return new t(this.length>0?i?this[0].previousElementSibling&&n(this[0].previousElementSibling).is(i)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(i){var f=[],u=this[0],r;if(!u)return new t([]);for(;u.previousElementSibling;)r=u.previousElementSibling,i?n(r).is(i)&&f.push(r):f.push(r),u=r;return new t(f)},parent:function(t){for(var r=[],i=0;i<this.length;i++)t?n(this[i].parentNode).is(t)&&r.push(this[i].parentNode):r.push(this[i].parentNode);return n(n.unique(r))},parents:function(t){for(var i,r=[],u=0;u<this.length;u++)for(i=this[u].parentNode;i;)t?n(i).is(t)&&r.push(i):r.push(i),i=i.parentNode;return n(n.unique(r))},find:function(n){for(var f,r,u=[],i=0;i<this.length;i++)for(f=this[i].querySelectorAll(n),r=0;r<f.length;r++)u.push(f[r]);return new t(u)},children:function(i){for(var u,r,f=[],e=0;e<this.length;e++)for(u=this[e].childNodes,r=0;r<u.length;r++)i?1===u[r].nodeType&&n(u[r]).is(i)&&f.push(u[r]):1===u[r].nodeType&&f.push(u[r]);return new t(n.unique(f))},remove:function(){for(var n=0;n<this.length;n++)this[n].parentNode&&this[n].parentNode.removeChild(this[n]);return this},add:function(){for(var i,r=this,u,t=0;t<arguments.length;t++)for(u=n(arguments[t]),i=0;i<u.length;i++)r[r.length]=u[i],r.length++;return r}},n.fn=t.prototype,n.unique=function(n){for(var i=[],t=0;t<n.length;t++)-1===i.indexOf(n[t])&&i.push(n[t]);return i},n}(),f=["jQuery","Zepto","Dom7"],u=0;u<f.length;u++)window[f[u]]&&e(window[f[u]]);r="undefined"==typeof i?window.Dom7||window.Zepto||window.jQuery:i;r&&("transitionEnd"in r.fn||(r.fn.transitionEnd=function(n){function r(f){if(f.target===this)for(n.call(this,f),t=0;t<i.length;t++)u.off(i[t],r)}var t,i=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],u=this;if(n)for(t=0;t<i.length;t++)u.on(i[t],r);return this}),"transform"in r.fn||(r.fn.transform=function(n){for(var t,i=0;i<this.length;i++)t=this[i].style,t.webkitTransform=t.MsTransform=t.msTransform=t.MozTransform=t.OTransform=t.transform=n;return this}),"transition"in r.fn||(r.fn.transition=function(n){var i,t;for("string"!=typeof n&&(n+="ms"),i=0;i<this.length;i++)t=this[i].style,t.webkitTransitionDuration=t.MsTransitionDuration=t.msTransitionDuration=t.MozTransitionDuration=t.OTransitionDuration=t.transitionDuration=n;return this}));window.Swiper=t}();"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Swiper});
/*! layer-v2.4 \u5f39\u5c42\u7ec4\u4ef6 License LGPL  http://layer.layui.com/ By \u8d24\u5fc3 */
!function(n,t){"use strict";var r,e,f={getPath:function(){var n=document.scripts,t=n[n.length-1],i=t.src;if(!t.getAttribute("merge"))return i.substring(0,i.lastIndexOf("/")+1)}(),enter:function(n){13===n.keyCode&&n.preventDefault()},config:{},end:{},btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],type:["dialog","page","iframe","loading","tips"]},i={v:"2.4",ie6:!!n.ActiveXObject&&!n.XMLHttpRequest,index:0,path:f.getPath,config:function(n,t){var u=0;return n=n||{},i.cache=f.config=r.extend(f.config,n),i.path=f.config.path||i.path,"string"==typeof n.extend&&(n.extend=[n.extend]),i.use("skin/layer.css",n.extend&&n.extend.length>0?function e(){var r=n.extend;i.use(r[r[u]?u:u-1],u<r.length?function(){return++u,e}():t)}():t),this},use:function(n,t,u){var s=r("head")[0],n=n.replace(/\s/g,""),f=/\.css$/.test(n),e=document.createElement(f?"link":"script"),o="layui_layer_"+n.replace(/\.|\//g,"");if(i.path)return(f&&(e.rel="stylesheet"),e[f?"href":"src"]=/^http:\/\//.test(n)?n:i.path+n,e.id=o,r("#"+o)[0]||s.appendChild(e),function h(){(f?1989===parseInt(r("#"+o).css("width")):i[u||o])?function(){t&&t();try{f||s.removeChild(e)}catch(n){}}():setTimeout(h,100)}(),this)},ready:function(n,t){var u="function"==typeof n;return u&&(t=n),i.config(r.extend(f.config,function(){return u?{}:{path:n}}()),t),this},alert:function(n,t,u){var f="function"==typeof t;return f&&(u=t),i.open(r.extend({content:n,yes:u},f?{}:t))},confirm:function(n,t,u,e){var o="function"==typeof t;return o&&(e=u,u=t),i.open(r.extend({content:n,btn:f.btn,yes:u,btn2:e},o?{}:t))},msg:function(n,e,o){var c="function"==typeof e,s=f.config.skin,h=(s?s+" "+s+"-msg":"")||"layui-layer-msg",l=u.anim.length-1;return c&&(o=e),i.open(r.extend({content:n,time:3e3,shade:!1,skin:h,title:!1,closeBtn:!1,btn:!1,end:o},c&&!f.config.skin?{skin:h+" layui-layer-hui",shift:l}:function(){return e=e||{},(-1===e.icon||e.icon===t&&!f.config.skin)&&(e.skin=h+" "+(e.skin||"layui-layer-hui")),e}()))},load:function(n,t){return i.open(r.extend({type:3,icon:n||0,shade:.01},t))},tips:function(n,t,u){return i.open(r.extend({type:4,content:[n,t],closeBtn:!1,time:3e3,shade:!1,fix:!1,maxWidth:210},u))}},o=function(n){var t=this;t.index=++i.index;t.config=r.extend({},t.config,f.config,n);t.creat()},u,s,h;o.pt=o.prototype;u=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"];u.anim=["layer-anim","layer-anim-01","layer-anim-02","layer-anim-03","layer-anim-04","layer-anim-05","layer-anim-06"];o.pt.config={type:0,shade:.3,fix:!0,move:u[1],title:"&#x4FE1;&#x606F;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:19891014,maxWidth:360,shift:0,icon:-1,scrollbar:!0,tips:2};o.pt.vessel=function(n,t){var e=this,r=e.index,i=e.config,o=i.zIndex+r,s="object"==typeof i.title,c=i.maxmin&&(1===i.type||2===i.type),h=i.title?'<div class="layui-layer-title" style="'+(s?i.title[1]:"")+'">'+(s?i.title[0]:i.title)+"<\/div>":"";return i.zIndex=o,t([i.shade?'<div class="layui-layer-shade" id="layui-layer-shade'+r+'" times="'+r+'" style="'+("z-index:"+(o-1)+"; background-color:"+(i.shade[1]||"#000")+"; opacity:"+(i.shade[0]||i.shade)+"; filter:alpha(opacity="+(100*i.shade[0]||100*i.shade)+");")+'"><\/div>':"",'<div class="'+u[0]+(" layui-layer-"+f.type[i.type])+(0!=i.type&&2!=i.type||i.shade?"":" layui-layer-border")+" "+(i.skin||"")+'" id="'+u[0]+r+'" type="'+f.type[i.type]+'" times="'+r+'" showtime="'+i.time+'" conType="'+(n?"object":"string")+'" style="z-index: '+o+"; width:"+i.area[0]+";height:"+i.area[1]+(i.fix?"":";position:absolute;")+'">'+(n&&2!=i.type?"":h)+'<div id="'+(i.id||"")+'" class="layui-layer-content'+(0==i.type&&-1!==i.icon?" layui-layer-padding":"")+(3==i.type?" layui-layer-loading"+i.icon:"")+'">'+(0==i.type&&-1!==i.icon?'<i class="layui-layer-ico layui-layer-ico'+i.icon+'"><\/i>':"")+(1==i.type&&n?"":i.content||"")+'<\/div><span class="layui-layer-setwin">'+function(){var n=c?'<a class="layui-layer-min" href="javascript:;"><cite><\/cite><\/a><a class="layui-layer-ico layui-layer-max" href="javascript:;"><\/a>':"";return i.closeBtn&&(n+='<a class="layui-layer-ico '+u[7]+" "+u[7]+(i.title?i.closeBtn:4==i.type?"1":"2")+'" href="javascript:;"><\/a>'),n}()+"<\/span>"+(i.btn?function(){var t="",n,r;for("string"==typeof i.btn&&(i.btn=[i.btn]),n=0,r=i.btn.length;r>n;n++)t+='<a class="'+u[6]+n+'">'+i.btn[n]+"<\/a>";return'<div class="'+u[6]+'">'+t+"<\/div>"}():"")+"<\/div>"],h),e};o.pt.creat=function(){var t=this,n=t.config,o=t.index,s=n.content,h="object"==typeof s;if(!r("#"+n.id)[0]){switch("string"==typeof n.area&&(n.area="auto"===n.area?["",""]:[n.area,""]),n.type){case 0:n.btn="btn"in n?n.btn:f.btn[0];i.closeAll("dialog");break;case 2:s=n.content=h?n.content:[n.content||"http://layer.layui.com","auto"];n.content='<iframe scrolling="'+(n.content[1]||"auto")+'" allowtransparency="true" id="'+u[4]+o+'" name="'+u[4]+o+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+n.content[0]+'"><\/iframe>';break;case 3:n.title=!1;n.closeBtn=!1;-1===n.icon&&0===n.icon;i.closeAll("loading");break;case 4:h||(n.content=[n.content,"body"]);n.follow=n.content[1];n.content=n.content[0]+'<i class="layui-layer-TipsG"><\/i>';n.title=!1;n.tips="object"==typeof n.tips?n.tips:[n.tips,!0];n.tipsMore||i.closeAll("tips")}t.vessel(h,function(i,f){r("body").append(i[0]);h?function(){2==n.type||4==n.type?function(){r("body").append(i[1])}():function(){s.parents("."+u[0])[0]||(s.show().addClass("layui-layer-wrap").wrap(i[1]),r("#"+u[0]+o).find("."+u[5]).before(f))}()}():r("body").append(i[1]);t.layero=r("#"+u[0]+o);n.scrollbar||u.html.css("overflow","hidden").attr("layer-full",o)}).auto(o);2==n.type&&i.ie6&&t.layero.find("iframe").attr("src",s[0]);r(document).off("keydown",f.enter).on("keydown",f.enter);t.layero.on("keydown",function(){r(document).off("keydown",f.enter)});4==n.type?t.tips():t.offset();n.fix&&e.on("resize",function(){t.offset();(/^\d+%$/.test(n.area[0])||/^\d+%$/.test(n.area[1]))&&t.auto(o);4==n.type&&t.tips()});n.time<=0||setTimeout(function(){i.close(t.index)},n.time);t.move().callback();u.anim[n.shift]&&t.layero.addClass(u.anim[n.shift])}};o.pt.auto=function(n){function f(n){n=t.find(n);n.height(o[1]-h-c-2*(0|parseFloat(n.css("padding"))))}var s=this,i=s.config,t=r("#"+u[0]+n);""===i.area[0]&&i.maxWidth>0&&(/MSIE 7/.test(navigator.userAgent)&&i.btn&&t.width(t.innerWidth()),t.outerWidth()>i.maxWidth&&t.width(i.maxWidth));var o=[t.innerWidth(),t.innerHeight()],h=t.find(u[1]).outerHeight()||0,c=t.find("."+u[6]).outerHeight()||0;switch(i.type){case 2:f("iframe");break;default:""===i.area[1]?i.fix&&o[1]>=e.height()&&(o[1]=e.height(),f("."+u[5])):f("."+u[5])}return s};o.pt.offset=function(){var n=this,t=n.config,r=n.layero,i=[r.outerWidth(),r.outerHeight()],u="object"==typeof t.offset;n.offsetTop=(e.height()-i[1])/2;n.offsetLeft=(e.width()-i[0])/2;u?(n.offsetTop=t.offset[0],n.offsetLeft=t.offset[1]||n.offsetLeft):"auto"!==t.offset&&(n.offsetTop=t.offset,"rb"===t.offset&&(n.offsetTop=e.height()-i[1],n.offsetLeft=e.width()-i[0]));t.fix||(n.offsetTop=/%$/.test(n.offsetTop)?e.height()*parseFloat(n.offsetTop)/100:parseFloat(n.offsetTop),n.offsetLeft=/%$/.test(n.offsetLeft)?e.width()*parseFloat(n.offsetLeft)/100:parseFloat(n.offsetLeft),n.offsetTop+=e.scrollTop(),n.offsetLeft+=e.scrollLeft());r.css({top:n.offsetTop,left:n.offsetLeft})};o.pt.tips=function(){var c=this,t=c.config,s=c.layero,i=[s.outerWidth(),s.outerHeight()],f=r(t.follow);f[0]||(f=r("body"));var n={width:f.outerWidth(),height:f.outerHeight(),top:f.offset().top,left:f.offset().left},o=s.find(".layui-layer-TipsG"),h=t.tips[0];t.tips[1]||o.remove();n.autoLeft=function(){n.left+i[0]-e.width()>0?(n.tipLeft=n.left+n.width-i[0],o.css({right:12,left:"auto"})):n.tipLeft=n.left};n.where=[function(){n.autoLeft();n.tipTop=n.top-i[1]-10;o.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",t.tips[1])},function(){n.tipLeft=n.left+n.width+10;n.tipTop=n.top;o.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",t.tips[1])},function(){n.autoLeft();n.tipTop=n.top+n.height+10;o.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",t.tips[1])},function(){n.tipLeft=n.left-i[0]-10;n.tipTop=n.top;o.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",t.tips[1])}];n.where[h-1]();1===h?n.top-(e.scrollTop()+i[1]+16)<0&&n.where[2]():2===h?e.width()-(n.left+n.width+i[0]+16)>0||n.where[3]():3===h?n.top-e.scrollTop()+n.height+i[1]+16-e.height()>0&&n.where[0]():4===h&&i[0]+16-n.left>0&&n.where[1]();s.find("."+u[5]).css({"padding-right":t.closeBtn?"30px":""});s.css({left:n.tipLeft-(t.fix?e.scrollLeft():0),top:n.tipTop-(t.fix?e.scrollTop():0)})};o.pt.move=function(){var i=this,t=i.config,n={setY:0,moveLayer:function(){var t=n.layero,r=parseInt(t.css("margin-left")),i=parseInt(n.move.css("left"));0===r||(i-=r);"fixed"!==t.css("position")&&(i-=t.parent().offset().left,n.setY=0);t.css({left:i,top:parseInt(n.move.css("top"))-n.setY})}},f=i.layero.find(t.move);return t.move&&f.attr("move","ok"),f.css({cursor:t.move?"move":"auto"}),r(t.move).on("mousedown",function(i){if(i.preventDefault(),"ok"===r(this).attr("move")){n.ismove=!0;n.layero=r(this).parents("."+u[0]);var f=n.layero.offset().left,o=n.layero.offset().top,s=n.layero.outerWidth()-6,h=n.layero.outerHeight()-6;r("#layui-layer-moves")[0]||r("body").append('<div id="layui-layer-moves" class="layui-layer-moves" style="left:'+f+"px; top:"+o+"px; width:"+s+"px; height:"+h+'px; z-index:2147483584"><\/div>');n.move=r("#layui-layer-moves");t.moveType&&n.move.css({visibility:"hidden"});n.moveX=i.pageX-n.move.position().left;n.moveY=i.pageY-n.move.position().top;"fixed"!==n.layero.css("position")||(n.setY=e.scrollTop())}}),r(document).mousemove(function(i){var r,u,f,o;n.ismove&&(r=i.pageX-n.moveX,u=i.pageY-n.moveY,(i.preventDefault(),t.moveOut)||(n.setY=e.scrollTop(),f=e.width()-n.move.outerWidth(),o=n.setY,0>r&&(r=0),r>f&&(r=f),o>u&&(u=o),u>e.height()-n.move.outerHeight()+n.setY&&(u=e.height()-n.move.outerHeight()+n.setY)),n.move.css({left:r,top:u}),t.moveType&&n.moveLayer(),r=u=f=o=null)}).mouseup(function(){try{n.ismove&&(n.moveLayer(),n.move.remove(),t.moveEnd&&t.moveEnd());n.ismove=!1}catch(i){n.ismove=!1}}),i};o.pt.callback=function(){function o(){var r=n.cancel&&n.cancel(t.index,e);r===!1||i.close(t.index)}var t=this,e=t.layero,n=t.config;t.openLayer();n.success&&(2==n.type?e.find("iframe").on("load",function(){n.success(e,t.index)}):n.success(e,t.index));i.ie6&&t.IE6(e);e.find("."+u[6]).children("a").on("click",function(){var u=r(this).index(),f;0===u?n.yes?n.yes(t.index,e):n.btn1?n.btn1(t.index,e):i.close(t.index):(f=n["btn"+(u+1)]&&n["btn"+(u+1)](t.index,e),f===!1||i.close(t.index))});e.find("."+u[7]).on("click",o);n.shadeClose&&r("#layui-layer-shade"+t.index).on("click",function(){i.close(t.index)});e.find(".layui-layer-min").on("click",function(){var r=n.min&&n.min(e);r===!1||i.min(t.index,n)});e.find(".layui-layer-max").on("click",function(){r(this).hasClass("layui-layer-maxmin")?(i.restore(t.index),n.restore&&n.restore(e)):(i.full(t.index,n),setTimeout(function(){n.full&&n.full(e)},100))});n.end&&(f.end[t.index]=n.end)};f.reselect=function(){r.each(r("select"),function(){var n=r(this);n.parents("."+u[0])[0]||1==n.attr("layer")&&r("."+u[0]).length<1&&n.removeAttr("layer").show();n=null})};o.pt.IE6=function(n){function t(){n.css({top:f+(i.config.fix?e.scrollTop():0)})}var i=this,f=n.offset().top;t();e.scroll(t);r("select").each(function(){var n=r(this);n.parents("."+u[0])[0]||"none"===n.css("display")||n.attr({layer:"1"}).hide();n=null})};o.pt.openLayer=function(){var n=this;i.zIndex=n.config.zIndex;i.setTop=function(n){var t=function(){i.zIndex++;n.css("z-index",i.zIndex+1)};return i.zIndex=parseInt(n[0].style.zIndex),n.on("mousedown",t),i.zIndex}};f.record=function(n){var t=[n.width(),n.height(),n.position().top,n.position().left+parseFloat(n.css("margin-left"))];n.find(".layui-layer-max").addClass("layui-layer-maxmin");n.attr({area:t})};f.rescollbar=function(n){u.html.attr("layer-full")==n&&(u.html[0].style.removeProperty?u.html[0].style.removeProperty("overflow"):u.html[0].style.removeAttribute("overflow"),u.html.removeAttr("layer-full"))};n.layer=i;i.getChildFrame=function(n,t){return t=t||r("."+u[4]).attr("times"),r("#"+u[0]+t).find("iframe").contents().find(n)};i.getFrameIndex=function(n){return r("#"+n).parents("."+u[4]).attr("times")};i.iframeAuto=function(n){if(n){var f=i.getChildFrame("html",n).outerHeight(),t=r("#"+u[0]+n),e=t.find(u[1]).outerHeight()||0,o=t.find("."+u[6]).outerHeight()||0;t.css({height:f+e+o});t.find("iframe").css({height:f})}};i.iframeSrc=function(n,t){r("#"+u[0]+n).find("iframe").attr("src",t)};i.style=function(n,t){var i=r("#"+u[0]+n),e=i.attr("type"),o=i.find(u[1]).outerHeight()||0,s=i.find("."+u[6]).outerHeight()||0;(e===f.type[1]||e===f.type[2])&&(i.css(t),e===f.type[2]&&i.find("iframe").css({height:parseFloat(t.height)-o-s}))};i.min=function(n){var t=r("#"+u[0]+n),e=t.find(u[1]).outerHeight()||0;f.record(t);i.style(n,{width:180,height:e,overflow:"hidden"});t.find(".layui-layer-min").hide();"page"===t.attr("type")&&t.find(u[4]).hide();f.rescollbar(n)};i.restore=function(n){var t=r("#"+u[0]+n),e=t.attr("area").split(",");t.attr("type");i.style(n,{width:parseFloat(e[0]),height:parseFloat(e[1]),top:parseFloat(e[2]),left:parseFloat(e[3]),overflow:"visible"});t.find(".layui-layer-max").removeClass("layui-layer-maxmin");t.find(".layui-layer-min").show();"page"===t.attr("type")&&t.find(u[4]).show();f.rescollbar(n)};i.full=function(n){var o,t=r("#"+u[0]+n);f.record(t);u.html.attr("layer-full")||u.html.css("overflow","hidden").attr("layer-full",n);clearTimeout(o);o=setTimeout(function(){var r="fixed"===t.css("position");i.style(n,{top:r?0:e.scrollTop(),left:r?0:e.scrollLeft(),width:e.width(),height:e.height()});t.find(".layui-layer-min").hide()},100)};i.title=function(n,t){var f=r("#"+u[0]+(t||i.index)).find(u[1]);f.html(n)};i.close=function(n){var t=r("#"+u[0]+n),s=t.attr("type"),o,e;if(t[0]){if(s===f.type[1]&&"object"===t.attr("conType"))for(t.children(":not(."+u[5]+")").remove(),o=0;2>o;o++)t.find(".layui-layer-wrap").unwrap().hide();else{if(s===f.type[2])try{e=r("#"+u[4]+n)[0];e.contentWindow.document.write("");e.contentWindow.close();t.find("."+u[5])[0].removeChild(e)}catch(h){}t[0].innerHTML="";t.remove()}r("#layui-layer-moves, #layui-layer-shade"+n).remove();i.ie6&&f.reselect();f.rescollbar(n);r(document).off("keydown",f.enter);"function"==typeof f.end[n]&&f.end[n]();delete f.end[n]}};i.closeAll=function(n){r.each(r("."+u[0]),function(){var t=r(this),u=n?t.attr("type")===n:1;u&&i.close(t.attr("times"));u=null})};s=i.cache||{};h=function(n){return s.skin?" "+s.skin+" "+s.skin+"-"+n:""};i.prompt=function(n,t){n=n||{};"function"==typeof n&&(t=n);var u,f=2==n.formType?'<textarea class="layui-layer-input">'+(n.value||"")+"<\/textarea>":function(){return'<input type="'+(1==n.formType?"password":"text")+'" class="layui-layer-input" value="'+(n.value||"")+'">'}();return i.open(r.extend({btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],content:f,skin:"layui-layer-prompt"+h("prompt"),success:function(n){u=n.find(".layui-layer-input");u.focus()},yes:function(r){var f=u.val();""===f?u.focus():f.length>(n.maxlength||500)?i.tips("&#x6700;&#x591A;&#x8F93;&#x5165;"+(n.maxlength||500)+"&#x4E2A;&#x5B57;&#x6570;",u,{tips:1}):t&&t(f,r,u)}},n))};i.tab=function(n){n=n||{};var t=n.tab||{};return i.open(r.extend({type:1,skin:"layui-layer-tab"+h("tab"),title:function(){var r=t.length,n=1,i="";if(r>0)for(i='<span class="layui-layer-tabnow">'+t[0].title+"<\/span>";r>n;n++)i+="<span>"+t[n].title+"<\/span>";return i}(),content:'<ul class="layui-layer-tabmain">'+function(){var r=t.length,n=1,i="";if(r>0)for(i='<li class="layui-layer-tabli xubox_tab_layer">'+(t[0].content||"no content")+"<\/li>";r>n;n++)i+='<li class="layui-layer-tabli">'+(t[n].content||"no  content")+"<\/li>";return i}()+"<\/ul>",success:function(t){var i=t.find(".layui-layer-title").children(),u=t.find(".layui-layer-tabmain").children();i.on("mousedown",function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0;var i=r(this),f=i.index();i.addClass("layui-layer-tabnow").siblings().removeClass("layui-layer-tabnow");u.eq(f).show().siblings().hide();"function"==typeof n.change&&n.change(f)})}},n))};i.photos=function(t,u,f){function y(n,t,i){var r=new Image;return r.src=n,r.complete?t(r):(r.onload=function(){r.onload=null;t(r)},void(r.onerror=function(n){r.onerror=null;i(n)}))}var e={},l,a;if(t=t||{},t.photos){var v=t.photos.constructor===Object,c=v?t.photos:{},o=c.data||[],s=c.start||0;if(e.imgIndex=(0|s)+1,t.img=t.img||"img",v){if(0===o.length)return i.msg("&#x6CA1;&#x6709;&#x56FE;&#x7247;")}else{if(l=r(t.photos),a=function(){o=[];l.find(t.img).each(function(n){var t=r(this);t.attr("layer-index",n);o.push({alt:t.attr("alt"),pid:t.attr("layer-pid"),src:t.attr("layer-src")||t.attr("src"),thumb:t.attr("src")})})},a(),0===o.length)return;if(u||l.on("click",t.img,function(){var n=r(this),u=n.attr("layer-index");i.photos(r.extend(t,{photos:{start:u,data:o,tab:t.tab},full:t.full}),!0);a()}),!u)return}e.imgprev=function(n){e.imgIndex--;e.imgIndex<1&&(e.imgIndex=o.length);e.tabimg(n)};e.imgnext=function(n,t){e.imgIndex++;e.imgIndex>o.length&&(e.imgIndex=1,t)||e.tabimg(n)};e.keyup=function(n){if(!e.end){var t=n.keyCode;n.preventDefault();37===t?e.imgprev(!0):39===t?e.imgnext(!0):27===t&&i.close(e.index)}};e.tabimg=function(n){o.length<=1||(c.start=e.imgIndex-1,i.close(e.index),i.photos(t,!0,n))};e.event=function(){e.bigimg.hover(function(){e.imgsee.show()},function(){e.imgsee.hide()});e.bigimg.find(".layui-layer-imgprev").on("click",function(n){n.preventDefault();e.imgprev()});e.bigimg.find(".layui-layer-imgnext").on("click",function(n){n.preventDefault();e.imgnext()});r(document).on("keyup",e.keyup)};e.loadi=i.load(1,{shade:"shade"in t?!1:.9,scrollbar:!1});y(o[s].src,function(u){i.close(e.loadi);e.index=i.open(r.extend({type:1,area:function(){var i=[u.width,u.height],f=[r(n).width()-50,r(n).height()-50];return!t.full&&i[0]>f[0]&&(i[0]=f[0],i[1]=i[0]*u.height/u.width),[i[0]+"px",i[1]+"px"]}(),title:!1,shade:.9,shadeClose:!0,closeBtn:!1,move:".layui-layer-phimg img",moveType:1,scrollbar:!1,moveOut:!0,shift:5*Math.random()|0,skin:"layui-layer-photos"+h("photos"),content:'<div class="layui-layer-phimg"><img src="'+o[s].src+'" alt="'+(o[s].alt||"")+'" layer-pid="'+o[s].pid+'"><div class="layui-layer-imgsee">'+(o.length>1?'<span class="layui-layer-imguide"><a href="javascript:;" class="layui-layer-iconext layui-layer-imgprev"><\/a><a href="javascript:;" class="layui-layer-iconext layui-layer-imgnext"><\/a><\/span>':"")+'<div class="layui-layer-imgbar" style="display:'+(f?"block":"")+'"><span class="layui-layer-imgtit"><a href="javascript:;">'+(o[s].alt||"")+"<\/a><em>"+e.imgIndex+"/"+o.length+"<\/em><\/span><\/div><\/div><\/div>",success:function(n){e.bigimg=n.find(".layui-layer-phimg");e.imgsee=n.find(".layui-layer-imguide,.layui-layer-imgbar");e.event(n);t.tab&&t.tab(o[s],n)},end:function(){e.end=!0;r(document).off("keyup",e.keyup)}},t))},function(){i.close(e.loadi);i.msg("&#x5F53;&#x524D;&#x56FE;&#x7247;&#x5730;&#x5740;&#x5F02;&#x5E38;<br>&#x662F;&#x5426;&#x7EE7;&#x7EED;&#x67E5;&#x770B;&#x4E0B;&#x4E00;&#x5F20;&#xFF1F;",{time:3e4,btn:["&#x4E0B;&#x4E00;&#x5F20;","&#x4E0D;&#x770B;&#x4E86;"],yes:function(){o.length>1&&e.imgnext(!0,!0)}})})}};f.run=function(){r=jQuery;e=r(n);u.html=r("html");i.open=function(n){var t=new o(n);return t.index}};"function"==typeof define?define(function(){return f.run(),i}):function(){f.run();i.use("skin/layer.css")}()}(window);!function(n){var u={path:"",defSkin:"default",format:"YYYY-MM-DD",min:"1900-01-01 00:00:00",max:"2099-12-31 23:59:59",isv:!1},t={},r=document,f="createElement",o="getElementById",e="getElementsByTagName",i=["laydate_box","laydate_void","laydate_click","LayDateSkin","skins/","/laydate.css"];n.laydate=function(r){r=r||{};try{i.event=n.event?n.event:laydate.caller.arguments[0]}catch(u){}return t.run(r),laydate};laydate.v="1.1";t.getPath=function(){var n=document.scripts,t=n[n.length-1].src;return u.path?u.path:t.substring(0,t.lastIndexOf("/")+1)}();t.use=function(n,u){var o=r[f]("link");o.type="text/css";o.rel="stylesheet";o.href=t.getPath+n+i[5];u&&(o.id=u);r[e]("head")[0].appendChild(o);o=null};t.trim=function(n){return n=n||"",n.replace(/^\s|\s$/g,"").replace(/\s+/g," ")};t.digit=function(n){return 10>n?"0"+(0|n):n};t.stopmp=function(t){return t=t||n.event,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this};t.each=function(n,t){for(var i=0,r=n.length;r>i&&t(i,n[i])!==!1;i++);};t.hasClass=function(n,t){return n=n||{},new RegExp("\\b"+t+"\\b").test(n.className)};t.addClass=function(n,i){return n=n||{},t.hasClass(n,i)||(n.className+=" "+i),n.className=t.trim(n.className),this};t.removeClass=function(n,i){if(n=n||{},t.hasClass(n,i)){var r=new RegExp("\\b"+i+"\\b");n.className=n.className.replace(r,"")}return this};t.removeCssAttr=function(n,t){var i=n.style;i.removeProperty?i.removeProperty(t):i.removeAttribute(t)};t.shde=function(n,t){n.style.display=t?"none":"block"};t.query=function(n){var u,i,s,f,h;return n=t.trim(n).split(" "),i=r[o](n[0].substr(1)),i?n[1]?/^\./.test(n[1])?(f=n[1].substr(1),h=new RegExp("\\b"+f+"\\b"),u=[],s=r.getElementsByClassName?i.getElementsByClassName(f):i[e]("*"),t.each(s,function(n,t){h.test(t.className)&&u.push(t)}),u[0]?u:""):(u=i[e](n[1]),u[0]?i[e](n[1]):""):i:void 0};t.on=function(i,r,u){return i.attachEvent?i.attachEvent("on"+r,function(){u.call(i,n.even)}):i.addEventListener(r,u,!1),t};t.stopMosup=function(n,i){"mouseup"!==n&&t.on(i,"mouseup",function(n){t.stopmp(n)})};t.run=function(n){var r,e,f,o=t.query,u=i.event;try{f=u.target||u.srcElement||{}}catch(s){f={}}if(r=n.elem?o(n.elem):f,u&&f.tagName){if(!r||r===t.elem)return;t.stopMosup(u.type,r);t.stopmp(u);t.view(r,n);t.reshow()}else e=n.event||"click",t.each((0|r.length)>0?r:[r],function(i,r){t.stopMosup(e,r);t.on(r,e,function(i){t.stopmp(i);r!==t.elem&&(t.view(r,n),t.reshow())})})};t.scroll=function(n){return n=n?"scrollLeft":"scrollTop",r.body[n]|r.documentElement[n]};t.winarea=function(n){return document.documentElement[n?"clientWidth":"clientHeight"]};t.isleap=function(n){return 0==n%4&&0!=n%100||0==n%400};t.checkVoid=function(n,i,r){var u=[];return n=0|n,i=0|i,r=0|r,n<t.mins[0]?u=["y"]:n>t.maxs[0]?u=["y",1]:n>=t.mins[0]&&n<=t.maxs[0]&&(n==t.mins[0]&&(i<t.mins[1]?u=["m"]:i==t.mins[1]&&r<t.mins[2]&&(u=["d"])),n==t.maxs[0]&&(i>t.maxs[1]?u=["m",1]:i==t.maxs[1]&&r>t.maxs[2]&&(u=["d",1]))),u};t.timeVoid=function(n,i){if(t.ymd[1]+1==t.mins[1]&&t.ymd[2]==t.mins[2]){if(0===i&&n<t.mins[3]||1===i&&n<t.mins[4]||2===i&&n<t.mins[5])return 1}else if(t.ymd[1]+1==t.maxs[1]&&t.ymd[2]==t.maxs[2]&&(0===i&&n>t.maxs[3]||1===i&&n>t.maxs[4]||2===i&&n>t.maxs[5]))return 1;if(n>(i?59:23))return 1};t.check=function(){var e=t.options.format.replace(/YYYY|MM|DD|hh|mm|ss/g,"\\d+\\").replace(/\\$/g,""),f=new RegExp(e),u=t.elem[i.elemv],n=u.match(/\d+/g)||[],r=t.checkVoid(n[0],n[1],n[2]);if(""!==u.replace(/\s/g,"")){if(!f.test(u))return t.elem[i.elemv]="",t.msg("\u65e5\u671f\u4e0d\u7b26\u5408\u683c\u5f0f\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9\u3002"),1;if(r[0])return t.elem[i.elemv]="",t.msg("\u65e5\u671f\u4e0d\u5728\u6709\u6548\u671f\u5185\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9\u3002"),1;r.value=t.elem[i.elemv].match(f).join();n=r.value.match(/\d+/g);n[1]<1?(n[1]=1,r.auto=1):n[1]>12?(n[1]=12,r.auto=1):n[1].length<2&&(r.auto=1);n[2]<1?(n[2]=1,r.auto=1):n[2]>t.months[(0|n[1])-1]?(n[2]=31,r.auto=1):n[2].length<2&&(r.auto=1);n.length>3&&(t.timeVoid(n[3],0)&&(r.auto=1),t.timeVoid(n[4],1)&&(r.auto=1),t.timeVoid(n[5],2)&&(r.auto=1));r.auto?t.creation([n[0],0|n[1],0|n[2]],1):r.value!==t.elem[i.elemv]&&(t.elem[i.elemv]=r.value)}};t.months=[31,null,31,30,31,30,31,31,30,31,30,31];t.viewDate=function(n,r,u){var f=(t.query,{}),e=new Date;n<(0|t.mins[0])&&(n=0|t.mins[0]);n>(0|t.maxs[0])&&(n=0|t.maxs[0]);e.setFullYear(n,r,u);f.ymd=[e.getFullYear(),e.getMonth(),e.getDate()];t.months[1]=t.isleap(f.ymd[0])?29:28;e.setFullYear(f.ymd[0],f.ymd[1],1);f.FDay=e.getDay();f.PDay=t.months[0===r?11:r-1]-f.FDay+1;f.NDay=1;t.each(i.tds,function(n,r){var e,o=f.ymd[0],u=f.ymd[1]+1;r.className="";n<f.FDay?(r.innerHTML=e=n+f.PDay,t.addClass(r,"laydate_nothis"),1===u&&(o-=1),u=1===u?12:u-1):n>=f.FDay&&n<f.FDay+t.months[f.ymd[1]]?(r.innerHTML=e=n-f.FDay+1,n-f.FDay+1===f.ymd[2]&&(t.addClass(r,i[2]),f.thisDay=r)):(r.innerHTML=e=f.NDay++,t.addClass(r,"laydate_nothis"),12===u&&(o+=1),u=12===u?1:u+1);t.checkVoid(o,u,e)[0]&&t.addClass(r,i[1]);t.options.festival&&t.festival(r,u+"."+e);r.setAttribute("y",o);r.setAttribute("m",u);r.setAttribute("d",e);o=u=e=null});t.valid=!t.hasClass(f.thisDay,i[1]);t.ymd=f.ymd;i.year.value=t.ymd[0]+"\u5e74";i.month.value=t.digit(t.ymd[1]+1)+"\u6708";t.each(i.mms,function(n,r){var u=t.checkVoid(t.ymd[0],(0|r.getAttribute("m"))+1);"y"===u[0]||"m"===u[0]?t.addClass(r,i[1]):t.removeClass(r,i[1]);t.removeClass(r,i[2]);u=null});t.addClass(i.mms[t.ymd[1]],i[2]);f.times=[0|t.inymd[3]||0,0|t.inymd[4]||0,0|t.inymd[5]||0];t.each(new Array(3),function(n){t.hmsin[n].value=t.digit(t.timeVoid(f.times[n],n)?0|t.mins[n+3]:0|f.times[n])});t[t.valid?"removeClass":"addClass"](i.ok,i[1])};t.festival=function(n,t){var i;switch(t){case"1.1":i="\u5143\u65e6";break;case"3.8":i="\u5987\u5973";break;case"4.5":i="\u6e05\u660e";break;case"5.1":i="\u52b3\u52a8";break;case"6.1":i="\u513f\u7ae5";break;case"9.10":i="\u6559\u5e08";break;case"10.1":i="\u56fd\u5e86"}i&&(n.innerHTML=i);i=null};t.viewYears=function(n){var r=t.query,u="";t.each(new Array(14),function(t){u+=7===t?"<li "+(parseInt(i.year.value)===n?'class="'+i[2]+'"':"")+' y="'+n+'">'+n+"\u5e74<\/li>":'<li y="'+(n-7+t)+'">'+(n-7+t)+"\u5e74<\/li>"});r("#laydate_ys").innerHTML=u;t.each(r("#laydate_ys li"),function(n,r){"y"===t.checkVoid(r.getAttribute("y"))[0]?t.addClass(r,i[1]):t.on(r,"click",function(n){t.stopmp(n).reshow();t.viewDate(0|this.getAttribute("y"),t.ymd[1],t.ymd[2])})})};t.initDate=function(){var r=(t.query,new Date),n=t.elem[i.elemv].match(/\d+/g)||[];n.length<3&&(n=t.options.start.match(/\d+/g)||[],n.length<3&&(n=[r.getFullYear(),r.getMonth()+1,r.getDate()]));t.inymd=n;t.viewDate(n[0],n[1]-1,n[2])};t.iswrite=function(){var n=t.query,r={time:n("#laydate_hms")};t.shde(r.time,!t.options.istime);t.shde(i.oclear,!("isclear"in t.options?t.options.isclear:1));t.shde(i.otoday,!("istoday"in t.options?t.options.istoday:1));t.shde(i.ok,!("issure"in t.options?t.options.issure:1))};t.orien=function(n,i){var u,r=t.elem.getBoundingClientRect();n.style.left=r.left+(i?0:t.scroll(1))+"px";u=r.bottom+n.offsetHeight/1.5<=t.winarea()?r.bottom-1:r.top>n.offsetHeight/1.5?r.top-n.offsetHeight+1:t.winarea()-n.offsetHeight;n.style.top=u+(i?0:t.scroll())+"px"};t.follow=function(n){t.options.fixed?(n.style.position="fixed",t.orien(n,1)):(n.style.position="absolute",t.orien(n))};t.viewtb=function(){var i,u=[],h=["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],s={},n=r[f]("table"),o=r[f]("thead");return o.appendChild(r[f]("tr")),s.creath=function(n){var t=r[f]("th");t.innerHTML=h[n];o[e]("tr")[0].appendChild(t);t=null},t.each(new Array(6),function(r){u.push([]);i=n.insertRow(0);t.each(new Array(7),function(n){u[r][n]=0;0===r&&s.creath(n);i.insertCell(n)})}),n.insertBefore(o,n.children[0]),n.id=n.className="laydate_table",i=u=null,n.outerHTML.toLowerCase()}();t.view=function(n,e){var o,h=t.query,s={};e=e||n;t.elem=n;t.options=e;t.options.format||(t.options.format=u.format);t.options.start=t.options.start||"";t.mm=s.mm=[t.options.min||u.min,t.options.max||u.max];t.mins=s.mm[0].match(/\d+/g);t.maxs=s.mm[1].match(/\d+/g);i.elemv=/textarea|input/.test(t.elem.tagName.toLocaleLowerCase())?"value":"innerHTML";t.box?t.shde(t.box):(o=r[f]("div"),o.id=i[0],o.className=i[0],o.style.cssText="position: absolute;",o.setAttribute("name","laydate-v"+laydate.v),o.innerHTML=s.html='<div class="laydate_top"><div class="laydate_ym laydate_y" id="laydate_YY"><a class="laydate_choose laydate_chprev laydate_tab"><cite><\/cite><\/a><input id="laydate_y" readonly><label><\/label><a class="laydate_choose laydate_chnext laydate_tab"><cite><\/cite><\/a><div class="laydate_yms"><a class="laydate_tab laydate_chtop"><cite><\/cite><\/a><ul id="laydate_ys"><\/ul><a class="laydate_tab laydate_chdown"><cite><\/cite><\/a><\/div><\/div><div class="laydate_ym laydate_m" id="laydate_MM"><a class="laydate_choose laydate_chprev laydate_tab"><cite><\/cite><\/a><input id="laydate_m" readonly><label><\/label><a class="laydate_choose laydate_chnext laydate_tab"><cite><\/cite><\/a><div class="laydate_yms" id="laydate_ms">'+function(){var n="";return t.each(new Array(12),function(i){n+='<span m="'+i+'">'+t.digit(i+1)+"\u6708<\/span>"}),n}()+"<\/div><\/div><\/div>"+t.viewtb+'<div class="laydate_bottom"><ul id="laydate_hms"><li class="laydate_sj">\u65f6\u95f4<\/li><li><input readonly>:<\/li><li><input readonly>:<\/li><li><input readonly><\/li><\/ul><div class="laydate_time" id="laydate_time"><\/div><div class="laydate_btn"><a id="laydate_clear">\u6e05\u7a7a<\/a><a id="laydate_today">\u4eca\u5929<\/a><a id="laydate_ok">\u786e\u8ba4<\/a><\/div>'+(u.isv?'<a href="http://sentsin.com/layui/laydate/" class="laydate_v" target="_blank">laydate-v'+laydate.v+"<\/a>":"")+"<\/div>",r.body.appendChild(o),t.box=h("#"+i[0]),t.events(),o=null);t.follow(t.box);e.zIndex?t.box.style.zIndex=e.zIndex:t.removeCssAttr(t.box,"z-index");t.stopMosup("click",t.box);t.initDate();t.iswrite();t.check()};t.reshow=function(){return t.each(t.query("#"+i[0]+" .laydate_show"),function(n,i){t.removeClass(i,"laydate_show")}),this};t.close=function(){t.reshow();t.shde(t.query("#"+i[0]),1);t.elem=null};t.parse=function(n,i,r){return n=n.concat(i),r=r||(t.options?t.options.format:u.format),r.replace(/YYYY|MM|DD|hh|mm|ss/g,function(){return n.index=0|++n.index,t.digit(n[n.index])})};t.creation=function(n,r){var u=(t.query,t.hmsin),f=t.parse(n,[u[0].value,u[1].value,u[2].value]);t.elem[i.elemv]=f;r||(t.close(),"function"==typeof t.options.choose&&t.options.choose(f))};t.events=function(){var f=t.query,u={box:"#"+i[0]};t.addClass(r.body,"laydate_body");i.tds=f("#laydate_table td");i.mms=f("#laydate_ms span");i.year=f("#laydate_y");i.month=f("#laydate_m");t.each(f(u.box+" .laydate_ym"),function(n,r){t.on(r,"click",function(r){t.stopmp(r).reshow();t.addClass(this[e]("div")[0],"laydate_show");n||(u.YY=parseInt(i.year.value),t.viewYears(u.YY))})});t.on(f(u.box),"click",function(){t.reshow()});u.tabYear=function(n){0===n?t.ymd[0]--:1===n?t.ymd[0]++:2===n?u.YY-=14:u.YY+=14;2>n?(t.viewDate(t.ymd[0],t.ymd[1],t.ymd[2]),t.reshow()):t.viewYears(u.YY)};t.each(f("#laydate_YY .laydate_tab"),function(n,i){t.on(i,"click",function(i){t.stopmp(i);u.tabYear(n)})});u.tabMonth=function(n){n?(t.ymd[1]++,12===t.ymd[1]&&(t.ymd[0]++,t.ymd[1]=0)):(t.ymd[1]--,-1===t.ymd[1]&&(t.ymd[0]--,t.ymd[1]=11));t.viewDate(t.ymd[0],t.ymd[1],t.ymd[2])};t.each(f("#laydate_MM .laydate_tab"),function(n,i){t.on(i,"click",function(i){t.stopmp(i).reshow();u.tabMonth(n)})});t.each(f("#laydate_ms span"),function(n,r){t.on(r,"click",function(n){t.stopmp(n).reshow();t.hasClass(this,i[1])||t.viewDate(t.ymd[0],0|this.getAttribute("m"),t.ymd[2])})});t.each(f("#laydate_table td"),function(n,r){t.on(r,"click",function(n){t.hasClass(this,i[1])||(t.stopmp(n),t.creation([0|this.getAttribute("y"),0|this.getAttribute("m"),0|this.getAttribute("d")]))})});i.oclear=f("#laydate_clear");t.on(i.oclear,"click",function(){t.elem[i.elemv]="";t.close()});i.otoday=f("#laydate_today");t.on(i.otoday,"click",function(){t.elem[i.elemv]=laydate.now(0,t.options.format);t.close()});i.ok=f("#laydate_ok");t.on(i.ok,"click",function(){t.valid&&t.creation([t.ymd[0],t.ymd[1]+1,t.ymd[2]])});u.times=f("#laydate_time");t.hmsin=u.hmsin=f("#laydate_hms input");u.hmss=["\u5c0f\u65f6","\u5206\u949f","\u79d2\u6570"];u.hmsarr=[];t.msg=function(n,r){var e='<div class="laydte_hsmtex">'+(r||"\u63d0\u793a")+"<span>\u00d7<\/span><\/div>";"string"==typeof n?(e+="<p>"+n+"<\/p>",t.shde(f("#"+i[0])),t.removeClass(u.times,"laydate_time1").addClass(u.times,"laydate_msg")):(u.hmsarr[n]?e=u.hmsarr[n]:(e+='<div id="laydate_hmsno" class="laydate_hmsno">',t.each(new Array(0===n?24:60),function(n){e+="<span>"+n+"<\/span>"}),e+="<\/div>",u.hmsarr[n]=e),t.removeClass(u.times,"laydate_msg"),t[0===n?"removeClass":"addClass"](u.times,"laydate_time1"));t.addClass(u.times,"laydate_show");u.times.innerHTML=e};u.hmson=function(n,r){var u=f("#laydate_hmsno span"),e=t.valid?null:1;t.each(u,function(u,f){e?t.addClass(f,i[1]):t.timeVoid(u,r)?t.addClass(f,i[1]):t.on(f,"click",function(){t.hasClass(this,i[1])||(n.value=t.digit(0|this.innerHTML))})});t.addClass(u[0|n.value],"laydate_click")};t.each(u.hmsin,function(n,i){t.on(i,"click",function(i){t.stopmp(i).reshow();t.msg(n,u.hmss[n]);u.hmson(this,n)})});t.on(r,"mouseup",function(){var n=f("#"+i[0]);n&&"none"!==n.style.display&&(t.check()||t.close())}).on(r,"keydown",function(i){i=i||n.event;var r=i.keyCode;13===r&&t.creation([t.ymd[0],t.ymd[1]+1,t.ymd[2]])})};t.init=function(){t.use("need");t.use(i[4]+u.defSkin,i[3]);t.skinLink=t.query("#"+i[3])}();laydate.reset=function(){t.box&&t.elem&&t.follow(t.box)};laydate.now=function(n,i){var r=new Date(0|n?function(n){return 864e5>n?+new Date+864e5*n:n}(parseInt(n)):+new Date);return t.parse([r.getFullYear(),r.getMonth()+1,r.getDate()],[r.getHours(),r.getMinutes(),r.getSeconds()],i)};laydate.skin=function(n){t.skinLink.href=t.getPath+i[4]+n+i[5]}}(window);decerpbrowser={versions:function(){var n=navigator.userAgent,t=navigator.appVersion;return{trident:n.indexOf("Trident")>-1,presto:n.indexOf("Presto")>-1,webKit:n.indexOf("AppleWebKit")>-1,gecko:n.indexOf("Gecko")>-1&&n.indexOf("KHTML")==-1,mobile:!!n.match(/AppleWebKit.*Mobile.*/)||!!n.match(/AppleWebKit/),ios:!!n.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:n.indexOf("Android")>-1||n.indexOf("Linux")>-1,iPhone:n.indexOf("iPhone")>-1||n.indexOf("Mac")>-1,iPad:n.indexOf("iPad")>-1,webApp:n.indexOf("Safari")==-1}}()};
/*! layer\u5f39\u5c42\u7ec4\u4ef6\u62d3\u5c55\u7c7b */
!function(){var i=0,n,t;layer.use("skin/layer.ext.css",function(){layer.layui_layer_extendlayerextjs=!0});n=layer.cache||{};t=function(t){return n.skin?" "+n.skin+" "+n.skin+"-"+t:""};layer.prompt=function(n,r){n=n||{};"function"==typeof n&&(r=n);var u,f,e;i=n.formType;switch(n.formType){case 2:'<textarea class="layui-layer-input">'+(n.value||"")+"<\/textarea>";break;case 3:f='<p>\u540d\u79f0\uff1a<input type="'+(1==n.formType?"password":"text")+'" class="layui-layer-input" value="'+(n.value||"")+'" style="display: inline-block;"><\/p><br><p>\u989c\u8272\uff1a<input  data-inline="true" type="hidden" class="layui-layer-input2 " value="'+(n.value2||"")+'"><\/p>';break;default:f='<input type="'+(1==n.formType?"password":"text")+'" class="layui-layer-input" value="'+(n.value||"")+'">'}return area=n.formType==3?["320px","350px"]:[],layer.open($.extend({btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],content:f,skin:"layui-layer-prompt"+t("prompt"),area:area,success:function(n){u=n.find(".layui-layer-input");u.focus();i==3&&(e=n.find(".layui-layer-input2").minicolors())},yes:function(t){var i=u.val();n.formType==3?""===i?u.focus():i.length>(n.maxlength||500)?layer.tips("&#x6700;&#x591A;&#x8F93;&#x5165;"+(n.maxlength||500)+"&#x4E2A;&#x5B57;&#x6570;",u,{tips:1}):r&&r(i,t,u,e.val()):""===i?u.focus():i.length>(n.maxlength||500)?layer.tips("&#x6700;&#x591A;&#x8F93;&#x5165;"+(n.maxlength||500)+"&#x4E2A;&#x5B57;&#x6570;",u,{tips:1}):r&&r(i,t,u)}},n))};layer.tab=function(n){n=n||{};var i=n.tab||{};return layer.open($.extend({type:1,skin:"layui-layer-tab"+t("tab"),title:function(){var r=i.length,n=1,t="";if(r>0)for(t='<span class="layui-layer-tabnow">'+i[0].title+"<\/span>";r>n;n++)t+="<span>"+i[n].title+"<\/span>";return t}(),content:'<ul class="layui-layer-tabmain">'+function(){var r=i.length,n=1,t="";if(r>0)for(t='<li class="layui-layer-tabli xubox_tab_layer">'+(i[0].content||"no content")+"<\/li>";r>n;n++)t+='<li class="layui-layer-tabli">'+(i[n].content||"no  content")+"<\/li>";return t}()+"<\/ul>",success:function(t){var i=t.find(".layui-layer-title").children(),r=t.find(".layui-layer-tabmain").children();i.on("mousedown",function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0;var i=$(this),u=i.index();i.addClass("layui-layer-tabnow").siblings().removeClass("layui-layer-tabnow");r.eq(u).show().siblings().hide();"function"==typeof n.change&&n.change(u)})}},n))};layer.photos=function(n,i,r){function l(n,t,i){var r=new Image;r.onload=function(){r.onload=null;t(r)};r.onerror=function(n){r.onerror=null;i(n)};r.src=n}var u={},s,c;if(n=n||{},n.photos){var h=n.photos.constructor===Object,o=h?n.photos:{},f=o.data||[],e=o.start||0;if(u.imgIndex=e+1,h){if(0===f.length)return layer.msg("&#x6CA1;&#x6709;&#x56FE;&#x7247;")}else{if(s=$(n.photos),c=function(){return f=[],s.find(n.img||"img").each(function(){var n=$(this);f.push({alt:n.attr("alt"),pid:n.attr("layer-pid"),src:n.attr("layer-src")||n.attr("src"),thumb:n.attr("src")})}),arguments.callee}(),0===f.length)return;if(i||s.on("click",n.img||"img",function(){var t=$(this),i=t.index();c();layer.photos($.extend(n,{photos:{start:i,data:f,tab:n.tab},full:n.full}),!0)}),!i)return}u.imgprev=function(n){u.imgIndex--;u.imgIndex<1&&(u.imgIndex=f.length);u.tabimg(n)};u.imgnext=function(n,t){u.imgIndex++;u.imgIndex>f.length&&(u.imgIndex=1,t)||u.tabimg(n)};u.keyup=function(n){if(!u.end){var t=n.keyCode;n.preventDefault();37===t?u.imgprev(!0):39===t?u.imgnext(!0):27===t&&layer.close(u.index)}};u.tabimg=function(t){f.length<=1||(o.start=u.imgIndex-1,layer.close(u.index),layer.photos(n,!0,t))};u.event=function(){u.bigimg.hover(function(){u.imgsee.show()},function(){u.imgsee.hide()});u.bigimg.find(".layui-layer-imgprev").on("click",function(n){n.preventDefault();u.imgprev()});u.bigimg.find(".layui-layer-imgnext").on("click",function(n){n.preventDefault();u.imgnext()});$(document).on("keyup",u.keyup)};u.loadi=layer.load(1,{shade:"shade"in n?!1:.9,scrollbar:!1});l(f[e].src,function(i){layer.close(u.loadi);u.index=layer.open($.extend({type:1,area:function(){var t=[i.width,i.height],r=[$(window).width()-100,$(window).height()-100];return!n.full&&t[0]>r[0]&&(t[0]=r[0],t[1]=t[0]*r[1]/t[0]),[t[0]+"px",t[1]+"px"]}(),title:!1,shade:.9,shadeClose:!0,closeBtn:!1,move:".layui-layer-phimg img",moveType:1,scrollbar:!1,moveOut:!0,shift:5*Math.random()|0,skin:"layui-layer-photos"+t("photos"),content:'<div class="layui-layer-phimg"><img src="'+f[e].src+'" alt="'+(f[e].alt||"")+'" layer-pid="'+f[e].pid+'"><div class="layui-layer-imgsee">'+(f.length>1?'<span class="layui-layer-imguide"><a href="javascript:;" class="layui-layer-iconext layui-layer-imgprev"><\/a><a href="javascript:;" class="layui-layer-iconext layui-layer-imgnext"><\/a><\/span>':"")+'<div class="layui-layer-imgbar" style="display:'+(r?"block":"")+'"><span class="layui-layer-imgtit"><a href="javascript:;">'+(f[e].alt||"")+"<\/a><em>"+u.imgIndex+"/"+f.length+"<\/em><\/span><\/div><\/div><\/div>",success:function(t){u.bigimg=t.find(".layui-layer-phimg");u.imgsee=t.find(".layui-layer-imguide,.layui-layer-imgbar");u.event(t);n.tab&&n.tab(f[e],t)},end:function(){u.end=!0;$(document).off("keyup",u.keyup)}},n))},function(){layer.close(u.loadi);layer.msg("&#x5F53;&#x524D;&#x56FE;&#x7247;&#x5730;&#x5740;&#x5F02;&#x5E38;<br>&#x662F;&#x5426;&#x7EE7;&#x7EED;&#x67E5;&#x770B;&#x4E0B;&#x4E00;&#x5F20;&#xFF1F;",{time:3e4,btn:["\u4e0b\u4e00\u5f20","\u4e0d\u770b\u4e86"],yes:function(){f.length>1&&u.imgnext(!0,!0)}})})}}}();jQuery.extend({createUploadIframe:function(n,t){var r="jUploadFrame"+n,i='<iframe id="'+r+'" name="'+r+'" style="position:absolute; top:-9999px; left:-9999px"';return window.ActiveXObject&&(typeof t=="boolean"?i+=' src="javascript:false"':typeof t=="string"&&(i+=' src="'+t+'"')),i+=" />",jQuery(i).appendTo(document.body),jQuery("#"+r).get(0)},createUploadForm:function(n,t,i){var e="jUploadForm"+n,s="jUploadFile"+n,r=jQuery('<form  action="" method="POST" name="'+e+'" id="'+e+'" enctype="multipart/form-data"><\/form>'),f,u,o;if(i)for(f in i)jQuery('<input type="hidden" name="'+f+'" value="'+i[f]+'" />').appendTo(r);return u=jQuery("#"+t),o=jQuery(u).clone(),jQuery(u).attr("id",s),jQuery(u).before(o),jQuery(u).appendTo(r),jQuery(r).css("position","absolute"),jQuery(r).css("top","-1200px"),jQuery(r).css("left","-1200px"),jQuery(r).appendTo("body"),r},ajaxFileUpload:function(n){var f,t,e,i;n=jQuery.extend({},jQuery.ajaxSettings,n);var r=(new Date).getTime(),i=jQuery.createUploadForm(r,n.fileElementId,typeof n.data=="undefined"?!1:n.data),h=jQuery.createUploadIframe(r,n.secureuri),u="jUploadFrame"+r,o="jUploadForm"+r;n.global&&!jQuery.active++&&jQuery.event.trigger("ajaxStart");f=!1;t={};n.global&&jQuery.event.trigger("ajaxSend",[t,n]);e=function(r){var e=document.getElementById(u),o,h;try{e.contentWindow?(t.responseText=e.contentWindow.document.body?e.contentWindow.document.body.innerHTML:null,t.responseXML=e.contentWindow.document.XMLDocument?e.contentWindow.document.XMLDocument:e.contentWindow.document):e.contentDocument&&(t.responseText=e.contentDocument.document.body?e.contentDocument.document.body.innerHTML:null,t.responseXML=e.contentDocument.document.XMLDocument?e.contentDocument.document.XMLDocument:e.contentDocument.document)}catch(s){jQuery.handleError(n,t,null,s)}if(t||r=="timeout"){f=!0;try{o=r!="timeout"?"success":"error";o!="error"?(h=jQuery.uploadHttpData(t,n.dataType),n.success&&n.success(h,o),n.global&&jQuery.event.trigger("ajaxSuccess",[t,n])):jQuery.handleError(n,t,o)}catch(s){o="error";jQuery.handleError(n,t,o,s)}n.global&&jQuery.event.trigger("ajaxComplete",[t,n]);n.global&&!--jQuery.active&&jQuery.event.trigger("ajaxStop");n.complete&&n.complete(t,o);jQuery(e).unbind();setTimeout(function(){try{jQuery(e).remove();jQuery(i).remove()}catch(r){jQuery.handleError(n,t,null,r)}},100);t=null}};n.timeout>0&&setTimeout(function(){f||e("timeout")},n.timeout);try{i=jQuery("#"+o);jQuery(i).attr("action",n.url);jQuery(i).attr("method","POST");jQuery(i).attr("target",u);i.encoding?jQuery(i).attr("encoding","multipart/form-data"):jQuery(i).attr("enctype","multipart/form-data");jQuery(i).submit()}catch(s){jQuery.handleError(n,t,null,s)}return jQuery("#"+u).load(e),{abort:function(){}}},uploadHttpData:function(n,t){var i=!t;return i=t=="xml"||i?n.responseXML:n.responseText,t=="script"&&jQuery.globalEval(i),t=="json"&&(i=i.replace("<pre>","").replace("<\/pre>",""),i=i.substring(i.indexOf("{"),i.length),eval("data = "+i)),t=="html"&&jQuery("<div>").html(i).evalScripts(),i}});var verificationValue="decerp.cn",_g_update_flag=22,_g_old_url="//decerp.cc",thisimgsrc="",thisImgArrySrc=[];newphotosrcarray=[];$(document).on("mouseover",".tips",function(){index=layer.tips($(this).data("content"),$(this),{tips:[2,"#ffefe3"],style:["background-color:#FFF8ED; color:#000; border:1px solid #FF9900","#FF9900"],maxWidth:440,time:6e3})});loggin={chklogn:function(n){if(n==-1){layer.alert("\u767b\u5f55\u5df2\u5931\u6548\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\uff01",function(){window.location.href="/login.html"});return}}};Date.prototype.addDays=function(n){this.setDate(this.getDate()+n)};Date.prototype.Format=function(n){var t,i;laydate.skin("molv");t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(n)&&(n=n.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(i in t)new RegExp("("+i+")").test(n)&&(n=n.replace(RegExp.$1,RegExp.$1.length==1?t[i]:("00"+t[i]).substr((""+t[i]).length)));return n};dijige=0;warehouse={supplier:function(){function n(n){$.get("/supplier/suppliercount?key="+n,function(t){loggin.chklogn(t);var i=Math.ceil(t/5);laypage({cont:$("#pageGro"),pages:i,skin:"molv",first:"\u9996\u9875",last:"\u5c3e\u9875",prev:"\u4e0a\u4e00\u9875",next:"\u4e0b\u4e00\u9875",jump:function(t){r(t.curr,n)}})})}function r(n,t){$.getJSON("/supplier/supplierlist?id="+n+"&key="+t,function(n){var i,t,r;for(loggin.chklogn(n),i="",t=0;t<n.length;t++)r=new Date(n[t].sv_suaddtime).Format("yyyy-MM-dd hh:mm:ss"),i+='<tr><td><div class="check-box "><i><input type="checkbox" name="subbox" value="'+n[t].sv_suid+'"><\/i><\/div><\/td> ',i+=isNullOrWhiteSpace(n[t].sv_suname)?'<td class="cour"><span data-id="'+n[t].sv_suid+'" class="showinfo2" >'+n[t].sv_suname+"<\/span><\/td>":'<td class="cour"><span data-id="'+n[t].sv_suid+'" class="showinfo" ><\/span><\/td>',i+="<td><i>\u00a5"+n[t].arrears+"<\/i><\/td>",i+=" <td><i>\u00a5"+n[t].receivable+"<\/i><\/td> ",i+=isNullOrWhiteSpace(n[t].sv_sulinkmnm)?"<td><span>"+n[t].sv_sulinkmnm+"<\/span><\/td>":"<td><span><\/span><\/td>",i+=isNullOrWhiteSpace(n[t].sv_sumoble)?"<td><span>"+n[t].sv_sumoble+"<\/span><\/td>":"<td><span><\/span><\/td>",i+="<td><span>"+r+"<\/span><\/td>",i+=isNullOrWhiteSpace(n[t].sv_suoperation)?"<td><span>"+n[t].sv_suoperation+"<\/span><\/td>":"<td><span><\/span><\/td>",i+="<td>",i+='<a href="javascript:void(0);" class="supplierrepay"  data-id="'+n[t].sv_suid+'">\u8fd8\u6b3e<\/a>',i+='\uff5c<a href="javascript:void(0);" class="showview"  data-id="'+n[t].sv_suid+'">\u6536\u4ed8\u8bb0\u5f55<\/a>',i+="<\/td>",i+="<\/tr>";$("#newwlist").html(i)})}function t(){dijige==0?dijige=$('input[name="subbox"]:checked').val():($("#jilulist").html(""),$("#chchchchchcch").data("id",dijige),$.getJSON("/supplier/getsupplierlog?logid="+$("#chchchchchcch").data("id"),function(n){for(i=0;i<n.length;i++)$("#jilulist").append("<tr><td><span>"+(i+1)+"<\/span><\/td> <td><span>"+new Date(n[i].sv_pc_date).Format("yyyy-MM-dd")+"<\/span><\/td><td><span>"+n[i].sv_p_name+"<\/span><\/td><td><span>"+n[i].sv_p_unit+"<\/span><\/td><td><span>"+n[i].sv_pc_pnumber+"<\/span><\/td><td><i>"+n[i].sv_pc_price+"<\/i><\/td> <\/tr>");$("#gongcjjososos").text(n.length)}),$("#xqtabbox li").hover(function(){$(this).addClass("active").siblings().removeClass("active");var n=$("#xqtabbox li").index(this);$(".reclxqtab>div").eq(n).fadeIn(50).siblings().fadeOut(0)}),$("#chchchchchcch").keydown(function(n){n.keyCode=="13"&&($("#jilulist").html(""),$.getJSON("/supplier/getsupplierlog?logid="+$("#chchchchchcch").data("id")+"&key="+$(this).val(),function(n){for(i=0;i<n.length;i++)$("#jilulist").append("<tr><td><span>"+(i+1)+"<\/span><\/td> <td><span>"+new Date(n[i].sv_pc_date).Format("yyyy-MM-dd")+"<\/span><\/td><td><span>"+n[i].sv_p_name+"<\/span><\/td><td><span>"+n[i].sv_p_unit+"<\/span><\/td><td><span>"+n[i].sv_pc_pnumber+"<\/span><\/td><td><i>"+n[i].sv_pc_price+"<\/i><\/td> <\/tr>");$("#gongcjjososos").text(n.length)}))}));$.get("/supplier/supplierlist?pp="+dijige,function(n){var t,i;loggin.chklogn(n);for(t in n)t=="sv_mr_birthday"?(i=new Date(n[t]).Format("yyyy-MM-dd"),i=="1-01-01"&&(i=""),$("#"+t).val(i),$("."+t).text(i)):($("."+t).text(n[t]),$("#"+t).val(n[t]));dijige=0})}n("");$(document).on("click",".showinfo",function(){dijige=$(this).data("id");Deke.DeKe_dialog.show_Url2("\u4f9b\u5e94\u5546\u8be6\u7ec6\u4fe1\u606f","/html/supplier/viewinfo.html?v=17",t,["670px","540px"])});$(document).on("click","#supplierBaochun",function(){if($("#sv_suname").val().length<2){layer.msg("\u8bf7\u8f93\u5165\u4f9b\u5e94\u5546\u7684\u540d\u5b57");$("#sv_suname").focus();return}if($("#sv_sulinkmnm").val().length<2){layer.msg("\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba\u7684\u540d\u5b57");$("#sv_sulinkmnm").focus();return}if($("#sv_sumoble").val().length<2){layer.msg("\u8bf7\u8f93\u5165\u8054\u7cfb\u7535\u8bdd");$("#sv_sumoble").focus();return}$.ajax({url:"/supplier/Addsupplier",type:"post",data:JSON.stringify($("#addsupplier").serializeArray()),contentType:"application/json",async:!1,success:function(t){if(loggin.chklogn(t),t==1){n("");var i=layer.confirm("\u4f9b\u5e94\u5546\u64cd\u4f5c\u6210\u529f\uff0c\u662f\u5426\u7ee7\u7eed\u64cd\u4f5c\uff1f",{btn:["\u5173\u95ed","\u7ee7\u7eed\u64cd\u4f5c"]},function(){layer.closeAll()},function(){layer.close(i)})}else t==-2?(layer.msg("\u4f9b\u5e94\u5546\u5df2\u7ecf\u5b58\u5728\u8bb0\u5f55\u4e2d"),layer.close(i)):t==-4?(layer.msg("\u4f60\u6ca1\u6709\u8be5\u64cd\u4f5c\u6743\u9650"),layer.close(i)):(layer.msg("\u4f9b\u5e94\u5546\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u91cd\u8bd5"),layer.close(i))}})});$("#update").click(function(){$('input[name="subbox"]:checked').length==1?Deke.DeKe_dialog.show_Url2("\u4fee\u6539\u4f9b\u5e94\u5546","/html/supplier/editinfo.html?v=15",t,["420px","540px"]):layer.msg("\u8bf7\u5148\u62e9\u60a8\u8981\u4fee\u6539\u7684\u4f9b\u5e94\u5546\uff0c\u4e0d\u80fd\u9009\u62e9\u591a\u4e2a\uff01")});$("#query_like").keyup(function(){n($("#query_like").val())});$("#refresh").click(function(){n("")});$("[data-name='delete']").click(function(){$('input[name="subbox"]:checked').length==1?layer.confirm("\u60a8\u786e\u8ba4\u8981\u5220\u9664\u5148\u4e2d\u7684\u4f9b\u5e94\u5546\u5417\uff1f",function(){$.post("/supplier/supplierdelete",{id:$('input[name="subbox"]:checked').val()},function(t){loggin.chklogn(t);t==-1?(layer.alert("\u767b\u5f55\u5df2\u5931\u6548\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\uff01"),window.location.href="/login.html"):t==-2?layer.msg("\u4f60\u6ca1\u6709\u8be5\u64cd\u4f5c\u6743\u9650"):(layer.msg("\u5220\u9664\u6210\u529f"),n(""))})}):layer.msg("\u8bf7\u5148\u62e9\u60a8\u8981\u4fee\u6539\u7684\u4f9b\u5e94\u5546\uff0c\u4e0d\u80fd\u9009\u62e9\u591a\u4e2a\uff01")})},procurement:function(){}};var index=0,animationMode=5,Deke={DeKe_dialog:{show_Url:function(n,t,i,r,u,f){$.get(t,function(t){index=layer.open({type:1,title:n,shade:.6,moveType:1,shift:animationMode,area:f||["620px","540px"],closeBtn:1,content:t,scrollbar:!1,btn:i,yes:r,success:function(){u&&u()}})})},show_Url1:function(n,t,i,r,u){$.get(t,function(t){index=layer.open({type:1,title:n,shade:.6,moveType:1,shift:0,area:u||["620px","540px"],closeBtn:1,content:t,scrollbar:!1,yes:i});r&&r()})},show_Url2:function(n,t,i,r){$.get(t,function(t){index=layer.open({type:1,title:n,shade:.6,moveType:1,shift:animationMode,area:r||["620px","540px"],closeBtn:1,content:t,scrollbar:!1,success:function(){i&&i()}})})},show_Url2WithData:function(n,t,i,r,u){$.get(t,function(t){index=layer.open({type:1,title:n,shade:.6,moveType:1,shift:animationMode,area:r||["620px","540px"],closeBtn:1,content:t,scrollbar:!1,success:function(){i&&i(u)}})})},show_Url2WithDataNoCloseBtn:function(n,t,i,r,u){$.get(t,function(t){index=layer.open({type:1,title:n,shade:.6,moveType:1,shift:animationMode,area:r||["620px","540px"],closeBtn:0,content:t,scrollbar:!1,success:function(){i&&i(u)}})})},show_Url3:function(n,t,i,r,u){$.get(t,function(t){index=layer.open({id:u,type:1,title:n,shade:.6,moveType:1,shift:animationMode,area:r||["620px","540px"],closeBtn:1,content:t,scrollbar:!1,success:function(){i&&i()}})})},getShowMaxBtnPage:function(n,t,i,r,u,f){$.get(t,function(t){index=layer.open({id:u,type:1,title:n,shade:.6,moveType:1,shift:animationMode,area:r||["620px","540px"],closeBtn:1,content:t,offset:f,scrollbar:!1,success:function(){i&&i()}})})},loadHtml:function(n,t){$("#"+t).load(n)}}},expenditure={category:function(){$.getJSON("/expenditure/GetCategory",function(n){for(var r,t="",i=0;i<n.length;i++)if(n[i].ecategorylive==0){for(t+=' <tr  data-id="'+n[i].ecategoryid+'">',t+='  <td class="textRight">',t+='<ul class="cate_body"><li data-id="'+n[i].ecategoryid+'"><a href="#">'+n[i].ecategoryname+'<i class="poriss  icon-edit " id='+n[i].ecategoryid+' + data[b].ecategoryid + ><\/i><em class="porvv icon-trash delete"  data-id="'+n[i].ecategoryid+'"><\/em><\/a><\/li>',t+='<li class="new_type" data-id="'+n[i].ecategoryid+'">',t+='                       <div style="display: none;">',t+='               <input class="left" value="'+n[i].ecategoryname+'" maxlength="20">',t+='               <i class="icon-ok okbtn1"><\/i>',t+=' <i class="icon-remove removebtn"><\/i>',t+=" <\/div> <\/li><\/ul>",t+='<\/td> <td class="textLeft"> <ul class="cate_body">',r=0;r<n.length;r++)n[r].superiorecategoryid==n[i].ecategoryid&&(t+='<li data-id="'+n[r].ecategoryid+'"><a href="#" id='+n[r].ecategoryid+">"+n[r].ecategoryname+'<i class="poriss  icon-edit " id='+n[r].ecategoryid+'><\/i><em class="porvv icon-trash delete"  data-id="'+n[r].ecategoryid+'"><\/em><\/a><\/li>',t+='<li class="new_type" data-id="'+n[r].ecategoryid+'">',t+='                       <div style="display: none;">',t+='               <input class="left" value="'+n[r].ecategoryname+'" maxlength="20">',t+='               <i class="icon-ok okbtn1"><\/i>',t+=' <i class="icon-remove removebtn"><\/i>',t+=" <\/div> <\/li>");t+='<li class="new_type">';t+='                     <p class="addSubtype" id='+n[i].ecategoryid+' ><i class="icon-plus"><\/i><\/p>';t+='                       <div style="display: none;">';t+='               <input class="left" maxlength="20">';t+='               <i class="icon-ok okbtn"><\/i>';t+=' <i class="icon-remove removebtn"><\/i>';t+=" <\/div> <\/li>";t+="    <\/ul> <\/td> <\/tr>"}$("#Categorylist").html(t)});$(document).on("click",".icon-edit",function(){var n=$(this).parent().parent().text(),t=$(this).attr("id");layer.prompt({formType:0,title:"\u8bf7\u8f93\u5165\u5206\u7c7b",value:n,cancel:function(){}},function(n){var i=[];i.push({name:"model.ecategoryid",value:t});i.push({name:"model.ecategoryname",value:n});$.ajax({url:"/expenditure/PpostCategory",type:"POST",contentType:"application/x-www-form-urlencoded",dataType:"json",data:i,success:function(){layer.msg("\u66f4\u65b0\u6210\u529f");expenditure.category()},error:function(){alert("\u8bf7\u6c42\u8d85\u65f6\uff01")}})})});$(document).on("click",".addSubtype",function(){var n=null,n=$(this).attr("id");layer.prompt({formType:0,title:"\u8bf7\u8f93\u5165\u5206\u7c7b",cancel:function(){}},function(t){$.post("/expenditure/PpostCategory",{ecategoryname:t,ecategorylive:1,superiorecategoryid:n},function(n){expenditure.category();n>0&&(layer.msg("\u6dfb\u52a0\u6210\u529f\uff01"),expenditure.category())})})});$("#xxx").click(function(){layer.prompt({title:"\u8f93\u5165\u5927\u5206\u7c7b\u540d\u79f0\uff0c\u5e76\u786e\u8ba4",formType:0},function(n){layer.load();$.post("/expenditure/PpostCategory",{ecategoryname:n,ecategorylive:0},function(t){if(layer.closeAll(),t>0){var i="";i+='<tr data-id="'+t+'">';i+='<td class="textRight">';i+='<div class="updateclass">';i+='<p class="type cutlong"  id="'+t+'" >'+n+"<\/p>";i+='<\/div><\/td> <td class="textLeft"> <ul class="cate_body">';i+='<li class="new_type">';i+='<p class="addSubtype"><i class="icon-plus"><\/i><\/p>';i+='<div style="display: none;">';i+='<input class="left" maxlength="20">';i+='<i class="icon-ok okbtn"><\/i>';i+='<i class="icon-remove removebtn"><\/i>';i+="<\/div>";i+="<\/li> <\/ul><\/td> <\/tr>";$("#Categorylist").append(i);layer.msg("\u6dfb\u52a0\u6210\u529f\uff01");expenditure.category()}})})});$(document).on("click",".delete",function(){var n=$(this);layer.confirm("\u786e\u8ba4\u8981\u5220\u9664\u9009\u4e2d\u7684\u4fe1\u606f\u5417\uff1f",{btn:["\u786e\u8ba4","\u53d6\u6d88\u5220\u9664"]},function(){$.post("/expenditure/deletecategory/"+n.data("id"),function(t){if(t>0){layer.alert("\u6b63\u5728\u4f7f\u7528\u4e2d\uff0c\u4e0d\u80fd\u5220\u9664");return}$.ajax({type:"GET",url:"/expenditure/deleteCate?id="+n.data("id"),dataType:"json",success:function(){n.parent().remove();layer.msg("\u5220\u9664\u6210\u529f");expenditure.category()}})})})})}},sms={smsconfiguration:function(){function n(){$.getJSON("/sms/Getmtemolate/"+classsid,function(n){for(var t=0;t<n.length;t++)$("#listtemp").append(' <li data-id="'+n[t].sms_mes_id+'">  <p>'+n[t].sms_mes_text+"<\/p> <\/li>");$(".dxpzxxset li").click(function(){$(this).addClass("active").siblings().removeClass("active")})})}function t(){$.post("/sms/Update_smstemp",{id:$("#listtemp li.active").data("id"),text:$("#listtemp li.active ").text(),classid:classsid},function(n){n.r&&(layer.closeAll(),layer.msg("\u4fdd\u5b58\u6210\u529f"),$("#"+n.name).text(n.mes))})}$(".stecs i").click(function(){$(this).parent().toggleClass("on").siblings().removeClass("on");var n=$(this).parent().hasClass("on")?1:0;$.post("/sms/Update_smskaiguan",{id:n,name:$(this).parent().attr("id")},function(n){n&&layer.msg("\u4fdd\u5b58\u6210\u529f")})});$.getJSON("/system/GetUserSv_userconfig",function(n){var i=$.parseJSON(n.sv_smscontion),t;i.newuser==1?$("#newuser").addClass("on"):$("#newuser").removeClass("on");i.chongci==1?$("#chongci").addClass("on"):$("#chongci").removeClass("on");i.ischuxu==1?$("#ischuxu").addClass("on"):$("#ischuxu").removeClass("on");i.xiaofei==1?$("#xiaofei").addClass("on"):$("#xiaofei").removeClass("on");i.syzfu==1?$("#syzfu").addClass("on"):$("#syzfu").removeClass("on");for(t in i)t!="newuser"&&t!="ischuxu"&&t!="xiaofei"&&t!="ischuxu"&&t!="chongci"&&t!="syzfu"&&$("#"+t).text(i[t])});$(".chetemplate").click(function(){classsid=$(this).data("id");Deke.DeKe_dialog.show_Url("\u66f4\u6362\u6a21\u677f","/Html/sms/smstempate.html",["\u4fdd\u5b58","\u53d6\u6d88"],t,n,["600px","560px"])})},List:function(){function n(n,t,i,u){$.get("/Sms/GetCount/",{day:n,date:t,date2:i,sate:u},function(f){var e=Math.ceil(f/6);laypage({cont:$("#pageGro"),pages:e,skin:"molv",first:"\u9996\u9875",last:"\u5c3e\u9875",prev:"\u4e0a\u4e00\u9875",next:"\u4e0b\u4e00\u9875",jump:function(f){r(f.curr,n,t,i,u)}})})}function r(n,t,i,r,u){var f="";$.getJSON("/Sms/GetList/"+n,{day:t,date:i,date2:r,sate:u},function(n){function u(){$("#text_name").val(f.data("name")+"("+f.data("moble")+")");$("#txt_content").val(f.data("text").replace(/\u3010/ig,"").replace(/\u3011/ig,""))}var i,t,r;if(n!=null)for(i="",t=0;t<n.length;t++)r=n[t].sms_smslist_text,r.length>20&&(r=r.substring(0,30)+"..."),i+=' <tr data-text="'+n[t].sms_smslist_text+'" data-moble="'+n[t].sms_smslistmoble+'" ',i+='data-name="'+n[t].member_name+'"> <td>'+n[t].member_name+"<\/td> <td><span>"+n[t].sms_smslistmoble+"<\/span><\/td><td>",i+="<span>"+r+"<\/span><\/td>  <td><span>\u5df2\u53d1\u9001<\/span><\/td>  <td>",i+="<span>"+new Date(n[t].sms_smslistdate).Format("yyyy-MM-dd hh:mm:ss")+"<\/span><\/td> ",i+='<td><a href="javascript:void(0);" class="view_ms" >\u8be6\u60c5<\/a><\/td> <\/tr>';$("#prlist").html(i);$(".view_ms").click(function(){f=$(this).parent().parent();Deke.DeKe_dialog.show_Url("\u67e5\u770b\u4fe1\u606f\u8be6\u60c5","/Html/sms/viewmes.html",["\u5173\u95ed"],null,u,["460px","350px"])})})}if(n("","","",-1),$("#sate_satae").change(function(){n($(".bzhxdaohang li.active").data("val"),$("#date").val(),$("#date2").val(),$("#sate_satae").val(),-1)}),$("#woyaochaxue").click(function(){n($(".bzhxdaohang li.active").data("val"),$("#date").val(),$("#date2").val(),-1)}),$(".bzhxdaohang li ,.znfxhyxqbox .bzhxdaohang li").click(function(){$(this).addClass("active").siblings().removeClass("active");var t=$(".znfxhyxqbox .bzhxdaohang li").index(this);$(".winlvom>div").eq(t).fadeIn().siblings().fadeOut(0);$(this).data("val")!=3&&n($(this).data("val"));$(".qitbbb").hasClass("active")?$(".sjxuantime").fadeIn(250):$(".sjxuantime").hide(150)}),$("#usrCount").length==0){var i={elem:"#date",format:"YYYY/MM/DD",max:"2099-06-16 23:59:59",istime:!1,istoday:!1,choose:function(n){t.min=n;t.start=n}},t={elem:"#date2",format:"YYYY/MM/DD",min:laydate.now(),max:laydate.now(),istime:!1,istoday:!1,choose:function(n){i.max=n}};laydate(i);laydate(t);laydate.skin("molv")}}};$.extend({getJson:function(n,t,i){return $.ajax({url:n,type:"get",dataType:"json",async:!1,cache:!0,data:t,success:function(n){i(n)}})},getAsyncJson:function(n,t,i){return $.ajax({url:n,type:"get",dataType:"json",async:!0,cache:!0,data:t,success:function(n){i(n)}})},getAsyncJson2:function(n,t,i){return $.ajax({url:n,type:"get",dataType:"json",async:!0,cache:!0,data:t,success:function(n){i(n)}})},postAsyncJson:function(n,t,i){return $.ajax({url:n,type:"post",dataType:"json",async:!0,cache:!1,data:t,success:function(n){i(n)}})},postAsyncContentJson:function(n,t,i){return t=JSON.stringify(t),$.ajax({url:n,type:"post",dataType:"json",contentType:"application/json",async:!0,cache:!1,data:t,success:function(n){i(n)}})},postJson:function(n,t,i){return $.ajax({url:n,type:"post",dataType:"json",async:!1,cache:!1,data:t,success:function(n){i(n)}})},getHtml:function(n,t,i){return $.ajax({url:n,type:"get",dataType:"html",async:!1,cache:!1,data:t,success:function(n){i(n)}})},getAsyncHtml:function(n,t,i){return $.ajax({url:n,type:"get",dataType:"html",async:!0,cache:!1,data:t,success:function(n){i(n)}})},postHtml:function(n,t,i){return $.ajax({url:n,type:"post",dataType:"html",async:!0,cache:!1,data:t,success:function(n){i(eval(n))}})},commonUploadImg:function(n,t,i,r){var u,f,e;if(!n){layer.msg("\u4e0a\u4f20\u63a7\u4ef6ID\u4e0d\u80fd\u4e3a\u7a7a\uff01");return}if(u=new FormData,f=$("#"+n)[0].files[0],!f){layer.msg("\u8bf7\u9009\u62e9\u56fe\u7247\u6587\u4ef6");return}if(f.size>5242880){layer.msg("\u8bf7\u4e0a\u4f20\u5c0f\u4e8e5M\u4ee5\u4e0b\u7684\u56fe\u7247");return}if(f.type!="image/jpeg"&&f.type!="image/png"){layer.msg("\u8bf7\u4e0a\u4f20\u56fe\u7247\u6587\u4ef6\uff01");return}u.append("file",f);u.append("userId",user_id);u.append("uploadFileType",t);u.append("isCompress",i);e="http://res.decerp.cc/api/UploadImg/CommonImg";document.location.protocol&&document.location.protocol=="https:"&&(e="https://res.decerp.cc/api/UploadImg/CommonImg");$.ajax({url:e,type:"POST",data:u,processData:!1,contentType:!1,async:!1,cache:!1,success:function(n){n&&n.succeed?r(n.values):n.errmsg?layer.msg(n.errmsg):layer.msg("\u4e0a\u4f20\u56fe\u7247\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff01")}})},commonUploadExelFile:function(n,t,i){if(!n){layer.msg("\u4e0a\u4f20\u63a7\u4ef6ID\u4e0d\u80fd\u4e3a\u7a7a\uff01");return}var r=new FormData,u=$("#"+n)[0].files[0];if(!u){layer.msg("\u8bf7\u9009\u62e9exel\u6587\u4ef6");return}if(u.size>5242880){layer.msg("\u8bf7\u4e0a\u4f20\u5c0f\u4e8e5M\u4ee5\u4e0b\u7684\u6587\u4ef6");return}r.append("file",u);r.append("userId",user_id);r.append("uploadFileType","excel");$.ajax({url:"//qode.decerp.cc"+t,type:"POST",data:r,processData:!1,contentType:!1,async:!1,cache:!1,success:function(n){n?i(JSON.parse(n)):layer.msg("\u4e0a\u4f20\u6587\u4ef6\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff01")}})}});money="";$("#changePwd").click(function(){Deke.DeKe_dialog.show_Url3("\u4fee\u6539\u5bc6\u7801","/html/system/ChangePwd.html?v=60",changePwd,["400px",""])});$(document).on("click","#TrialVersion",function(){$.get("/AjaxUser/GetTrialVersionPermissions/",function(n){n==1?layer.msg("\u60a8\u5df2\u9886\u53d6\u8fc7\u4e86\uff01\uff01"):$.post("/AjaxUser/ReceiveTrialVersion",function(n){n==1?layer.msg("\u606d\u559c\u60a8\uff0c\u6210\u529f\u9886\u53d6\u4e86\u9ad8\u7ea7\u8bd5\u7528\u7248,\u9000\u51fa\u91cd\u65b0\u767b\u5f55\u5373\u53ef\u4eab\u53d7\u9ad8\u7ea7\u7248\u529f\u80fd"):n==2?layer.msg("\u9886\u53d6\u5931\u8d25\uff0c\u5237\u65b0\u91cd\u65b0\u8bd5\u9886"):n==2&&layer.msg("\u60a8\u5df2\u9886\u53d6\u8fc7\u4e86\uff01\uff01")})})});$(document).on("change","#uplogoImg",function(){$.commonUploadImg("uplogoImg","ShopLogo","true",function(n){n&&$.post("/AjaxUser/UploadLogo?id=1&imgurl="+n,function(t){t.id==!0?($("#logoid").attr("src",_g_res_images_url+n),$("#showlogoImg").attr("src",_g_res_images_url+n)):layer.msg(t.name)})})});$(document).on("change","#upLoadImg",function(){$.commonUploadImg("upLoadImg","ShopLogo","true",function(n){$.post("/AjaxUser/UploadLogo?id=2&imgurl="+n,function(t){t.id==!0?($("#userImg").attr("src",_g_res_images_url+n),$("#showImg").attr("src",_g_res_images_url+n)):layer.msg(t.name)})})});amtabsildes=function(){this.active="active"};amtabsildes.prototype.init=function(n){var i=$(n.a),r=$(n.b),t=this;i.each(function(n,i){$(i).hover(function(){$(this).addClass(t.active).siblings().removeClass(t.active);r.eq(n).addClass(t.active).siblings().removeClass(t.active)})})};amtabsildes1=new amtabsildes;amtabsildes1.init({a:"#tab-header1 li",b:"#tab-content1>div"});clearCache=(new Date).Format("yyyyMMddhhmmss");switch0=!1;_g_update_flag>0&&(_l_update_flag=localStorage.getItem("update_demo"),_g_update_flag>_l_update_flag&&(switch0=!0,localStorage.setItem("update_demo",_g_update_flag)));switch0?($(".gonggao_1").addClass("active_block"),$(".citiebox").css("margin-top","4%"),settimefadIn=setTimeout(function(){$(".gonggao_1").removeClass("active_block");$(".citiebox").css("margin-top","7%")},13e3)):($(".gonggao_1").css("display","none"),$(".citiebox").css("margin-top","7%"));$(".yanshi_btn").click(function(){$(".box-black").css("display","block");$(".demo_2").addClass("more_demo");layer.tips("\u2460\u8bf7\u70b9\u51fb\u5fae\u4fe1\u8425\u9500",".demo_2",{time:5e5,tips:1});btnknowFn();closeFn_end();$(".demo_2").click(function(){localStorage.setItem("decerp_demo_result",switch0)})});localStorage.getItem("decerp_demo_result")&&($(".box-black2").css("display","block"),$(".demo_3").addClass("more_demo"),localStorage.clear("decerp_demo_result"),layer.tips("\u2461\u8bf7\u70b9\u51fb\u5fae\u4fe1\u6d88\u606f\u7ed1\u5b9a",".demo_3",{time:5e5,tips:3}),btnknowFn(),closeFn_end(),$(".demo_3").click(function(){$(".box-black2").css("display","block");$(".demo_3").removeClass("more_demo");$(".layui-layer-content").addClass("active_none");localStorage.clear("update_demo");setTimeout(function(){$(".demo_4").addClass("more_demo");layer.tips("\u7b2c\u4e09\u6b65",".demo_4",{time:5e5,tips:3});btnknowFn();closeFn_end();$(".demo_4").click(function(){$(".box-black2").css("display","none");$(".demo_4").removeClass("more_demo");$(".layui-layer-content").addClass("active_none")})},60)}));$("#handover").unbind("click");$("#handover").click(function(){if(SuccessionSwitch){var n="";n=_g_user_config.order_operator==null?"\u7ba1\u7406\u5458":_g_user_config.order_operator;Deke.DeKe_dialog.show_Url2("\u5458\u5de5\u5de5\u53f7:"+n,"/employeeHandover/_PartialEmployeeHandover",employeeHandover,["650px","520px"])}else layer.msg("\u672a\u5f00\u542f\u4ea4\u63a5\u73ed\u529f\u80fd\uff01")});successionPrintModel=null;$(document).off("click","#successionReconciliation");$(document).on("click","#successionReconciliation",function(){SuccessionMethods($("#selectDate-money").val(),$("#selectDate-money2").val())});$(document).off("click","#successionPrint");$(document).on("click","#successionPrint",function(){$(this).hasClass("open")?$(this).removeClass("open"):$(this).addClass("open")});preventTheRepeatClick=!0;$(document).on("click","#successionAndExit",function(){if(preventTheRepeatClick)if(preventTheRepeatClick=!1,$("#successionPrint").hasClass("open"))PrintSuccessionInfo();else var n=$.ajax({url:"/AjaxUser/LogOut",timeout:5e3,type:"post",data:{order_operator:_g_user_config.order_operator,startDate:$("#selectDate-money").val(),endDate:$("#selectDate-money2").val(),flag:"exit"},dataType:"json",success:function(){location.href=_g_is_distributor_customer||verify_distributor_id==100?"../Login":"../Login"},complete:function(t,i){i=="timeout"&&(n.abort(),layer.msg("\u4ea4\u63a5\u73ed\u8bf7\u6c42\u8d85\u65f6"),preventTheRepeatClick=!0)}})});var hexcase=0,b64pad="",chrsz=8;
/*! layPage-v1.3.0 \u5206\u9875\u7ec4\u4ef6 License MIT  http://laypage.layui.com/ By \u8d24\u5fc3 */
!function(){"use strict";function t(u){var f="laypagecss";t.dir="dir"in t?t.dir:n.getpath+"/skin/laypage.css";new n(u);t.dir&&!i[r](f)&&n.use(t.dir,f)}t.v="1.3";var i=document,r="getElementById",u="getElementsByTagName",f=0,n=function(n){var t=this,i=t.config=n||{};i.item=f++;t.render(!0)};n.on=function(t,i,r){return t.attachEvent?t.attachEvent("on"+i,function(){r.call(t,window.even)}):t.addEventListener(i,r,!1),n};n.getpath=function(){var n=document.scripts,t=n[n.length-1].src;return t.substring(0,t.lastIndexOf("/")+1)}();n.use=function(n,r){var f=i.createElement("link");f.type="text/css";f.rel="stylesheet";f.href=t.dir;r&&(f.id=r);i[u]("head")[0].appendChild(f);f=null};n.prototype.type=function(){var n=this.config;if("object"==typeof n.cont)return void 0===n.cont.length?2:3};n.prototype.view=function(){var u=this,n=u.config,r=[],i={};if(n.pages=0|n.pages,n.curr=0|n.curr||1,n.groups="groups"in n?0|n.groups:5,n.first="first"in n?n.first:"&#x9996;&#x9875;",n.last="last"in n?n.last:"&#x5C3E;&#x9875;",n.prev="prev"in n?n.prev:"&#x4E0A;&#x4E00;&#x9875;",n.next="next"in n?n.next:"&#x4E0B;&#x4E00;&#x9875;",n.pages<=1)return"";for(n.groups>n.pages&&(n.groups=n.pages),i.index=Math.ceil((n.curr+(n.groups>1&&n.groups!==n.pages?1:0))/(0===n.groups?1:n.groups)),n.curr>1&&n.prev&&r.push('<a href="javascript:;" class="laypage_prev" data-page="'+(n.curr-1)+'">'+n.prev+"<\/a>"),i.index>1&&n.first&&0!==n.groups&&r.push('<a href="javascript:;" class="laypage_first" data-page="1"  title="&#x9996;&#x9875;">'+n.first+"<\/a><span>&#x2026;<\/span>"),i.poor=Math.floor((n.groups-1)/2),i.start=i.index>1?n.curr-i.poor:1,i.end=i.index>1?function(){var t=n.curr+(n.groups-i.poor-1);return t>n.pages?n.pages:t}():n.groups,i.end-i.start<n.groups-1&&(i.start=i.end-n.groups+1);i.start<=i.end;i.start++)i.start===n.curr?r.push('<span class="laypage_curr" '+(/^#/.test(n.skin)?'style="background-color:'+n.skin+'"':"")+">"+i.start+"<\/span>"):r.push('<a href="javascript:;" data-page="'+i.start+'">'+i.start+"<\/a>");return n.pages>n.groups&&i.end<n.pages&&n.last&&0!==n.groups&&r.push('<span>&#x2026;<\/span><a href="javascript:;" class="laypage_last" title="&#x5C3E;&#x9875;"  data-page="'+n.pages+'">'+n.last+"<\/a>"),i.flow=!n.prev&&0===n.groups,(n.curr!==n.pages&&n.next||i.flow)&&r.push(function(){return i.flow&&n.curr===n.pages?'<span class="page_nomore" title="&#x5DF2;&#x6CA1;&#x6709;&#x66F4;&#x591A;">'+n.next+"<\/span>":'<a href="javascript:;" class="laypage_next" data-page="'+(n.curr+1)+'">'+n.next+"<\/a>"}()),'<div name="laypage'+t.v+'" class="laypage_main laypageskin_'+(n.skin?function(n){return/^#/.test(n)?"molv":n}(n.skin):"default")+'" id="laypage_'+u.config.item+'">'+r.join("")+function(){return n.skip?'<span class="laypage_total"><label>&#x5230;&#x7B2C;<\/label><input type="number" min="1" onkeyup="this.value=this.value.replace(/\\D/, \'\');" class="laypage_skip"><label>&#x9875;<\/label><button type="button" class="laypage_btn">&#x786e;&#x5b9a;<\/button><\/span>':""}()+"<\/div>"};n.prototype.jump=function(t){if(t){for(var r=this,f=r.config,e=t.children,o=t[u]("button")[0],s=t[u]("input")[0],i=0,h=e.length;h>i;i++)"a"===e[i].nodeName.toLowerCase()&&n.on(e[i],"click",function(){var n=0|this.getAttribute("data-page");f.curr=n;r.render()});o&&n.on(o,"click",function(){var n=0|s.value.replace(/\s|\D/g,"");n&&n<=f.pages&&(f.curr=n,r.render())})}};n.prototype.render=function(n){var u=this,t=u.config,e=u.type(),f=u.view();2===e?t.cont.innerHTML=f:3===e?t.cont.html(f):i[r](t.cont).innerHTML=f;t.jump&&t.jump(t,n);u.jump(i[r]("laypage_"+t.item));t.hash&&!n&&(location.hash="!"+t.hash+"="+t.curr)};"function"==typeof define?define(function(){return t}):"undefined"!=typeof exports?module.exports=t:window.laypage=t}();var shortcut_key_json={"8":"backspace","9":"tabtab","12":"clear","13":"enter","16":"shift","17":"control","18":"alt","19":"pause","20":"capslock","27":"escape","32":"space","33":"prior","34":"next","35":"end","36":"home","37":"\u2190","38":"\u2191","39":"\u2192","40":"\u2193","41":"select","42":"print","43":"execute","45":"insert","46":"delete","47":"help","48":"0","49":"1","50":"2","51":"3","52":"4","53":"5","54":"6","55":"7","56":"8","57":"9","65":"a","66":"b","67":"c","68":"d","69":"e","70":"f","71":"g","72":"h","73":"i","74":"j","75":"k","76":"l","77":"m","78":"n","79":"o","80":"p","81":"q","82":"r","83":"s","84":"t","85":"u","86":"v","87":"w","88":"x","89":"y","90":"z","96":"kp_0","97":"kp_1","98":"kp_2","99":"kp_3","100":"kp_4","101":"kp_5","102":"kp_6","103":"kp_7","104":"kp_8","105":"kp_9","106":"kp_multiply","107":"+","108":"kp_separator","109":"-","110":"kp_decimal","111":"kp_divide","112":"f1","113":"f2","114":"f3","115":"f4","116":"f5","117":"f6","118":"f7","119":"f8","120":"f9","121":"f10","122":"f11","123":"f12","124":"f13","125":"f14","126":"f15","127":"f16","128":"f17","129":"f18","130":"f19","131":"f20","132":"f21","133":"f22","134":"f23","135":"f24","136":"num_lock","137":"scroll_lock","187":"acute","188":"comma","189":"minus","190":"period","192":"numbersign","210":"plusminus","212":"copyright","213":"guillemotleft","214":"masculine","215":"ae","216":"cent","217":"questiondown","218":"onequarter","220":"lessgreater","221":"plusasterisk","227":"multiply","228":"acircumflex","229":"ecircumflex","230":"icircumflex","231":"ocircumflex","232":"ucircumflex","233":"ntilde","234":"yacute","235":"oslash","236":"aring","237":"ccedilla","238":"thorn","239":"eth","240":"diaeresis","241":"agrave","242":"egrave","243":"igrave","244":"ograve","245":"ugrave","246":"adiaeresis","247":"ediaeresis","248":"idiaeresis","249":"odiaeresis","250":"udiaeresis","251":"ssharp","252":"asciicircum","253":"sterling","254":"mode_switch"},comon_key_arr=[],shortcut_key_repeat=!1,osd=1,clikcname="",dataconioctorn=null,jiaodianname="",jieshuanid=0,ProductTotalPricesum=0,swiper,checkSubmitFlg=!1,memberlist="",productlistJsonList=[],productlistJsonList_bak=[],StrEmployeelId="",overdue_userecord_id="",member_product_overdue_id="",Preferential_TopUpGiving_ConfigList="",configleveldata=[],configleveldata_Topup="",isShowWindow=!1,keyup_Code,key_close_window=!1,capital_letters=!0,_member_discount=100,_cache_memberinfo_json,new_cache_memberinfo_json=null,_common_csshjsbox_window_open=!1,wxauthcode_waitfor=!1,order_query_pending=!1,wxauthcode_isSuccess=!1,_g_wechatPayNumber="",_g_cateringRegionListCacheJson,_g_catering_order_list_print_Json={},_g_deductIntegral=0,jifendixiankaiguan=!1,flsgindexclose=0,ttuser_descountkeyval=0,xianjinkeyval=0,yinshoukeycal=0,guidarr=[],guidarrcansle=[],_g_sumorigprice=0,_g_catering_print_data_total=0,_g_catering_print_data_index=0,_g_memberWechatPayCallback=!1,_g_withlist_remark="",_g_noPicture_Way=!0,checkedemptyeec=[],checkedemptyid={},_g_thisProductNewSpecInfo="",_g_thisObj_seriaNumber,seriaNumberArray_active_ImemCounts=0,seriaNumber_imem_obj={},data_order_product_status={New:0,Pendding:1,Paid:2},collectSwitch=!0,is_SingleProduct_ReturnGoods=!1,is_update_order_discount=!1,single_discount_amount_Remarks="",sv_discount_config=[],getmenberprot={},getmenberprotArr=[],member_surplus_total=0,countfrenn_falf=!1,promotionConfig_data=[],promotion_exceed_limit=[],promotion_product_guid=[],promotion_org_product_list=[],settlement_product_list=[],activity_conditions=[],sales_promotion_conditions=[],Current_operation_Settlement_product_list=[];is_SingleProduct_ReturnGoods||(_Settlement_text=$("#Cashlebtn").text(),_Should_be_charged_text=$("#Should_be_charged").text());width=$(window).width();cash_get_product_number=width>=1500&&width<1697?30:width>1280&&width<1500?24:width>=1270&&width<=1280?20:width>960&&width<1270?15:width>900&&width<=960?15:width<=900?8:42;GetProductList(1,0,-1,0,0,"");$(function(){getkey_settingInfo()});$(document).on("click","#jiFenDiXian",function(){var n,t;for(guidarrcansle=[],n=0;n<guidarr.length;n++)guidarrcansle.push({guid:guidarr[n].guid,id:guidarr[n].id,sv_serialnumber:guidarr[n].sv_serialnumber,userecord_id:guidarr[n].userecord_id,leftcount:guidarr[n].leftcount,getmenber:!1});if(t=parseInt($("#memberintegral").text()),t>=parseInt($("#exchange_value").val())&&parseInt($("#exchange_value").val())>0)jifendixiankaiguan=!jifendixiankaiguan,jifendixiankaiguan?Judgingindustry()?ductionchare():automaticChangeMoney(!0,0):Judgingindustry()?zhonger("",!0):(zhonger(),automaticChangeMoney(!1,member_surplus_total)),jifendixiankaiguan&&IntegralToNow();else return parseInt($("#exchange_value").val())<=0?layer.msg("\u62b5\u6263\u79ef\u5206\u4e0d\u80fd\u4f4e\u4e8e0"):layer.msg("\u6b64\u4f1a\u5458\u6700\u591a\u53ea\u80fd\u62b5\u6263"+t+"\u79ef\u5206"),!1});$(document).unbind("click","#userlist .xianzhehuiyan").on("click","#userlist .xianzhehuiyan",function(){if($(this).data("isoverdue"))layer.msg("\u6b64\u5361\u5df2\u8fc7\u671f");else if(this.id==1)layer.msg("\u6b64\u5361\u5df2\u6302\u5931");else{$("#userid").val($(this).parent().parent().data("user_id"));$("#query_user").val($(this).parent().parent().data("sv_mr_cardno")).data("id",$(this).parent().parent().data("id"));var n=$("#csshjsbox_window_open").val();n?paySelectMemberFn($(this).attr("data-sv_mr_cardno"),$(this).attr("data-user_id"),$(this).attr("data-level"),$(this).parent().parent().data("id")):clickSinglegetuser($(this).parent().parent().data("user_id"),$(this).parent().parent().data("id"));$("#layerclose_hidden").val()?layer.close($("#layerclose_hidden").val()):layer.close(index);onloadcardshop($(this).parent().parent().data("id"))}});Itemdetailarr=[];checkedProductId={};$(document).unbind("click","#searchdata .selectcardfo").on("click","#searchdata .selectcardfo",function(){var n,i,u,t,f,r;if($(".layui-layer").css("width","950px"),$("#cardlist-cash").show(0),$("#menbersubcard").addClass("col-xs-5"),$(".layui-layer").css("margin","auto"),$(".layui-layer").css("left","0"),$(".layui-layer").css("right","0"),$(".layui-layer-setwin .layui-layer-close2").addClass("active"),$("#determinePurchase").hide(0),$(this).addClass("tranactive").siblings().removeClass("tranactive"),$("#menbersubcard").css("border-right","2px solid #f5f5f5"),n=$(this).data("combination_new"),n&&n.length>0){for(i="",u=[],t=0;t<n.length;t++)u=[],f=checkedProductId[n[t].userecord_id],r="",f!=undefined&&(r="checked"),u.push(n[t]),i+="<tr><td>"+(n[t].sv_p_name||"")+"<\/td>",i+="<td>"+(n[t].validity_date||"")+"<\/td>",i+="<td>"+(n[t].sv_mcc_sumcount||0)+"<\/td>",i+="<td>"+(n[t].sv_mcc_leftcount||0)+"<\/td>",i+=n[t].getvalidity?"<td><input disabled='disabled' data-userecord_id='"+n[t].userecord_id+"' data-combination_new='"+JSON.stringify(n[t])+"' style='display:inline-block;height: 17px;width: 17px;' type='checkbox' name='designation' class='selectcheckbox checkinput' "+r+"  value=''><\/td>":n[t].sv_mcc_leftcount!=0?"<td><input  data-userecord_id='"+n[t].userecord_id+"' data-combination_new='"+JSON.stringify(n[t])+"' style='display:inline-block;height: 17px;width: 17px;' type='checkbox' name='designation' class='selectcheckbox checkinput' "+r+"  value=''><\/td>":"<td><input disabled='disabled' data-userecord_id='"+n[t].userecord_id+"' data-combination_new='"+JSON.stringify(n[t])+"' style='display:inline-block;height: 17px;width: 17px;' type='checkbox' name='designation' class='selectcheckbox checkinput' "+r+"  value=''><\/td>",i+="<\/tr>";$("#redycardeteils").html(i)}});$(document).unbind("click","#redycardeteils .selectcheckbox").on("click","#redycardeteils .selectcheckbox",function(){var t=$(this).data("combination_new"),i=$(this).is(":checked"),n=$(this).data("userecord_id");i?(checkedProductId[n]=n,Itemdetailarr.push(t)):(delete checkedProductId[n],deleteCheckedProduct(n))});$(document).unbind("click","#determinePurchaseBtn ,#determinePurchase").on("click","#determinePurchaseBtn ,#determinePurchase",function(){$(".sv_mr_mobile").text()||$(".sv_mr_name").text()?f10():layer.msg("\u5c1a\u672a\u9009\u62e9\u4f1a\u5458\uff0c\u65e0\u6cd5\u786e\u5b9a")});_g_homeGetUserConfigData?shuxinCallBack(_g_homeGetUserConfigData):shuxin();var is_existence_guid=[],is_existence_guid_promotion=[],product_special_number=[];SendSecondScreenDataClear(!0);$("input[name=cateringSettlementType]").change(function(){var n=$(this).attr("data-type"),t=$("#Cashlefsit>li");t&&t.length>0?($.each(t,function(){var e=parseFloat($(this).find(".nump").text()||0),i=parseFloat($(this).find(".jiage").text()||0),t=parseFloat($(this).attr("data-packprice")||0),h=parseFloat($(this).find(".jiage").text()||0),o=parseFloat((i+t)*e),s=parseFloat(t*e),c=parseFloat(h-s),u=$(this).find(".catering_taste_list"),f,r;u?(f=u.find(".productblae"),f&&f.length==1?n!=2&&(u.find(".productblae").remove(),$(this).find(".zhong").text(c),$(this).find(".jiage").text(i-s)):(r='<i class="productblae" data-id="0" data-price="'+t+'" data-type="3">\u6253\u5305('+t+")<\/i>",n==2&&($(this).find(".catering_taste_list").append(r),$(this).find(".zhong").text(o),$(this).find(".jiage").text(i+t)))):(r='<i class="productblae" data-id="0" data-price="'+t+'" data-type="3">\u6253\u5305('+t+")<\/i>",n==2&&($(this).find(".catering_taste_list").html(r),$(this).find(".zhong").text(o),$(this).find(".jiage").text(i+t)))}),zhonger()):(layer.msg("\u8bf7\u9009\u62e9\u83dc\u54c1\uff01"),$("input[name='cateringSettlementType']:eq(0)").click())});$(document).unbind("click","#catering_order_list li").on("click","#catering_order_list li",function(){$("#catering_order_list li").removeClass("active").removeClass("joove");$(this).addClass("active")});$(document).unbind("click","#lodgetemple").on("click","#lodgetemple",function(){var n=getIntervaldate($("#selectstartDate").val(),$("#selectendDate").val());n?layer.msg(n):orderSharedFn("",$("#selectstartDate").val(),$("#selectendDate").val())});$(document).unbind("click","#Takeasingle").on("click","#Takeasingle",function(){if($("#guandanlist li.joove, #catering_order_list li.active").length==1){var n=$("#guandanlist li.joove, #catering_order_list tr.joove").attr("data-memberid"),t=$("#guandanlist li.joove, #catering_order_list li.active").data("id");$.post("/settle/TakeASingle?wtNober="+$("#guandanlist li.joove, #catering_order_list li.active").data("id"),function(i){if(i){var r=$("#guandanlist li.joove, #catering_order_list li.active");setCateringGradeInfo(r.attr("data-grade"),r.attr("data-tableid"),r.attr("data-withListId"),r.attr("data-personnum"),!1,!1);$("#Cashlefsit").html("");_g_sv_uit_cache_name=="cache_name_catering"?($($("#catering_order_product tr").toArray().reverse()).each(function(){var n=object_transform($(this),3),t,i;if(!n)return layer.msg("\u53d6\u5355\u5931\u8d25,\u8bf7\u8054\u7cfb\u7cfb\u7edf\u7ba1\u7406\u4eba\u5458,\u8c22\u8c22\u8c05\u89e3"),!1;if(showCommonLeftProductList(n,n.number||n.num),t=PromotionSpecialPrice(n.prid),t){Current_operation_Settlement_product_list=[];var r=Getnumber_Byproduct_id(n.prid,!1)||0,u=Getnumber_Byproduct_id(n.prid,!0)||0,f=u+r;t&&(i=Getsettlement_product_list(n.prid),showCommonLeftProductList(i,f,null,!0,2,1))}}),$("#danhao").text(t),$("#meiridanhao").text(GetDailySerialNumber(!1))):($($("#guanprlist tr").toArray().reverse()).each(function(){var n=object_transform($(this),1),t,i;if(!n)return layer.msg("\u53d6\u5355\u5931\u8d25,\u8bf7\u8054\u7cfb\u7cfb\u7edf\u7ba1\u7406\u4eba\u5458,\u8c22\u8c22\u8c05\u89e3"),!1;if(showCommonLeftProductList(n,n.number||n.num),t=PromotionSpecialPrice(n.prid),t){Current_operation_Settlement_product_list=[];var r=Getnumber_Byproduct_id(n.prid,!1)||0,u=Getnumber_Byproduct_id(n.prid,!0)||0,f=u+r;t&&(i=Getsettlement_product_list(n.prid),showCommonLeftProductList(i,f,null,!0,2,1))}}),$("#danhao").text(t),$("#meiridanhao").text(GetDailySerialNumber(!1)));zhonger();layer.closeAll();n!=null&&n!=undefined&&n!=""&&n!="0"&&$.getJson("/Ajaxdata/GetUserModel",{id:n},function(t){$("#huiyuan_id").text(t.sv_mr_name).data("id",t.member_id).data("jiekou",t.sv_ml_commondiscount);$("#yuecount").text(returnFloat(t.sv_mw_availableamount)).attr("data-money",returnFloat(t.sv_mw_availableamount));$("#memberlevel_id").val(t.memberlevel_id);GetUserLevelDiscount_Config(t.memberlevel_id);$("#sv_mr_cardno").val(n).attr("data-level_id",t.memberlevel_id);var i=parseFloat(t.sv_ml_commondiscount);_member_discount=t.sv_ml_commondiscount!=null&&t.sv_ml_commondiscount!=undefined&&t.sv_ml_commondiscount!=""&&t.sv_ml_commondiscount!=0&&t.sv_ml_commondiscount!="0"?parseFloat(t.sv_ml_commondiscount)*10:100;zhonger()})}})}else layer.msg("\u8fd8\u6ca1\u6709\u9009\u4e2d\u8981\u53d6\u7684\u8ba2\u5355")});$(document).unbind("click","#btnConfirmDeleteWithList").on("click","#btnConfirmDeleteWithList",function(){var n=$("#guandanlist li.joove, #catering_order_list li.active").attr("data-withlistid");$.post("/settle/DeleteWithOrderList",{withListId:n},function(n){n.succeed?(orderSharedFn(),$("#catering_order_product").html(""),layer.close(index),layer.msg("\u5220\u9664\u6210\u529f")):layer.msg(n.errmsg)})});$(document).unbind("click","#catering_order_product .btn").on("click","#catering_order_product .btn",function(){var n=$(this).attr("data-id"),t=$(this).attr("data-type");n>0&&operateWithOrderFoodNumber(n,0,t)});$("#btnRetreatOrcutFoods").click(function(){var n=$("#Cashlefsit").find("li.active").attr("data-sv_without_product_id"),t;if(n!=null&&n!=undefined){if(is_Return_Vegetables_Pwd&&return_Vegetables_Pwd_vaue){t={id:n};Deke.DeKe_dialog.show_Url2WithDataNoCloseBtn("\u8bf7\u8f93\u5165\u9000\u83dc\u5bc6\u7801","/html/cash/cateringpwd.html?v=489498498",return_Vegetables_Pwd,["","230px"],t);return}operateWithOrderFoodNumber(n,0,0)}else layer.msg("\u8bf7\u9009\u62e9\u8981\u9000\u7684\u83dc\u54c1\uff01")});$(document).unbind("click","#catering_order_product .print").on("click","#catering_order_product .print",function(){var t=parseInt($(this).attr("data-id")||0),n=$("#catering_order_list li.active"),i=n.attr("data-isaccept"),r=n.attr("data-ordersource");if(i==0&&r==1){layer.msg("\u8be5\u624b\u673a\u8ba2\u5355\u8fd8\u672a\u786e\u8ba4\u63a5\u5355\u4e0d\u80fd\u8fdb\u884c\u6253\u5370\u64cd\u4f5c");return}singleOrderProductPrint(t,-1)});$(document).ready(function(){function u(){$("#woquren").click(function(){$("#jishukuan").val()&&($("#queryproduct").val($("#jishukuan").val()),!isNaN(parseFloat($("#jishukuan").val()))&&isFinite($("#jishukuan").val())&&$("#nocoding").removeClass("disabled"));queryProductFocus();layer.closeAll()});$(".posia").click(function(){$("#jishukuan").val("")})}function n(n){return n>=10?n:"0"+n}function e(){var n=parseFloat($("#queryproduct").val().replace(/\ +/g,"")||0);n>0&&n<100001?$("#nocoding").removeClass("disabled"):$("#nocoding").addClass("disabled")}function o(n){setTimeout(function(){$("#txtproduct_unitPrice").val(parseFloat(n.find(".jiage").text()));$("#weightProductName").html(n.find(".name").text());$("#txtproduct_weight").focus();$("#product_unit").text(n.data("sv_p_unit"));typeof Cef!="undefined"&&hardware_secondscreen_enable&&Cef.ShowWeightPanel("0.00,"+($("#txtproduct_unitPrice").val()||0)+",0.00");$("#txtproduct_weight").bind("keyup",function(){var n=parseFloat($("#txtproduct_unitPrice").val()),t=isNullOrEmpty($(this).val())==!0?parseFloat($(this).val().trim()):0;try{typeof Cef!="undefined"&&hardware_secondscreen_enable&&Cef.ShowWeightPanel(t+","+(n||0)+","+$("#product_Total").val())}catch(i){}});$("#txtproduct_weight").keydown(function(n){if(n.keyCode=="13"){try{typeof Cef!="undefined"&&hardware_secondscreen_enable&&Cef.HideWeightPanel()}catch(t){}$("#btnWeightProduct").click()}});$("#btnWeightProduct").click(function(){var t=isNullOrEmpty($("#txtproduct_weight").val())==!0?parseFloat($("#txtproduct_weight").val().trim()):0,u=isNullOrEmpty($("#product_Total").val())==!0?parseFloat($("#product_Total").val().trim()):0,i,r;t>0?(i=isNullOrEmpty($("#txtproduct_unitPrice").val())==!0?parseFloat($("#txtproduct_unitPrice").val().trim()):0,r=object_transform(n,2),showCommonLeftProductList(r,t,i,1)):t==0?(layer.msg("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u5546\u54c1\u91cd\u91cf"),$("#txtproduct_weight").focus()):(layer.msg("\u8bf7\u8f93\u5165\u5546\u54c1\u91cd\u91cf"),$("#txtproduct_weight").focus())})},200)}$(document).on("click",".biglis",function(){$(this).toggleClass("open")});$(document).on("click","#quxiao",function(){layer.closeAll("page")});$("#Cashchongzhi").click(function(){$("#userid").val("");Judgingindustry()?Deke.DeKe_dialog.show_Url1("","/html/cash/selectmenber_N3.html?v=2040",f10,f9,["395px","600px"]):Deke.DeKe_dialog.show_Url("\u9009\u62e9\u4f1a\u5458","/html/cash/huiyuanka.html?v=2040",["\u786e\u8ba4\u9009\u62e9\u4f1a\u5458","\u5173\u95ed"],f10,f9,["630px",""]);$("#userid").val("")});$("#Cashlefsit").on("click","li",function(){$(this).addClass("active").siblings().removeClass("active")});queryProductFocus();$("#guadaiclick").click(function(){if($("#Cashlefsit li").length==0)Deke.DeKe_dialog.show_Url2("\u6302\u5355\u7cfb\u7edf","/html/cash/guadan.html?v=2036",orderSharedFn,["860px","520px"]);else if(_g_sv_uit_cache_name=="cache_name_catering"){var n=$("#catering_CateringGrade").attr("data-tableId"),t=$("#catering_CateringGrade").attr("data-withlistid"),i=$("#catering_CateringGrade").text();_g_Catering_Is_Ceremonial_Eat==1?existsCateringGrade(i):_g_Catering_Is_Ceremonial_Eat==0&&(t>0||n>0?(funcSaveWithOrderListInfo(),socket.emit("common_by_shop_refresh_desk_server",{user_id:1})):layer.msg("\u8bf7\u5f00\u53f0\u540e\u518d\u7ee7\u7eed\u4e0b\u5355\u64cd\u4f5c"))}else layer.confirm("",{btn:["\u786e\u8ba4\u6302\u5355","\u53d6\u5355","\u5173\u95ed"]},function(){funcSaveWithOrderListInfo();promotion_exceed_limit=[];promotion_product_guid=[];promotion_org_product_list=[]},function(){Deke.DeKe_dialog.show_Url2("\u6302\u5355\u7cfb\u7edf","/html/cash/guadan.html?v=2036",orderSharedFn,["860px","520px"])}),$(".layui-layer-content").html('<input type="text" id="remarks" value="" placeholder="\u8bf7\u8f93\u5165\u5907\u6ce8\u4fe1\u606f(\u53ef\u4e0d\u8f93\u5165)" style="width: 100%;"/>'),$("#remarks").focus()});$(document).on("click","#Czjsje",function(){$("#query_user").val()!=""?(Deke.DeKe_dialog.show_Url3("\u4f1a\u5458\u5145\u503c","/html/cash/chongzhu2.html?v=2031",f6,["730px",""],"chuxi"),$("#userid").val($("#userid").val())):layer.msg("\u8bf7\u5148\u9009\u62e9\u4f1a\u5458")});$("#chongji").click(function(){checkedemptyeec=[];checkedemptyid={};Deke.DeKe_dialog.show_Url3("\u4f1a\u5458\u5145\u503c","/html/cash/chongzhu.html?v="+getTimeStamp(),f6,["730px",""],"chuxi");$("#userid").val($("#userid").val())});$("#userbur").click(function(){layer.open({type:2,title:"\u4f1a\u5458\u7ba1\u7406",shadeClose:!0,shade:.8,area:["80%","90%"],content:"/member/memberList_N3_silv?x=1"})});$("#Cashlebtn").click(function(){if($("#sv_mr_cardno").val()&&$("#sv_mr_cardno").val()!=""?$("#sv_mr_cardno").val()&&$("#sv_mr_cardno").val()!=""&&new_cache_memberinfo_json&&new_cache_memberinfo_json!=null&&new_cache_memberinfo_json!=""&&new_cache_memberinfo_json!=undefined&&new_cache_memberinfo_json.member_id==$("#huiyuan_id").attr("data-id")&&(new_cache_memberinfo_json.memberlevel_id!=$("#sv_mr_cardno").attr("data-level_id")||new_cache_memberinfo_json.memberlevel_id!=$("#memberlevel_id").val())&&$("#memberlevel_id").val(new_cache_memberinfo_json.memberlevel_id):$("#memberlevel_id").val("-1"),is_SingleProduct_ReturnGoods)productlistJsonList!=null&&productlistJsonList.length>0?GetReturnValidationPromotion()?layer.msg("\u5b58\u5728\u4fc3\u9500\u5546\u54c1\u4e0d\u80fd\u9000\u8d27\uff0c\u8bf7\u6839\u636e\u8ba2\u5355\u9000\u8d27\uff01"):Deke.DeKe_dialog.show_Url2("\u5546\u54c1\u9000\u8d27","/ajaxHtml_N3/returngoods/returngoods_N3.html",returngoods_N3,["440px","240px"]):layer.msg("\u8bf7\u9009\u62e9\u5546\u54c1\u540e\u518d\u8fdb\u884c\u9000\u8d27\uff01");else if($("#openCateringTableContent").hide(0),$("#btnAddfoodsOrCutfoods").hide(0),$("#btnRestaurantOrBale").show(0),closeCateringFunc(-1),$("#Cashlefsit > li").length>0)if(getmenberprotArr=[],GetConfigdataBylevel($("#memberlevel_id").val()),GetUserLevelDiscount_Config($("#memberlevel_id").val()),$(".product_type").length>0)Deke.DeKe_dialog.show_Url3("\u6536\u94f6\u7ed3\u7b97","/html/cash/yilang.html?v="+getTimeStamp(),f11,["730px",""],"shoyin");else if(jifendixiankaiguan=!1,_g_sv_uit_cache_name=="cache_name_catering_new"||_g_sv_uit_cache_name=="cache_name_cosmetology"||_g_sv_uit_cache_name=="cache_name_massage_regimen"||_g_sv_uit_cache_name=="cache_name_maternal_supplies"||_g_sv_uit_cache_name=="cache_name_auto_beauty"){zhonger();guidarr=[];guidarrcansle=[];var n=$(window).width();n>1366?Deke.DeKe_dialog.getShowMaxBtnPage("","/html/cash/jieshuan3.html?v="+getTimeStamp(),f2,["1300px","768px"],"","auto"):Deke.DeKe_dialog.getShowMaxBtnPage("","/html/cash/jieshuan3.html?v="+getTimeStamp(),f2,["100%","100%"],"","46px")}else Deke.DeKe_dialog.show_Url3("","/html/cash/jieshuan2.html?v="+getTimeStamp(),f2,["877px",""],"shoyin2");else layer.msg("\u8bf7\u9009\u62e9\u5546\u54c1\u540e\u518d\u8fdb\u884c\u7ed3\u7b97\uff01")});$(document).on("click",".calui>li",function(){$("#jishukuan").val($("#jishukuan").val()+$(this).data("val"));$("#jishukuan").change()});$(".shudian").click(function(){if($("#Cashlefsit .active").length>0){var t=$("#Cashlefsit .active").data("sv_iemi_no"),n=$("#Cashlefsit .active").data("sv_order_guid");clikcname=$(this).data("name");name="";switch(clikcname){case"shulian":name="\u4fee\u6539\u4ea7\u54c1\u6570\u91cf";break;case"zhekou":name="\u4fee\u6539\u4ea7\u54c1\u6298\u6263 1~10\u4e4b\u95f4";break;case"gaijia":name="\u4fee\u6539\u4ea7\u54c1\u4ef7\u683c"}if(_g_sv_uit_cache_name=="cache_name_mobile_digital"&&t!=""&&clikcname=="shulian")layer.msg("\u4e32\u53f7\u5546\u54c1\u4e0d\u652f\u6301\u4fee\u6539\u6570\u91cf");else{if((clikcname=="zhekou"||clikcname=="gaijia")&&$("#"+n+"_promotion_price")&&$("#"+n+"_promotion_price").length){layer.msg("\u4fc3\u9500\u5546\u54c1\u4e0d\u5141\u8bb8\u4fee\u6539"+(clikcname=="zhekou"?"\u6298\u6263":"\u4ef7\u683c"));return}Deke.DeKe_dialog.show_Url2(name,"/html/cash/jishu.html?v=25",f,["310px",""])}}else layer.msg("\u8fd8\u6ca1\u6709\u9009\u4e2d\u4ea7\u54c1")});$(".search-product-buy").click(function(){Deke.DeKe_dialog.show_Url2("\u6761\u7801/\u52a9\u8bcd\u7801\uff08\u5927\u5199\uff09/\u4ef7\u683c\uff080~100000)","/html/cash/jishu.html?v=25",u,["310px",""])});setInterval(function(){var t=new Date,o=t.getFullYear(),i=t.getMonth(),r=t.getDate(),u=t.getHours(),f=t.getMinutes(),e=t.getSeconds(),s=o+"\u5e74"+n(i+1)+"\u6708"+n(r)+"\u65e5 "+n(u)+":"+n(f)+":"+n(e),h=n(i+1)+"\u6708"+n(r)+"\u65e5 "+n(u)+":"+n(f)+":"+n(e);$("#date_ss").text("\u9500\u552e\u65f6\u95f4\uff1a"+s);$("#date_ss2").text(h)},1e3);$("#num_jia").click(function(){var r=!0,n=$("#Cashlefsit .active").attr("id"),o,t,i,s;if(n){inspectCommodityWhetherZeroStock();Current_operation_Settlement_product_list=[];var u=Getnumber_Byproduct_id(n,!1)||0,f=Getnumber_Byproduct_id(n,!0)||0,h=f+u+1,e=PromotionSpecialPrice(n);if(e){Current_operation_Settlement_product_list=[];var u=Getnumber_Byproduct_id(n,!1)||0,f=Getnumber_Byproduct_id(n,!0)||0,h=f+u+1;e&&(o=Getsettlement_product_list(n),showCommonLeftProductList(o,h,null,!0,2,1),r=!1)}else if(r){if(t=parseInt($("#Cashlefsit .active").find(".nump").text()),i=$("#Cashlefsit .active").data("sv_iemi_no"),t++,_g_sv_uit_cache_name=="cache_name_mobile_digital"&&i==""&&t>seriaNumberArray_active_ImemCounts){layer.msg("\u65e0\u4e32\u53f7\u5546\u54c1\u5e93\u5b58\u4e0d\u8db3\uff0c\u6700\u5927\u6570\u91cf\u4e3a"+seriaNumberArray_active_ImemCounts+"\u4ef6");return}if(_g_sv_uit_cache_name=="cache_name_mobile_digital"&&i){layer.msg("\u4e32\u53f7\u5546\u54c1\u4e0d\u53ef\u8c03\u6574\u6570\u91cf");return}if($("#Cashlefsit .active").hasClass("product_type")&&(s=parseInt($("#Cashlefsit .active").find(".nump").data("cnum")),t>s)){layer.msg("\u4f1a\u5458\u8be5\u9879\u76ee\u6b21\u6570\u4e0d\u591f\uff0c\u82e5\u521a\u5145\u503c\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9\u4f1a\u5458");return}$("#Cashlefsit .active").find(".nump").text(t);$("#Cashlefsit .active").find(".zhong").text(returnFloat(Math.round($("#Cashlefsit .active").find(".jiage").text()*t*100)/100));$("#Cashlefsit .active").find(".minunitprice").text(returnFloat($("#Cashlefsit .active").data("minunitprice")));$("#Cashlefsit .active").find(".memberprice").text(returnFloat($("#Cashlefsit .active").data("memberprice")));$("#"+$("#Cashlefsit .active").data("sv_order_guid")+"_promotion_price").text(returnFloat(Math.round($("#"+$("#Cashlefsit .active").data("sv_order_guid")+"_promotion_price").data("promotion_price"))*t*100)/100);zhonger();inspectCommodityWhetherZeroStock();queryProductFocus()}}else layer.msg("\u8bf7\u9009\u62e9\u60a8\u8981\u589e\u52a0\u6570\u91cf\u7684\u4ea7\u54c1")});$("#num_jian").click(function(){var n=$("#Cashlefsit .active").attr("id"),i,f,u,t;if(n)if(i=PromotionSpecialPrice(n),f=0,i){Current_operation_Settlement_product_list=[];var e=Getnumber_Byproduct_id(n,!1)||0,o=Getnumber_Byproduct_id(n,!0)||0,r=o+e-1;i&&r>0?(u=Getsettlement_product_list(n),showCommonLeftProductList(u,r,null,!0,2,1)):(deletepromotion_product_pid(n),$(".productInfo_"+n).remove(),zhonger(),layer.closeAll(),inspectCommodityWhetherZeroStock(),queryProductFocus())}else t=parseInt($("#Cashlefsit .active").find(".nump").text()),t--,t<1&&(layer.confirm("\u60a8\u8981\u5220\u9664\u8be5\u4ea7\u54c1\u5417\uff1f",{btn:["\u786e\u8ba4","\u53d6\u6d88"]},function(){$("#Cashlefsit .active").remove()}),t=1),$("#Cashlefsit .active").find(".nump").text(t),$("#Cashlefsit .active").find(".zhong").text(returnFloat(Math.round($("#Cashlefsit .active").find(".jiage").text()*t*100)/100)),$("#Cashlefsit .active").find(".minunitprice").text(returnFloat($("#Cashlefsit .active").data("minunitprice"))),$("#Cashlefsit .active").find(".memberprice").text(returnFloat($("#Cashlefsit .active").data("memberprice"))),$("#"+$("#Cashlefsit .active").data("sv_order_guid")+"_promotion_price").text(returnFloat(Math.round($("#"+$("#Cashlefsit .active").data("sv_order_guid")+"_promotion_price").data("promotion_price"))*t*100)/100),zhonger(),layer.closeAll(),inspectCommodityWhetherZeroStock(),queryProductFocus();else layer.msg("\u8bf7\u9009\u62e9\u60a8\u8981\u51cf\u6570\u91cf\u7684\u4ea7\u54c1")});$("#delete_p").click(function(){var r,u,f;if($("#Cashlefsit .active").length>0){delete is_existence_guid[$("#Cashlefsit .active").data("sv_order_guid")||$("#Cashlefsit .active").attr("id")];delete is_existence_guid_promotion[$("#Cashlefsit .active").data("sv_order_guid")||$("#Cashlefsit .active").attr("id")];var t=$("#Cashlefsit .active").data("sv_iemi_no"),e=$("#Cashlefsit .active").data("sv_has_iemino"),s=$("#Cashlefsit .active").data("sv_order_guid"),n=$("#Cashlefsit .active").attr("id"),o=PromotionSpecialPrice(n),i=0;o?(Current_operation_Settlement_product_list=[],r=Getnumber_Byproduct_id(n,!1)||0,u=Getnumber_Byproduct_id(n,!0)||0,i=u+r-parseFloat($("#Cashlefsit .active").find(".nump").text()),f=Getsettlement_product_list(n),showCommonLeftProductList(f,i,null,!0,2,1)):(_g_sv_uit_cache_name=="cache_name_mobile_digital"&&e==!0?(t?delete seriaNumber_imem_obj[t]:delete seriaNumber_imem_obj[0],$("#Cashlefsit .active").remove()):$("#Cashlefsit .active").remove(),delete is_existence_guid[$("#Cashlefsit .active").data("sv_order_guid")||$("#Cashlefsit .active").attr("id")])}else layer.msg("\u8bf7\u9009\u62e9\u60a8\u8981\u5220\u9664\u7684\u4ea7\u54c1");zhonger();layer.closeAll();inspectCommodityWhetherZeroStock();queryProductFocus()});$("#queryproduct").keyup(function(n){var t=$("#queryproduct").val().replace(/\ +/g,"");e();n.keyCode==13&&t&&capital_letters&&(GetProductList(1,0,0,0,0,t),queryProductFocus(),$("#classlist .swiper-slide").eq(0).addClass("active").siblings().removeClass("active"))});var t="",i=!1,r="";$("#queryproduct").on("focus",function(){i=!0;i&&(i=!1,$("#queryproduct").val()&&(t=$("#queryproduct").val().replace(/\ +/g,""),$("#queryproduct").val().replace(/\ +/g,"")&&$("#queryproduct").val().replace(/\ +/g,"")==t&&t!=r?(r=t,$("#queryproduct").change()):(t=$("#queryproduct").val().replace(/\ +/g,""),setTimeout(function(){i=!0},1e3))))});nocodingAdd();$(".CSczpayui li").click(function(){$(this).addClass("active").siblings().removeClass("active")});$(".swtith i").click(function(){$(this).parents(".swtith").toggleClass("open")});$(".maska").click(function(){$(this).parents("li").toggleClass("active").siblings().removeClass("active");$(this).parents("li").hasClass("active")?($(this).siblings(".urlsk").slideDown(200),$(this).parents("li").siblings().removeClass("active").find(".urlsk").slideUp(200)):$(this).parents("li").find(".urlsk").slideUp(200)});$(".Cashtopnav").on("click",".swiper-slide",function(){$(this).data("id")>-1&&($(this).addClass("active").siblings().removeClass("active"),GetProductList(1,0,-1,0,$(this).data("id"),""))});$(".paywaylist").on("click",".selectpaytype",function(){$(this).addClass("active").siblings().removeClass("active")});$(document).unbind("click","#productlist .textlistbox").on("click","#productlist .textlistbox",function(){var r=$(this).data("sv_iemi_no"),u,h,n,f,t,i,e,s;if((r==undefined||r==""||r==null)&&_g_sv_uit_cache_name=="cache_name_mobile_digital"&&(_g_thisObj_seriaNumber=$(this)),u=!0,h=$(this).find(".goodsNumber").val(),_g_sv_uit_cache_name=="cache_name_catering"&&(u=!0),u){var d=$("#Cashlefsit li").length,c=parseInt($(this).data("pricingmethod")),l=$(this).data("sv_is_newspec"),g=returnFloat($(this).data("minunitprice"))==0?"":returnFloat($(this).data("minunitprice")),nt=returnFloat($(this).data("mindiscount"))==0?"":returnFloat($(this).data("mindiscount")),tt=returnFloat($(this).data("memberprice"))==0?"":returnFloat($(this).data("memberprice")),a=$(this).data("prid"),v=$(this).data("sv_spec_masterid"),y=$(this).data("id"),p=$(this).find(".name").text(),w=$(this).find(".spec").text(),b=$(this).find(".goodsNumber").val(),it=$(this),k={id:a,blan_id:y,productName:p,spec:w,goodsNumber:b};if(c==1&&isShowWindow==!1){isShowWindow=!0;Deke.DeKe_dialog.show_Url2("","/html/cash/weight.html?v=5565663",o($(this)),["360px","470px"]);return}if(_g_sv_uit_cache_name!="cache_name_mobile_digital"||$(this).data("sv_has_iemino")!=!0||$(this).data("sv_iemi_no")){if(l){Deke.DeKe_dialog.show_Url2("","/html/cash/newSpecPage.html?v=556565",getNewSpecificationList(v),["768px","580px"]);return}isShowWindow==!1&&(n=object_transform($(this),2),showCommonLeftProductList(n,1),f=PromotionSpecialPrice(n.prid),f&&(t=0,i=0,_g_sv_uit_cache_name=="cache_name_mobile_digital"&&n.sv_has_iemino==!0?(Current_operation_Settlement_product_list=[],t=Getnumber_Byproduct_id(n.prid+"_"+n.sv_iemi_no,!1)||0,i=Getnumber_Byproduct_id(n.prid+"_"+n.sv_iemi_no,!0)||0):(Current_operation_Settlement_product_list=[],t=Getnumber_Byproduct_id(n.prid,!1)||0,i=Getnumber_Byproduct_id(n.prid,!0)||0),e=i+t,f&&(s=Getsettlement_product_list(n.prid),showCommonLeftProductList(s,e,null,!0,2,1))))}else{Deke.DeKe_dialog.show_Url2WithDataNoCloseBtn("","/html/cash/serialNumber.html?v=556565",imemNumberLoadFn,["768px","520px"],k);return}_g_sv_uit_cache_name=="cache_name_mobile_digital"&&$(this).data("sv_has_iemino")==!0&&$(this).data("sv_iemi_no")&&$("#productlist").html("")}});PreferentialTopUpGivingConfigListWithIgnore("Preferential","ConsumptionReduction")});$(document).unbind("click","#serialNumberList li").on("click","#serialNumberList li",function(){var i=$(this).hasClass("active"),n=$(this).data("imem"),t=$(this).data("product_id");i?(t>0&&$(this).removeClass("active"),n==0?$("#Cashlefsit").find("li[data-sv_iemi_no='']").remove():$("#Cashlefsit").find("li[data-sv_iemi_no='"+n+"']").remove(),zhonger(),delete seriaNumber_imem_obj[n]):(seriaNumber_imem_obj[n]=n!=0?n:t,$(this).addClass("active"),n==0?showCommonLeftProductList(_g_thisObj_seriaNumber,1):GetProductList(1,0,0,0,0,n))});$(document).unbind("click","#closeSeriaNumberBtn,#determineSeriaNumberBtn").on("click","#closeSeriaNumberBtn,#determineSeriaNumberBtn",function(){layer.closeAll();$("#classlist div.swiper-slide.active").click()});$(document).unbind("click","#seria_number_imem_Btn").on("click","#seria_number_imem_Btn",function(){var n=$("#seria_number_imem_text").val(),t,i;n?(t=$("#s_product_id_IMEM").val(),i={id:t,goodsNumber:1},imemNumberLoadFn(i,n)):layer.msg("\u8bf7\u8f93\u5165\u8981\u641c\u7d22\u7684\u4fe1\u606f")});$(document).unbind("click","#newSpecificationList .newSpecificationList li").on("click","#newSpecificationList .newSpecificationList li",function(){var u=$(this).hasClass("default"),i,r,n,t;u||($(this).addClass("active").siblings("li").removeClass("active"),i=parseInt($("#newSpecObjectLength").val()),r=$("#newSpecificationList .newSpecificationList li.active").length,(!0||r==i-1)&&(n=$("#s_product_id_newSpec").val(),t=[],t.push($(this).data("attrilist")),n>0&&$.post("/AjaxProduct/GetNotnullProductSpec",{product_id:n,speclist:t},function(n){var t,i;if(n&&n&&n.list)if(n.success){if(n.list&&n.list.length>0)for(t=0;t<n.list.length;t++)i=$('#newSpecificationList li[data-spec_name="'+n.list[t].spec_name+'"]'),i.each(function(){for(var t=$(this).data("attri_name"),r=!1,i=0;i<n.list.length;i++)t==n.list[i].attri_name&&(r=!0);r?$('#newSpecificationList li[data-attri_name="'+t+'"]').removeClass("default"):($('#newSpecificationList li[data-attri_name="'+t+'"]').addClass("default"),$('#newSpecificationList li[data-attri_name="'+t+'"]').removeClass("active"))})}else n.spec_name&&$('#newSpecificationList li[data-spec_name="'+n.spec_name+'"]').addClass("default")})),i==r&&(n=$("#s_product_id_newSpec").val(),t=$("#newSpecificationList .newSpecificationList li.active").map(function(){return $(this).data("attrilist")}).get(),n>0&&$.post("/AjaxProduct/GetMorespecSubProductListBySpeclist",{product_id:n,speclist:t,is_mp:!0},function(n){n&&($(n).each(function(n,t){t.mp_list&&(promotionConfig_data&&promotionConfig_data.length>0&&deleteCheckedpromotionConfig_data(t.product_id),promotionConfig_data.push({id:t.product_id,mpconfg:JSON.parse(t.mp_list)}))}),_g_thisProductNewSpecInfo=n,$("#s_product_stock_text").text(n.sv_p_storage))})))});$(document).unbind("click","#determineSelectNewSpecification").on("click","#determineSelectNewSpecification",function(){var i=$("#newSpecObjectLength").val(),r=$("#newSpecificationList .newSpecificationList li.active").length,n,t;if(i==r){if(showCommonLeftProductList(_g_thisProductNewSpecInfo,1,null,!0,3),n=PromotionSpecialPrice(_g_thisProductNewSpecInfo.prid),n){Current_operation_Settlement_product_list=[];var u=Getnumber_Byproduct_id(_g_thisProductNewSpecInfo.prid,!1)||0,f=Getnumber_Byproduct_id(_g_thisProductNewSpecInfo.prid,!0)||0,e=f+u;n&&(t=Getsettlement_product_list(_g_thisProductNewSpecInfo.prid),showCommonLeftProductList(t,e,null,!0,2,1))}}else layer.msg("\u8bf7\u9009\u62e9\u89c4\u683c\u5c5e\u6027")});mp_Productdata=[];var PageCount=0,thisPage=1,_g_current_swiper_page_index=0,mySwiper=new Swiper(".Cashbotobx2 .swiper-container",{threshold:30,observer:!0,observeParents:!0,onSlideChangeStart:function(n){try{_g_current_swiper_page_index=n.activeIndex;upCommonGetProductImg(_g_current_swiper_page_index)}catch(t){}}}),_g_fast_query_isn="",_g_productList_data=[],_g_last_timestamp=0;stockClass="";_g_employee_list=[];$("#keysetting").click(function(){Deke.DeKe_dialog.show_Url3("\u5feb\u6377\u952e\u8bbe\u7f6e","/html/cash/keysetting.html?v="+clearCache,keysetting,["595px","440px"],"shoyin2")});input_change=$(".setting-key>li a input");$(document).on("keydown",".setting-key>li a input",function(n){var e=$("#isShowThisWindows").val(),t,u,f,l;if(e){var a=$(".setting-key li a>input").is("disabled"),i=document.activeElement.id,o=shortcut_key_json[n.keyCode],s=shortcut_key_json[$("#"+i).attr("data-value")],r=n.keyCode;if(r>=48&&r<=57){setTimeout(function(){$("#"+i).val(s)},100);layer.msg("\u6570\u5b57\u4e0d\u80fd\u4f5c\u4e3a\u5feb\u6377\u952e");return}var v=$(this).attr("data-value"),h=$(this).attr("id"),c=$(".setting-key>li a input");for(t=0;t<c.length;t++){if(u=$(".setting-key>li a input:eq("+t+")").attr("id"),f=$(".setting-key>li a input:eq("+t+")").attr("data-value"),r==f&&h!=u){shortcut_key_repeat=!0;layer.msg("\u8be5\u952e\u5df2\u88ab\u5360\u7528\uff0c\u8bf7\u91cd\u65b0\u8bbe\u7f6e\u8be5\u5feb\u6377\u952e");n.preventDefault();return}shortcut_key_repeat=!1}shortcut_key_repeat||(l=$("#"+i).val(),$("#"+i).val(o).attr("data-value",r))}});$(document).keypress(function(n){var r=$("#isShowThisWindows").val(),t=n.keyCode,f,u,e,i;if(t!=null&&t!=""&&t!=undefined)if(t>=65&&t<=90&&!r||t==46)capital_letters=!0;else if(t>=48&&t<=57&&!r)capital_letters=!0;else{if(t>=97&&t<=122||t==32){if(capital_letters=!1,f=$(".layui-layer").hasClass("layui-layer-page"),u=$("#csshjsbox_window_open").val(),(r||f)&&!u)if(key_close_window){if(shortcut_key_json_ascii_index!=null&&shortcut_key_json_ascii_index!=undefined&&shortcut_key_json_ascii_index!="")for(i in shortcut_key_json_ascii_index);}else r||(capital_letters=!0,$("#queryproduct").focus());else if(shortcut_key_json_ascii_index!=null&&shortcut_key_json_ascii_index!=undefined&&shortcut_key_json_ascii_index!="")for(i in shortcut_key_json_ascii_index){if(i=="key_close_window"&&shortcut_key_json_ascii_index[i]==t-32){layer.closeAll();n.preventDefault();return}if(i=="key_member"&&t-32==shortcut_key_json_ascii_index[i]){$("."+i).click();n.preventDefault();return}if(i=="key_product_code"&&t-32==shortcut_key_json_ascii_index[i]){e=$(".layui-layer-shade").length;e<=0&&($("#queryproduct").focus(),n.preventDefault());return}if(i=="key_minus_num"&&t-32==shortcut_key_json_ascii_index[i]){$("."+i).click();key_close_window=!0;n.preventDefault();return}if(t-32==shortcut_key_json_ascii_index[i]){$("."+i).click();key_close_window=!0;n.preventDefault();return}if(t==32&&i=="key_settlement"&&!u){$("."+i).click();key_close_window=!0;n.preventDefault();return}}n.preventDefault();return}if(t>=37&&t<=40){n.preventDefault();return}}});cashlefsit_move_index=0;$(document).keyup(function(n){var i=document.activeElement.id,s=$("#selectMemberWindowds").val(),r=$("#isShowThisWindows").val(),t=n.keyCode,u,f,e,o;t>=112&&t<=123&&!r?shortcut_key(t,n):t>=37&&t<=40?(u=$("#Cashlefsit li").length,t==38?cashlefsit_move_index>0&&(cashlefsit_move_index--,$("#Cashlefsit li").removeClass("active"),$("#Cashlefsit li:eq("+cashlefsit_move_index+")").addClass("active")):t==40&&u>cashlefsit_move_index&&(cashlefsit_move_index++,$("#Cashlefsit li").removeClass("active"),$("#Cashlefsit li:eq("+cashlefsit_move_index+")").addClass("active"))):t==107||t==109?shortcut_key(t,n):t==27||t==13?(f=$(".layui-layer, layui-layer-title").hasClass("layui-layer-page"),e=$(".layui-layer-title"),(f||e)&&(t==27?(layer.closeAll(),isShowWindow=!1):t==13&&(o=$("#isShowbarCodePayWindows").val(),i=="txtPayselectmember"||i=="query_like"||s||i=="authcode"||o||($("#calui_new_discount").length>0?(layer.close(flsgindexclose),$("#xianjin").focus()):($(".com_key_confirm_enter").click(),$(".layui-layer-btn0").click()))))):(t==112||t==113)&&r&&(t==112?$("#default_keysetting").click():t==113&&$("#settingkeybtn").click())});decerpbrowser={versions:function(){var n=navigator.userAgent,t=navigator.appVersion;return{trident:n.indexOf("Trident")>-1,presto:n.indexOf("Presto")>-1,webKit:n.indexOf("AppleWebKit")>-1,gecko:n.indexOf("Gecko")>-1&&n.indexOf("KHTML")==-1,mobile:!!n.match(/AppleWebKit.*Mobile.*/)||!!n.match(/AppleWebKit/),ios:!!n.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:n.indexOf("Android")>-1||n.indexOf("Linux")>-1,iPhone:n.indexOf("iPhone")>-1||n.indexOf("Mac")>-1,iPad:n.indexOf("iPad")>-1,webApp:n.indexOf("Safari")==-1}}()};$("#deletebtn").on("click",function(){$("#queryproduct").val("")});$(document).on("keyup","#txtPayselectmember",function(n){var t="",r=$(this).val().replace(/\ +/g,""),i;n.keyCode=="13"?paySelectMemberFn(r,"",""):n.keyCode=="113"&&(i=typeof Cef,i!=="undefined"&&(GetICCardEventData($("#txtPayselectmember"),n),$("#txtPayselectmember").val()&&(t!=$("#txtPayselectmember").val()&&($("#userid").val(""),paySelectMemberFn($(this).val().trim(),"","")),t=$("#txtPayselectmember").val())))});$(document).on("click",".paywaylist .disabledbtn",function(){layer.msg("\u6b64\u529f\u80fd\u6b63\u5728\u5f00\u53d1\u4e2d!")});$(document).on("click",".pay-settlement-input .clean",function(){$(this).siblings("input").val("");$(this).siblings("input").focus()});$(document).on("click","#showoperatinglist",function(){$("#operatinglist").slideToggle(300)});$(document).unbind("click","#btnConfirmCloseCateringTable").on("click","#btnConfirmCloseCateringTable",function(){var n=$(".cateringTableList-ul>li.active").attr("data-id"),t=$(".cateringTableList-ul>li.active").attr("data-state"),r=$(".cateringTableList-ul>li.active").attr("data-type"),i=$(".cateringTableList-ul>li.active").attr("data-mergeparentid");n>0&&t==1&&(r==1&&i>0&&(n=i),operateCateringTableByOperateType(n,0,0,0,1));n>0&&t==3&&operateCateringTableByOperateType(n,0,0,0,1)});$(document).unbind("click",".cateringTableList-ul>li").on("click",".cateringTableList-ul>li",function(){$("#Cashlefsit").html("");commondCleanCateringGrade();zhonger();shuxin();$(".cateringTableList-ul>li").removeClass("active");$(this).addClass("active");$("#btnAddfoodsOrCutfoods").css("display","none");$("#btnRestaurantOrBale").css("display","block");var n=$(this).attr("data-id"),t=$(this).attr("data-state"),u=$(this).attr("data-type"),i=$(this).attr("data-mergeparentid"),r=$(this).attr("data-name"),f=$(this).attr("data-personNum");t==2&&n>0?u==2?Deke.DeKe_dialog.show_Url2(r+"\u8ba2\u5355","/Catering/_PartialFightCateringTable",fightCateringTableOrderList,["550px","360px"]):(u==1&&i>0&&(n=i),$("#btnRestaurantOrBale").css("display","none"),$("#btnAddfoodsOrCutfoods").css("display","block"),getGuandanmModelByTableId(n,r,0,0),closeCateringFunc(t)):(t==1&&n>0&&(u==1&&i>0&&(n=i),setCateringGradeInfo(r,n,0,f,!1,!1),$("#catering_CateringGrade").text(r).attr("data-tableid",n).attr("data-personNum",f)),closeCateringFunc(t))});$(document).unbind("click","#cateringTableOrderListHtml>li").on("click","#cateringTableOrderListHtml>li",function(){$(this).addClass("active").siblings("li").removeClass("active")});$(document).unbind("click",".btnConfirmSelectionCateringOrder").on("click",".btnConfirmSelectionCateringOrder",function(){var n=$("#cateringTableOrderListHtml>li.active").attr("data-withlistid"),t=$("#cateringTableOrderListHtml>li.active").attr("data-grade"),i=parseInt($(this).attr("data-type")||0);if(i==1)$("#btnCateringFightCateringTable").click();else if(n>0)switch(i){case 0:getGuandanmModelByTableId(0,t,n,1);closeCateringFunc(-1);layer.closeAll();$("#openCateringTableContent").hide();break;case 2:$("#btnCateringChangeCateringTableFoods").click();break;case 3:getGuandanmModelByTableId(0,t,n,1);closeCateringFunc(-1);layer.closeAll()}else layer.msg("\u8bf7\u9009\u62e9\u8ba2\u5355")});$(document).unbind("click","#btnCateringOpenCateringTable").on("click","#btnCateringOpenCateringTable",function(){var n=$(".cateringTableList-ul>li.active").attr("data-id");Deke.DeKe_dialog.show_Url2("\u7528\u9910\u4eba\u6570","/html/cash/jishu.html?v=25",eatNumberFn(n,0),["310px",""])});$(document).unbind("click","#btnCateringChangeCateringTable, #btnCateringChangeCateringTableFoods,#btnCateringAndCateringTable").on("click","#btnCateringChangeCateringTable, #btnCateringChangeCateringTableFoods, #btnCateringAndCateringTable",function(){var t=$(".cateringTableList-ul>li.active").attr("data-id"),i=$(".cateringTableList-ul>li.active").attr("data-state"),n="\u8f6c\u53f0";i==0&&(n="\u5e76\u53f0");Deke.DeKe_dialog.show_Url2(n,"/Catering/_PartialChangeCateringTable",cateringChangeCateringTable(t),["600px","500px"])});$(document).unbind("click","#btnCateringCloseCateringTable").on("click","#btnCateringCloseCateringTable",function(){var i=$(".cateringTableList-ul>li.active").attr("data-type"),n="\u8bf7\u786e\u8ba4\u662f\u5426\u6e05\u53f0\uff1f",t;i==1&&(n="\u5f53\u524d\u662f\u5e76\u53f0\uff0c\u6e05\u53f0\u64cd\u4f5c\u4f1a\u6e05\u9664\u76f8\u5173\u5e76\u53f0\u4fe1\u606f\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u6e05\u53f0\uff1f");t="<div>"+n+'<\/div><div class="modal-footer product-modal-footer selectBtn" style="bottom: 0;padding: 0;height: 34px;border:none;margin-left: -20px;"><button type="button" class="text-center btn fl closeallpage">\u53d6\u6d88<\/button><button type="button" class="text-center btn fl selectSuccess" id="btnConfirmCloseCateringTable">\u786e\u5b9a<\/button><\/div>';layer.open({title:" ",content:t,btn:!1,area:["250px","150px"],style:"text-align:center;"})});$(document).unbind("click",".closeallpage").on("click",".closeallpage",function(){layer.closeAll()});$(document).unbind("click",".closenewpage").on("click",".closenewpage",function(){layer.close(layer.index)});$(document).unbind("click","#btnCateringCashlefsitInfo").on("click","#btnCateringCashlefsitInfo",function(){commondCleanOderInfos()});$(document).unbind("click","#btnCateringAddPlaceOrderFoods").on("click","#btnCateringAddPlaceOrderFoods",function(){$("#openCateringTableContent").hide();closeCateringFunc(-1)});$(document).unbind("click","#btnCateringFightCateringTable").on("click","#btnCateringFightCateringTable",function(){layer.open({title:" ",content:'<div>\u62fc\u684c\u5c06\u4f1a\u5728\u5f53\u524d\u684c\u4f4d\u589e\u52a0\u65b0\u8ba2\u5355 \u662f\u5426\u7528\u65b0\u8ba2\u5355\u70b9\u83dc\uff1f<\/div><div class="modal-footer product-modal-footer selectBtn" style="bottom: 0;padding: 0;height: 34px;border:none;margin-left: -20px;"><button type="button" class="text-center btn fl closeallpage">\u53d6\u6d88<\/button><button type="button" class="text-center btn fl selectSuccess" id="btnConfirmCateringFightTable">\u786e\u5b9a<\/button><\/div>',btn:!1,area:["300px","180px"]})});$(document).unbind("click","#btnConfirmCateringFightTable").on("click","#btnConfirmCateringFightTable",function(){var n=$(".cateringTableList-ul>li.active").attr("data-id");Deke.DeKe_dialog.show_Url2("\u7528\u9910\u4eba\u6570","/html/cash/jishu.html?v=25",eatNumberFn(n,1),["310px",""])});$(document).unbind("click","#btnCateringContinueAddFoods").on("click","#btnCateringContinueAddFoods",function(){$("#openCateringTableContent").hide();$("#funcCateringAlreadyOpen_Table_foods").hide();$("#funcCateringDefault").show();$("#btnAddfoodsOrCutfoods").hide(0);$("#btnRestaurantOrBale").show(0);$("#catering_CateringGrade").attr("data-addFood",!0);$("#Cashlefsit").html("")});$(document).unbind("click","#cateringRegionNavListHtml>li").on("click","#cateringRegionNavListHtml>li",function(){$(this).addClass("swiper-slide-active").siblings("li").removeClass("swiper-slide-active");var n=$(this).attr("data-id");n>0?getCashierRegionTableInfo(1,!1,!1,n,-1):getCashierRegionTableInfo(0,!0,!0,0,-1)});$("#openCateringTable").click(function(){$("#openCateringTableContent").show(0);getCashierRegionTableInfo(0,!0,!0,0,-1)});$("#closeCateringTableContent").click(function(){commondCleanCateringGrade(-1);commondCleanOderInfos();$("#openCateringTableContent").hide();$("#btnRestaurantOrBale").show(0);$("#btnAddfoodsOrCutfoods").hide(0)});$("#addCateringTaste").click(function(){var n=$("#Cashlefsit .active").attr("id");n>0?Deke.DeKe_dialog.show_Url2("\u9009\u62e9\u53e3\u5473","/Catering/_PartialTaste",loadCateringTasteInfo,["560px","520px"]):layer.msg("\u60a8\u8fd8\u6ca1\u6709\u9009\u4e2d\u83dc\u54c1\uff01")});$(document).unbind("click","#cateringTasteListHtml li").on("click","#cateringTasteListHtml li",function(){changeCateringProductTotalPrice($(this),!1)});$(document).unbind("click","#cateringChargingListHtml li").on("click","#cateringChargingListHtml li",function(){changeCateringProductTotalPrice($(this),!1)});$(document).unbind("click","#cateringSpecLstHtml li").on("click","#cateringSpecLstHtml li",function(){changeCateringProductTotalPrice($(this),!1,!0)});$(document).unbind("click","#Cashlefsit li.active .catering_plus").on("click","#Cashlefsit li.active .catering_plus",function(){$("#num_jia").click()});$(document).unbind("click","#Cashlefsit li.active .catering_minus").on("click","#Cashlefsit li.active .catering_minus",function(){$("#num_jian").click()});$(document).unbind("click","#ckCateringIsPacking").on("click","#ckCateringIsPacking",function(){var i=$(this).is(":checked"),r=parseFloat($("#cateringProductNum").text()||0),u=parseFloat($("#cateringProductNowPrice").text()||0),t=parseFloat($("#Cashlefsit .active").attr("data-packprice")||0),n;t=parseFloat(r*t);n=parseFloat($("#cateringProductTotalPrice").text()||0);i?(n=parseFloat(t+n),$("#cateringPackingChargesTotalPrice").html(t.toFixed(2))):(n=parseFloat(n-t),$("#cateringPackingChargesTotalPrice").html(0));$("#cateringProductTotalPrice").text(n.toFixed(2))});$(document).unbind("click","#btnSelectCateringTaste").on("click","#btnSelectCateringTaste",function(){var t=$("#cateringTasteListHtml li.active"),i=$("#cateringChargingListHtml li.active"),r=$("#cateringSpecLstHtml li.active"),u=$("#txtOrderProductRemarks").val().replace(/\ +/g,""),h=$("#ckCateringIsPacking").is(":checked"),f=$("#cateringPackingCharges").text()||0,n="",e="";t.length>0&&$.each(t,function(){n+='<i data-id="'+$(this).attr("data-id")+'" data-price = "'+$(this).attr("data-price")+'" data-type="0" class="productTaste">'+$(this).attr("data-name")+"("+$(this).attr("data-price")+")<\/i>"});i.length>0&&$.each(i,function(){n+='<i data-id="'+$(this).attr("data-id")+'" data-price = "'+$(this).attr("data-price")+'" data-type="1" class="addFoods">'+$(this).attr("data-name")+"("+$(this).attr("data-price")+")<\/i>"});r.length>0&&$.each(r,function(){var i=$(this).attr("data-sv_newspec_algorithm")||0,t=$(this).attr("data-price");i==1&&$(this).attr("data-spec_multiple")&&$(this).attr("data-spec_multiple")>0&&$(this).attr("data-price")&&$(this).attr("data-price")==0&&(t=parseFloat((parseFloat($("#Cashlefsit li.active").data("untprice"))*parseFloat($(this).attr("data-spec_multiple"))).toFixed(2)));i==1&&$("#Cashlefsit li.active").find(".jiage").attr("data-rjia",t);n+='<i data-id="'+$(this).attr("data-id")+'" data-price = "'+t+'" data-newspec_algorithm="'+i+'" data-type="2" class="addFoodSpec">'+$(this).attr("data-name")+"("+t+")<\/i>"});h&&(n+='<i class="productblae" data-id="0" data-price="'+f+'" data-type="3">\u6253\u5305('+f+")<\/i>");isNullOrWhiteSpace(u)&&(e='<p class="foodsRemarks"><span style="padding-right:5px;">\u5907\u6ce8:<\/span><span class="orderProductRemarks">'+u+"<\/span><\/p>");var o=parseFloat($("#cateringProductTotalPrice").text()||0),c=parseFloat($("#cateringProductNum").text()||0),s=(o/c).toFixed(2);$("#Cashlefsit li.active").find(".zhong").text(o);$("#Cashlefsit li.active").find(".jiage").text(s);$("#Cashlefsit .active").attr("data-untprice",s);$("#Cashlefsit li.active").find(".catering_taste_list").html(n);$("#Cashlefsit li.active").find(".catering_taste_remarks").html(e);zhonger();layer.closeAll()});$(document).unbind("click",".cateringSelecttarget>li").on("click",".cateringSelecttarget>li",function(){$(this).addClass("active").siblings("li").removeClass("active")});$(document).unbind("click","#catering_tableArealist_html>li").on("click","#catering_tableArealist_html>li",function(){var n=$(this).attr("data-id");$(this).addClass("active").siblings("li").removeClass("active");n>0?getCashierRegionTableInfo(2,!1,!1,n,0):getCashierRegionTableInfo(2,!1,!1,0,0)});$(document).unbind("click","#catering_free_tableList>li").on("click","#catering_free_tableList>li",function(){var n=$(".cateringTableList-ul>li.active").attr("data-state");n==0?$(this).hasClass("active")?$(this).removeClass("active"):$(this).addClass("active"):$(this).addClass("active").siblings("li").removeClass("active")});$(document).unbind("click","#btnCateringSelectTableInfo").on("click","#btnCateringSelectTableInfo",function(){var t=[],i=$("#catering_free_tableList>li.active"),r=$("#catering_free_tableList>li.active").attr("data-id"),n=$(".cateringTableList-ul>li.active").attr("data-state"),e=$(".cateringTableList-ul>li.active").attr("data-type"),o=$(".cateringTableList-ul>li.active").attr("data-id"),u,f;e==2?(u=$("#cateringTableOrderListHtml>li.active").attr("data-withlistid"),$.post("/Catering/FightTableChangeToNewTable",{mainTableId:o,orderListId:u,newTableId:r},function(n){n.succeed?(commondCleanCateringGrade(),setTimeout(function(){layer.closeAll()},300),getCashierRegionTableInfo(0,!0,!0,0,-1)):layer.msg(n.errmsg)})):n==0?i.length>0?($.each(i,function(){var n={OperateTableId:$(this).attr("data-id")};t.push(n)}),t.length>0&&n==0&&Deke.DeKe_dialog.show_Url2("\u7528\u9910\u4eba\u6570","/html/cash/jishu.html?v=25",saveCateringSelectTableInfo(t),["310px",""])):layer.msg("\u8bf7\u9009\u62e9\u623f\u53f0"):(n==1||n==2)&&(i.length==1?(f=$(".cateringTableList-ul>li.active").attr("data-id"),operateCateringTableByOperateType(f,0,0,r,3)):layer.msg("\u8bf7\u9009\u62e9\u4e00\u4e2a\u76ee\u6807\u623f\u53f0\uff01"))});$("#cateringChangeTable").click(function(){Deke.DeKe_dialog.show_Url2("\u9009\u62e9\u623f\u53f0","/Catering/_PartialChangeCateringTable",null,["790px","520px"])});$("#btnCateringCustomerPrint").click(function(){if(productlistJsonList&&productlistJsonList.length>0){var n=parseFloat($(".cateringProductTotalPrice").html()||0).toFixed(2),t={everyday_serialnumber:GetDailySerialNumber(!0),prlist:productlistJsonList,order_running_id:$("#danhao").text(),order_receivable:n,order_payment:"\u5f85\u6536",order_money:n,order_payment2:"",order_money2:0,order_change:0,user_cardno:"",order_discount:1,order_receivabley:n,sv_remarks:"",givingtype:"",deserved:"",sv_recommended_peopleid:"",free_change:0,sv_member_discount:1,sv_member_total_money:n,sv_order_total_money:n,sv_give_change:0,authcode:"",type:"",WhetherAsCatering:!0,sv_table_id:$("#catering_CateringGrade").attr("data-tableid")||0,sv_catering_grade:$("#catering_CateringGrade").text()||"",sv_coupon_amount:$("#sv_coupon_amount").val()||0,sv_coupon_discount:$("#sv_coupon_discount").val()||0,sv_without_list_id:$("#catering_CateringGrade").attr("data-withListId")||0,sv_person_num:$("#catering_CateringGrade").attr("data-personNum")||0,sv_order_source:0};$.getJSON("/system/Getprint",function(n){t.user=n.user;pushcateringprintData(JSON.stringify(t),JSON.stringify(n),1)})}else layer.msg("\u8bf7\u9009\u62e9\u9700\u8981\u6253\u5370\u7684\u83dc\u54c1\uff01")});$(document).unbind("click","#btnCateringOrderPrint").on("click","#btnCateringOrderPrint",function(){_g_catering_order_list_print_Json&&_g_catering_order_list_print_Json.prlist&&_g_catering_order_list_print_Json.prlist.length>0?$.getJSON("/system/Getprint",function(n){pushcateringprintData(JSON.stringify(_g_catering_order_list_print_Json),JSON.stringify(n),2);layer.msg("\u5df2\u5411\u53a8\u623f\u53d1\u9001\u83dc\u54c1\u6253\u5370",{time:1500})}):layer.msg("\u8bf7\u9009\u62e9\u6253\u5370\u6570\u636e")});$(document).unbind("click","#btnCateringOrderTotals").on("click","#btnCateringOrderTotals",function(){_g_catering_order_list_print_Json&&_g_catering_order_list_print_Json.prlist&&_g_catering_order_list_print_Json.prlist.length>0?$.getJSON("/system/Getprint",function(n){pushcateringprintData(JSON.stringify(_g_catering_order_list_print_Json),JSON.stringify(n),1);layer.msg("\u5df2\u53d1\u9001\u6253\u5370\u6570\u636e\uff01",{time:1500})}):layer.msg("\u8bf7\u9009\u62e9\u6253\u5370\u6570\u636e")});$(document).unbind("click","#orderCouponBtn").on("click","#orderCouponBtn",function(){var n=$(this).attr("data-open");n=="true"?Deke.DeKe_dialog.show_Url2("\u9009\u62e9\u4f18\u60e0\u5238","/Catering/_PartialCoupon",couponList,["620px","450px"]):layer.msg("\u672a\u5f00\u542f\u6b64\u652f\u4ed8\u65b9\u5f0f")});$(document).unbind("click","#couponListHtml>li").on("click","#couponListHtml>li",function(){$(this).addClass("active").siblings("li").removeClass("active")});$(document).unbind("keypress","#txtSeachCouponCode").on("keypress","#txtSeachCouponCode",function(n){var t=$(this).val().replace(/\ +/g,"");n.keyCode==13&&(isNullOrWhiteSpace(t)?getCouponListByMemberIdOrCouponCode(null,t,1):(layer.msg("\u8bf7\u8f93\u5165\u4f18\u60e0\u5238\u7801\uff01"),$(this).focus()))});$(document).unbind("click","#btnConfirmSelectionCoupon").on("click","#btnConfirmSelectionCoupon",function(){var u=$("#couponListHtml>li.active").attr("data-id")||0,n=parseFloat($("#couponListHtml>li.active").attr("data-money")||0),f=$("#couponListHtml>li.active").attr("data-type"),s=parseFloat($("#couponListHtml>li.active").attr("data-conditions")||0),e=parseInt($("#couponListHtml>li.active").attr("data-time")||0),o=$("#hidden_coupon_record_id").val(),t=$("#yinshou").val(),i=0,r=Date.parse((new Date).Format("yyyy-MM-dd 00:00:00"));if(r=r/1e3,o&&o>0){layer.msg("\u4f60\u5df2\u7ecf\u4f7f\u7528\u4e86\u4e00\u5f20\u4f18\u60e0\u5238\uff0c\u4e0d\u80fd\u53e0\u52a0\uff01");return}if(r>e&&e>0){layer.msg("\u8be5\u4f18\u60e0\u5238\u5df2\u8fc7\u671f");return}isNullOrWhiteSpace(t)&&(t=parseFloat(t.replace(/\ +/g,"")||0));u>0?t>=s&&n>0?(f==0?(i=parseFloat(t-n),i<0&&(i=0),$("#hidden_coupon_amount").val(n)):f==1&&n<100&&(i=parseFloat(t*(n/100)),$("#hidden_coupon_discount").val(n)),$("#yinshou").val(i).change(),layer.close(index),$("#hidden_coupon_record_id").val(u)):layer.msg("\u5f53\u524d\u8ba2\u5355\u91d1\u989d\u4e0d\u6ee1\u8db3\u8be5\u4f18\u60e0\u5238"):layer.msg("\u8bf7\u9009\u62e9\u4f18\u60e0\u5238\uff01")});$("#viewTheTransaction").click(function(){Deke.DeKe_dialog.show_Url2("\u67e5\u770b\u5355\u65e5\u4ea4\u6613","/Catering/_PartialViewTheTransaction",viewTheTransaction,["880px","520px"])});$("#settlementReturnGoods").click(function(){!is_SingleProduct_ReturnGoods&&productlistJsonList!=null&&productlistJsonList.length<=0?layer.confirm('<div  style="padding: 0px 0px 0px 70px;"><i style="left:40px"  class="layui-layer-ico layui-layer-ico3"><\/i>\u662f\u5426\u6309\u8ba2\u5355\u9000\u8d27\uff1f<\/div>',{btn:["\u8ba2\u5355\u9000\u8d27","\u5546\u54c1\u9000\u8d27","\u53d6\u6d88"]},function(){Deke.DeKe_dialog.show_Url2("\u8ba2\u5355\u9000\u8d27","/Catering/_PartialViewTheTransaction",viewTheTransaction,["880px","520px"])},function(){is_SingleProduct_ReturnGoods=!0;$("#Cashchongzhi").attr("style","pointer-events:none;font-family:SimHei");$("#Cashlebtn").text("\u9000\u8d27");$("#Should_be_charged").text("\u5e94\u9000");$("#settlementReturnGoods").text("\u53d6\u6d88\u9000\u8d27")}):is_SingleProduct_ReturnGoods?(is_SingleProduct_ReturnGoods=!1,$("#Cashchongzhi").attr("style","font-family: SimHei"),$("#Cashlebtn").text(_Settlement_text),$("#Should_be_charged").text(_Should_be_charged_text),$("#settlementReturnGoods").text("\u9000\u8d27")):layer.msg("\u5df2\u5b58\u5728\u7ed3\u7b97\u6570\u636e")});$(document).unbind("click","#cashierOrderListHtml>li").on("click","#cashierOrderListHtml>li",function(){$(this).addClass("active").siblings("li").removeClass("active");var n=$(this).attr("data-id"),t=$(this).attr("data-state"),r=$(this).attr("data-order_discount"),u=$(this).attr("data-order_money_bak"),f=$(this).attr("data-free_change_bak"),e=$(this).attr("data-order_money"),i=$(this).data("sv_assembledetail_w_list_id");isNullOrWhiteSpace(n)&&(t==1||t==2?($("#btnOrderAllReturnGoods").attr("disabled","disabled"),$("#btnOrderListPrint").attr("disabled","disabled")):($("#btnOrderAllReturnGoods").removeAttr("disabled"),$("#btnOrderListPrint").removeAttr("disabled")),i>0&&$("#btnOrderAllReturnGoods").attr("disabled","disabled"),getCashierOrderListPagelist(2,1,50,null,n,"",r,u,f,e,i))});$(document).unbind("click","#btnOrderAllReturnGoods").on("click","#btnOrderAllReturnGoods",function(){var t=$("#cashierOrderListHtml>li.active").attr("data-is_mp"),i=$("#cashierOrderListHtml>li.active").attr("data-sv_order_source"),n,r;i==0?t?layer.msg("\u5bf9\u4e0d\u8d77\uff0c\u8ba2\u5355\u5b58\u5728\u6d3b\u52a8\u5546\u54c1,\u6d3b\u52a8\u5546\u54c1\u6682\u65f6\u4e0d\u652f\u6301\u9000\u6362\u8d27\uff01"):(n=$("#cashierOrderListHtml>li.active").attr("data-id"),r=$("#cashierOrderListHtml>li").attr("data-state"),index=Deke.DeKe_dialog.show_Url2("\u6574\u5355\u9000\u8d27","/html/tuhuo/tuhuo.html?v="+clearCache+100,orderAllReturnGoods(n),["440px","270px"])):layer.msg("\u5bf9\u4e0d\u8d77\uff0c\u7ebf\u4e0a\u8ba2\u5355\u4e0d\u5141\u8bb8\u76f4\u63a5\u9000\u8d27\uff01")});$(document).unbind("click","#cashierOrderProductHtml .remarksDetails").on("click","#cashierOrderProductHtml .remarksDetails",function(){var n=$(this).attr("data-mp_id")||-1,t=$(this).attr("data-sales_type")||-1,i=$("#cashierOrderListHtml>li.active").attr("data-sv_order_source");if(i==0)if(n>=0&&t>0)layer.msg("\u5bf9\u4e0d\u8d77\uff0c\u4fc3\u9500\u6d3b\u52a8\u5546\u54c1\u4e0d\u652f\u6301\u9000\u6362\u8d27\uff01");else{var r=$(this).attr("data-pricingmethod"),u=$(this).attr("data-num"),f=$(this).attr("data-id"),e=$(this).attr("data-prid");index=Deke.DeKe_dialog.show_Url2("\u9000\u8d27\u5904\u7406","/html/tuhuo/tuhuo2.html?v="+clearCache+200,returnProduct(r,u,f,e),["440px","310px"])}else layer.msg("\u5bf9\u4e0d\u8d77\uff0c\u7ebf\u4e0a\u8ba2\u5355\u4e0d\u5141\u8bb8\u76f4\u63a5\u9000\u8d27\uff01")});$(document).unbind("keyup","#queryDayNumber").on("keyup","#queryDayNumber",function(){var n=$("#queryDayNumber").val().replace(/\ +/g,"");n<0&&(n=0,$("#queryDayNumber").val(n))});$(document).unbind("click","#btnQueryOderNumber").on("click","#btnQueryOderNumber",function(){var t=$("#txtQueryOderNumber").val().replace(/\ +/g,"")||"",n=getIntervaldate($("#selectstartDate").val(),$("#selectendDate").val(),1);n?layer.msg(n):getCashierOrderListPagelist(0,1,50,t,null)});$(document).unbind("keypress","#txtQueryOderNumber").on("keypress","#txtQueryOderNumber",function(n){n.keyCode==13&&$("#btnQueryOderNumber").click()});$(document).unbind("click","#btnOrderListPrint").on("click","#btnOrderListPrint",function(){var n=$("#cashierOrderListHtml li.active").attr("data-id")||0;n>0?$.getJSON("/intelligent/SalesLogPrint?order_id="+n,function(n){var t,i,r,f,u,e;if(n){if(n==-1?(layer.msg("\u6253\u5370\u5931\u8d25\uff01"),layer.close(index)):n==-2?(layer.msg("\u6ca1\u6709\u6743\u9650\u64cd\u4f5c\uff01"),layer.close(index)):n.prdata.user=n.myuser,t=n.prdata,t&&t.prlist&&t.prlist.length>0)for(i=0;i<t.prlist.length;i++){if(t.prlist[i].cateringChargingJson){r="";try{if(t.prlist[i].cateringChargingJson)for(f=JSON.parse(t.prlist[i].cateringChargingJson),u=0;u<f.length;u++)r+=f[u].sv_taste_name+"("+f[u].sv_taste_price+")"}catch(o){}r&&r.length>1&&(t.prlist[i].product_name+=r)}else t.prlist[i].sv_p_specs&&(t.prlist[i].pf_newspec="["+t.prlist[i].sv_p_specs.replace(",",".")+"]");e=t.prlist[i].sv_pricing_method==1?t.prlist[i].sv_p_weight:t.prlist[i].product_num;t.prlist[i].product_num=e}pushprintData(JSON.stringify(n.prdata),JSON.stringify(n.peizhi),0,0,"0","0",!1,"\u4ea4\u6613\u5355")}}):layer.msg("\u8bf7\u9009\u62e9\u9700\u8981\u6253\u5370\u7684\u5355\u636e\uff01")});$(document).unbind("click","#btnOrderSendMsg").on("click","#btnOrderSendMsg",function(){var u=$("#cashierOrderListHtml li.active").attr("data-member_id")||"",t,n,r,i,f;if(u&&u!="0"){for(t=$("#cashierOrderListHtml li.active .cateringPendingOrderlistNumber>span").html(),t&&(t=",\u684c\u53f7/\u724c\u53f7"+t),n="",r=$("#catering_order_product tr").length,r>5&&(r=5),i=0;i<r;i++)n+=$("#catering_order_product tr:eq("+i+") td:eq(1)").html()+"*"+$("#catering_order_product tr:eq("+i+") td:eq(3)").html()+",";n&&(n=n.substring(0,n.length-1));f={type:1,Messages:["\u60a8\u7684\u8ba2\u5355"+($("#cashierOrderListHtml li.active .cateringPendingOrderNumber>span").html()||"")+t+"\u5df2\u5b8c\u6210\uff0c\u8bf7\u53d6\u9910!",n,"\u5df2\u652f\u4ed8",$("#username").html()||"\u5546\u5bb6","\u611f\u8c22\u60a8\u60e0\u987e"+($("#username").html()||"\u5546\u5bb6")+"\uff0c\u5982\u6709\u95ee\u9898\uff0c\u8bf7\u8054\u7cfb\u6211\u4eec\uff01"]};$.ajax({url:"http://119.23.132.106:97/rechargeable/SendWechatTpMsgNotify?member_id="+u,data:JSON.stringify(f),type:"POST",contentType:"application/json",success:function(n){if(n&&n.succeed)layer.msg("\u901a\u77e5\u6210\u529f\uff01");else if(n&&n.values&&n.values.errcode){var t=n.values.errcode||"0";t=="43004"?layer.msg("\u901a\u77e5\u5931\u8d25\uff01\u5bf9\u65b9\u672a\u5173\u6ce8\u516c\u4f17\u53f7"):t=="40003"&&layer.msg("\u901a\u77e5\u5931\u8d25\uff01\u65e0\u6548\u7684openid")}else layer.msg("\u901a\u77e5\u5931\u8d25\uff01"+(n.errmsg||""))}})}else layer.msg("\u65e0\u4f1a\u5458\u6d88\u606f\uff01")});$(document).unbind("click","#btnOrdergdsendmsg").on("click","#btnOrdergdsendmsg",function(){var u=$("#guandanlist li.joove, #catering_order_list li.active").attr("data-memberid"),t,n,r,i,f;if(u&&u!="0"){for(t=$("#catering_order_list li.active .cateringPendingOrderlistNumber>span").html(),t&&(t=",\u684c\u53f7/\u724c\u53f7"+t),n="",r=$("#catering_order_product tr").length,r>5&&(r=5),i=0;i<r;i++)n+=$("#catering_order_product tr:eq("+i+")").data("name")+"*"+$("#catering_order_product tr:eq("+i+")").data("num")+",";n&&(n=n.substring(0,n.length-1));f={type:1,Messages:["\u60a8\u7684\u8ba2\u5355"+($("#catering_order_list li.active .cateringPendingOrderNumber>span").html()||"")+t+"\u5df2\u5b8c\u6210\uff0c\u8bf7\u53d6\u9910!",n,"\u5f85\u652f\u4ed8",$("#username").html()||"\u5546\u5bb6","\u611f\u8c22\u60a8\u60e0\u987e"+($("#username").html()||"\u5546\u5bb6")+"\uff0c\u5982\u6709\u95ee\u9898\uff0c\u8bf7\u8054\u7cfb\u6211\u4eec\uff01"]};$.ajax({url:"http://119.23.132.106:97/rechargeable/SendWechatTpMsgNotify?member_id="+u,data:JSON.stringify(f),type:"POST",contentType:"application/json",success:function(n){if(n&&n.succeed)layer.msg("\u901a\u77e5\u6210\u529f\uff01");else if(n&&n.values&&n.values.errcode){var t=n.values.errcode||"0";t=="43004"?layer.msg("\u901a\u77e5\u5931\u8d25\uff01\u5bf9\u65b9\u672a\u5173\u6ce8\u516c\u4f17\u53f7"):t=="40003"&&layer.msg("\u901a\u77e5\u5931\u8d25\uff01\u65e0\u6548\u7684openid")}else layer.msg("\u901a\u77e5\u5931\u8d25\uff01"+(n.errmsg||""))}})}else layer.msg("\u65e0\u4f1a\u5458\u6d88\u606f\uff01")});$(document).unbind("click","#btnOrderConfirm").on("click","#btnOrderConfirm",function(){var n=$("#cashierOrderListHtml li.active").attr("data-member_id")||"";n&&n!="0"||layer.msg("\u65e0\u4f1a\u5458\u6d88\u606f\uff01")});$(document).unbind("click","#btnAcceptMobileOrder").on("click","#btnAcceptMobileOrder",function(){var n=$("#guandanlist li.joove, #catering_order_list li.active").attr("data-withlistid");n&&n>0?$.post("/Catering/OperateCateringMobileOrder",{withOutOrderId:n,operateType:0},function(t){t.succeed?(layer.msg("\u624b\u673a\u63a5\u5355\u6210\u529f\uff01"),signOrderListPrintStateById(n,0,0),orderSharedFn(n),getCashierRegionTableInfo(0,!0,!0,0,-1),socket.emit("common_by_shop_refresh_desk_server",{user_id:1})):t.errmsg?layer.msg(t.errmsg):layer.msg("\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff01")}):layer.msg("\u8bf7\u9009\u62e9\u9700\u8981\u63a5\u5355\u7684\u6570\u636e\uff01")});$(document).unbind("click","#btnCancelMobileOrder").on("click","#btnCancelMobileOrder",function(){var n=$("#guandanlist li.joove, #catering_order_list li.active").attr("data-withlistid");n&&n>0?$.post("/Catering/OperateCateringMobileOrder",{withOutOrderId:n,operateType:1},function(n){n.succeed?(layer.msg("\u624b\u673a\u62d2\u5355\u6210\u529f\uff01"),orderSharedFn()):n.errmsg?layer.msg(n.errmsg):layer.msg("\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff01")}):layer.msg("\u8bf7\u9009\u62e9\u9700\u8981\u62d2\u5355\u7684\u6570\u636e\uff01")});$(function(){(_g_sv_uit_cache_name=="cache_name_catering"||_g_sv_uit_cache_name=="cache_name_clothing_and_shoes")&&(getMobileOrderToPayCountByUserId(),!_g_catering_print_success&&(typeof Cef!="undefined"||decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android)&&_g_CateringOnlineIsAutoOrderAndPrint==0&&$.getJSON("/system/Getprint",function(n){if(n)var t=setInterval(function(){_g_catering_print_success||(_g_dec_printConfig=n,getMobileOrderListPrintByUserId(n),getMobileOrderToPayCountByUserId())},5e3*1.5)}),_g_Catering_Is_Ceremonial_Eat==0?($("#openCateringTable").click(),$("#btnAddCateringGradeNmae").hide()):_g_Catering_Is_Ceremonial_Eat==1&&($("#btnAddCateringGradeNmae").show(),$("#openCateringTable").hide()));try{socket.on("common_by_android_refresh_Switch",function(){(_g_sv_uit_cache_name=="cache_name_catering"||_g_sv_uit_cache_name=="cache_name_clothing_and_shoes")&&!_g_catering_print_success&&(typeof Cef!="undefined"||decerpbrowser&&decerpbrowser.versions&&decerpbrowser.versions.android)&&_g_CateringOnlineIsAutoOrderAndPrint==0&&$.getJSON("/system/Getprint",function(n){n&&(_g_catering_print_success||(_g_dec_printConfig=n,getMobileOrderListPrintByUserId(n),getMobileOrderToPayCountByUserId()))})})}catch(n){}});$(document).unbind("click","#btnAddCateringGradeNmae").on("click","#btnAddCateringGradeNmae",function(){Deke.DeKe_dialog.show_Url2("\u8bf7\u8f93\u5165\u724c\u53f7","/html/cash/jishu.html?v=25",funcSetCateringGrade,["310px",""])});splitOpenCaseList=[];commissionPerformance=function(){var r={},e={},n=[],t=[],h=function(){$.get("/Grouping/PageList/",{pageIndex:1,pageSize:50},function(t){t&&t.length>0?(n=t,c(t[0].sp_grouping_id)):Judgingindustry()?u():i()})},c=function(n){n&&n>0&&$.get("/Employee/GetEmployeeList",{sv_grouping_id:n},function(n){n&&n.length>0?(t=n,Judgingindustry()?u():i()):Judgingindustry()?u():i()})},i=function(){if(Is_open_commission){if(productlistJsonList&&productlistJsonList.length>0){var t="";$("#commissionCollectList").empty();$.each(productlistJsonList,function(n,i){i.product_id>0&&(t+=i.product_id+",",e[i.product_id]=i.product_name)});$.get("/ProductPercentageConfig/GetPercentage_ConfigList",{productid:t.substr(0,t.length-1)},function(t){var l,u,i,k,e,d,h,b,r;if(t&&t.length>0)if(l=parseInt($("#huiyuan_id").attr("data-id")||0),u=o(t,l),u){if(i="",Judgingindustry()){for(k=parseFloat($("#jieshuajie2").text()),e=0,member_surplus_total=0,d=0,r=0;r<getmenberprotArr.length;r++){var s=getmenberprotArr[r].sv_mcc_leftcount,a=getmenberprotArr[r].sv_charge_type,v=getmenberprotArr[r].sv_serialnumber,y=getmenberprotArr[r].userecord_id,p=getmenberprotArr[r].validity_date,c=s,w=GetorigProductValue(getmenberprotArr[r].product_id);w!=null&&w.length>0&&$.each(w,function(n,t){var f=t,i,u,r;if(t.product_num<=s&&c>0&&!Getguidarr(t.sv_order_guid)&&!t.leftcountfaltype&&!t.type)t.cnum=s,s=s-t.product_num,c=c-t.product_num,e+=parseFloat(t.product_total),r=parseFloat(t.product_total),productlistJsonListCombination(t,a,v,y,t.product_num,p),e=parseFloat(t.product_total)==0?e:e-parseFloat(r);else if(t.product_num>s&&c>0&&!t.leftcountfaltype&&!t.type){i={};for(u in f)u=="sv_order_guid",i[u]=f[u];t.cnum=s;i=productConversion(i,t.sv_order_guid);i.product_num=i.product_num-s;i.product_total=t.product_unitprice*i.product_num;productlistJsonListCombination(i,a,v,y,"",p);t.product_num=s;r=t.product_unitprice*t.product_num;productlistJsonListCombination(t,a,v,y,s,p);e+=r;e=parseFloat(t.product_total)==0?e:e-parseFloat(r);c=c-s}})}e.toFixed(2)>0?(h=parseFloat($("#jieshuajie2").text()),$("#jieshuajie2").text((h-e).toFixed(2)),$("#yinshou").val(parseFloat(h-e).toFixed(2)),$("#xianjin").val((h-e).toFixed(2)),CalculateGiving(),IntegralToNow(),EditOrderMoneyUpdateProductDetailedMoney(parseFloat($("#user_descount").text()||100)/100,!1,!0),automaticChangeMoney(!1)):(h=parseFloat($("#jieshuajie2").text()),$("#jieshuajie2").text((h-e).toFixed(2)),$("#yinshou").val(parseFloat(h-e).toFixed(2)),$("#xianjin").val((h-e).toFixed(2)),CalculateGiving(),IntegralToNow(),EditOrderMoneyUpdateProductDetailedMoney(parseFloat($("#user_descount").text()||100)/100,!1,!0),automaticChangeMoney())}for(b=[],r=0;r<u.length;r++)b.push(u[r].sv_product_id),$.each(productlistJsonList,function(t,f){var e,g,v,p,a,w,b,y,k,d,o,nt,tt,c,h,s;if(u[r].sv_product_id==f.product_id&&(e=u[r].list,e)){for(i+="<tr>",i+="<td>",i+='<input type="hidden" class="sv_achievement_type" value="'+g+'" />',i+='<input data-sv_order_guid="'+f.sv_order_guid+'" data-checktype="all" type="checkbox" data-sv_is_monthly_performance="'+u[r].setup.sv_is_monthly_performance+'" data-sv_product_money="'+f.product_total+'"  data-type="1" data-id="'+u[r].sv_product_id+'"  class="selectcheckbox checkinput isChoose checkBox selectbox_'+u[r].sv_product_id+'" value="" />',i+="<\/td>",i+="<td>",i+='<div class="list-item">',i+='<div class="cell-name">'+u[r].product_name+"<\/div>",i+='<div class="cell-money">\u00a5 '+f.product_unitprice+"<\/div>",i+='<span class="cell-number">x'+f.product_num+"<\/span>",i+='<span class="cell-discount">\u6298\u6263\uff1a'+f.product_discount*100+"%<\/span>",i+='<span class="cell-money totalPrice">\u00a5'+f.product_total+"<\/span>",s=0;s<getmenberprotArr.length;s++)if(getmenberprotArr[s].product_id==f.product_id&&!f.leftcountfaltype&&f.type){i+='<span style="width: 82px;height:82px;display: inline-block;position: absolute;z-index: 999;"><img src="/images/defutionp.png"><i data-guid="'+f.sv_order_guid+'" data-id="'+f.product_id+'" data-sv_serialnumber="'+f.sv_serialnumber+'" data-userecord_id="'+f.userecord_id+'" data-leftcount="'+f.product_num+'" style="position: absolute; top:-10px; right:-10px; font-size: 17px;color: #999;cursor: pointer;" class="icon-remove-sign clean prodeduction"><\/i><\/span>';break}for(i+="<\/div>",o=0;o<e.length;o++)if(e[o].sv_config_type==2?e[o].sv_consume_type==1&&l>0?(e[o].sv_achievement_type==1?(v=e[o].sv_achievement_value,g=e[o].sv_achievement_type*f.product_num):e[o].sv_achievement_type==2&&(g=e[o].sv_achievement_type,v=!f.leftcountfaltype&&f.type?e[o].sv_achievement_value/100*f.productcard_total:e[o].sv_achievement_value/100*f.product_total),e[o].sv_extract_type==1?(p=e[o].sv_extract_type,a=e[o].sv_no_specified_value*f.product_num,w=e[o].sv_specified_value,k=e[o].sv_mnual_value,d=e[o].sv_mnual_value):e[o].sv_extract_type==2&&(p=e[o].sv_extract_type,b=e[o].sv_specified_value,y=e[o].sv_no_specified_value,a=parseFloat(e[o].sv_no_specified_value/100*v).toFixed(2),w=parseFloat(e[o].sv_specified_value/100*v).toFixed(2),k=parseFloat(e[o].sv_mnual_value/100*v).toFixed(2),d=e[o].sv_mnual_value)):e[o].sv_consume_type==2&&(e[o].sv_achievement_type==1?(g=e[o].sv_achievement_type,v=e[o].sv_achievement_value*f.product_num):e[o].sv_achievement_type==2&&(g=e[o].sv_achievement_type,v=!f.leftcountfaltype&&f.type?e[o].sv_achievement_value/100*f.productcard_total:e[o].sv_achievement_value/100*f.product_total),e[o].sv_extract_type==1?(p=e[o].sv_extract_type,a=e[o].sv_no_specified_value*f.product_num,w=e[o].sv_specified_value,k=e[o].sv_mnual_value,d=e[o].sv_mnual_value):e[o].sv_extract_type==2&&(p=e[o].sv_extract_type,b=e[o].sv_specified_value,y=e[o].sv_no_specified_value,a=parseFloat(e[o].sv_no_specified_value/100*v).toFixed(2),w=parseFloat(e[o].sv_specified_value/100*v).toFixed(2),k=parseFloat(e[o].sv_mnual_value/100*v).toFixed(2),d=e[o].sv_mnual_value)):(e[o].sv_achievement_type==1?(g=e[o].sv_achievement_type,v=e[o].sv_achievement_value*f.product_num):e[o].sv_achievement_type==2&&(g=e[o].sv_achievement_type,v=!f.leftcountfaltype&&f.type?e[o].sv_achievement_value/100*f.productcard_total:e[o].sv_achievement_value/100*f.product_total),e[o].sv_extract_type==1?(p=e[o].sv_extract_type,a=e[o].sv_no_specified_value*f.product_num,w=e[o].sv_specified_value,k=e[o].sv_mnual_value,d=e[o].sv_mnual_value):e[o].sv_extract_type==2&&(p=e[o].sv_extract_type,b=e[o].sv_specified_value,y=e[o].sv_no_specified_value,a=parseFloat(e[o].sv_no_specified_value/100*v).toFixed(2),w=parseFloat(e[o].sv_specified_value/100*v).toFixed(2),k=parseFloat(e[o].sv_mnual_value/100*v).toFixed(2),d=e[o].sv_mnual_value)),nt='data-sv_extract_type="'+p+'" data-sv_achievement_type="'+g+'"',tt=0,e[o].sv_consume_type==1&&l>0){if(i+='<div class="item">',i+='<input type="checkbox" data-sv_config_id="'+e[o].sv_config_id+'" data-sv_extractpattern_type="1" name="designation"  data-type="2" class="selectcheckbox checkinput sv_pattern_type item-check" value="2" />',i+='<span class="item-name">\u9879\u76ee\u63d0\u6210<\/span>',i+="<select "+nt+' class="form-control item-select0 specifiedSelect item-select item-select2">',i+='<option value="2">\u975e\u6307\u5b9a<\/option>',i+='<option value="1">\u6307\u5b9a<\/option>',i+="<\/select>",i+='<select data-groupingList="'+tt+'" class="form-control sv_grouping_name item-select item-select2">',n&&n.length>0)for(c=0;c<n.length;c++)i+=n[c].sp_grouping_id==e[o].sv_grouping_id?'<option data-sv_configtype="'+(e[o].sv_configtype||0)+'" value="'+e[o].sv_grouping_id+'" selected>'+e[o].sv_grouping_name+"<\/option>":'<option data-sv_configtype="'+(n[c].sv_configtype||0)+'" value="'+n[c].sp_grouping_id+'">'+n[c].sp_grouping_name+"<\/option>";if(i+="<\/select>",i+='<select class="form-control sv_employee_name item-select item-select2">',h=e[o].employeelist,h&&h.length>0)for(s=0;s<h.length;s++)i+='<option data-sp_grouping_id="'+h[s].sp_grouping_id+'" value="'+h[s].sv_employee_id+'">'+h[s].sv_employee_name+"<\/option>";i+="<\/select>";i+='<span class="item-performance">\u4e1a\u7ee9<\/span>';i+="<input "+nt+' data-type="2" type="text" class="form-control sv_achievement_money item-select item-select3" value="'+v+'" />';i+='<span class="item-performance2 item-performance">\u5143<\/span>';i+='<span class="item-performance showPerformanceShare">\u63d0\u6210<\/span>';i+='<select class="form-control item-select commissionSelect showPerformanceShare">';p==1?(i+='<option value="1" selected>\u56fa\u5b9a<\/option>',i+='<option value="2">\u6bd4\u4f8b<\/option>'):(i+='<option value="1">\u56fa\u5b9a<\/option>',i+='<option value="2" selected>\u6bd4\u4f8b<\/option>');i+="<\/select>";p==1?(i+='<p class="commissionStyle_1" style="display: inline-block;">',i+='<input type="text" class="form-control item-select item-select4 sv_extract_money_1" data-value1="'+w+'" data-value2="'+a+'" value="'+(a||0)+'" /> ',i+='<span class="item-performance2 item-performance">\u5143<\/span>',i+="<\/p>",i+='<p class="commissionStyle_2" style="display: none;">',i+='<input type="text" class="form-control sv_proportions item-select item-select3" data-proportions1="'+b+'" data-proportions2="'+y+'" value="'+(y||0)+'" />',i+='<span class="item-performance2 item-performance">%<\/span>',i+='<span class="item-performance sv_extract_money_2">'+(a||0)+"<\/span>",i+='<span class="item-performance2 item-performance">\u5143<\/span>',i+="<\/p>"):(i+='<p class="commissionStyle_1" style="display: none;">',i+='<input type="text" class="form-control item-select item-select4 sv_extract_money_1" data-value1="'+w+'" data-value2="'+a+'" value="'+(a||0)+'" /> ',i+='<span class="item-performance2 item-performance">\u5143<\/span>',i+="<\/p>",i+='<p class="commissionStyle_2" style="display: inline-block;">',i+='<input type="text" class="form-control sv_proportions item-select item-select3" data-proportions1="'+b+'" data-proportions2="'+y+'" value="'+(y||0)+'" />',i+='<span class="item-performance2 item-performance">%<\/span>',i+='<span class="item-performance sv_extract_money_2">'+(a||0)+"<\/span>",i+='<span class="item-performance2 item-performance">\u5143<\/span>',i+="<\/p>");i+='<span class="item-performance showPerformanceShare">\u624b\u5de5\u8d39<\/span>';i+='<input type="text" class="form-control item-select sv_mnual_value item-select3 showPerformanceShare" data-value="'+d+'" value="'+k+'" />';i+='<span class="item-performance2 item-performance showPerformanceShare">\u5143<\/span>';i+='<button type="button" class="btn icon-plus add"><\/button>';i+="<\/div>"}else if(e[o].sv_consume_type==2&&l<=0){if(i+='<div class="item">',i+='<input type="checkbox" data-sv_config_id="'+e[o].sv_config_id+'" data-sv_extractpattern_type="1" name="designation"  data-type="2" class="selectcheckbox checkinput sv_pattern_type item-check" value="2" />',i+='<span class="item-name">\u9879\u76ee\u63d0\u6210<\/span>',i+="<select "+nt+' class="form-control specifiedSelect item-select0 item-select item-select2">',i+='<option value="2">\u975e\u6307\u5b9a<\/option>',i+='<option value="1">\u6307\u5b9a<\/option>',i+="<\/select>",i+='<select data-groupingList="'+tt+'" class="form-control sv_grouping_name item-select item-select2">',n&&n.length>0)for(c=0;c<n.length;c++)i+=n[c].sp_grouping_id==e[o].sv_grouping_id?'<option data-sv_configtype="'+(e[o].sv_configtype||0)+'" value="'+e[o].sv_grouping_id+'" selected>'+e[o].sv_grouping_name+"<\/option>":'<option data-sv_configtype="'+(n[c].sv_configtype||0)+'" value="'+n[c].sp_grouping_id+'">'+n[c].sp_grouping_name+"<\/option>";if(i+="<\/select>",i+='<select class="form-control sv_employee_name item-select item-select2">',h=e[o].employeelist,h&&h.length>0)for(s=0;s<h.length;s++)i+='<option data-sp_grouping_id="'+h[s].sp_grouping_id+'" value="'+h[s].sv_employee_id+'">'+h[s].sv_employee_name+"<\/option>";i+="<\/select>";i+='<span class="item-performance">\u4e1a\u7ee9<\/span>';i+="<input "+nt+' data-type="2" type="text" class="form-control sv_achievement_money item-select item-select3" value="'+v+'" />';i+='<span class="item-performance2 item-performance">\u5143<\/span>';i+='<span class="item-performance showPerformanceShare">\u63d0\u6210<\/span>';i+='<select class="form-control item-select commissionSelect showPerformanceShare">';p==1?(i+='<option value="1" selected>\u56fa\u5b9a<\/option>',i+='<option value="2">\u6bd4\u4f8b<\/option>'):(i+='<option value="1">\u56fa\u5b9a<\/option>',i+='<option value="2" selected>\u6bd4\u4f8b<\/option>');i+="<\/select>";p==1?(i+='<p class="commissionStyle_1" style="display: inline-block;">',i+='<input type="text" class="form-control item-select item-select4 sv_extract_money_1" data-value1="'+w+'" data-value2="'+a+'" value="'+(a||0)+'" /> ',i+='<span class="item-performance2 item-performance">\u5143<\/span>',i+="<\/p>",i+='<p class="commissionStyle_2" style="display: none;">',i+='<input type="text" class="form-control sv_proportions item-select item-select3" data-proportions1="'+b+'" data-proportions2="'+y+'" value="'+(y||0)+'" />',i+='<span class="item-performance2 item-performance">%<\/span>',i+='<span class="item-performance sv_extract_money_2">'+(a||0)+"<\/span>",i+='<span class="item-performance2 item-performance">\u5143<\/span>',i+="<\/p>"):(i+='<p class="commissionStyle_1" style="display: none;">',i+='<input type="text" class="form-control item-select item-select4 sv_extract_money_1" data-value1="'+w+'" data-value2="'+a+'" value="'+(a||0)+'" /> ',i+='<span class="item-performance2 item-performance">\u5143<\/span>',i+="<\/p>",i+='<p class="commissionStyle_2" style="display: inline-block;">',i+='<input type="text" class="form-control sv_proportions item-select item-select3" data-proportions1="'+b+'" data-proportions2="'+y+'" value="'+(y||0)+'" />',i+='<span class="item-performance2 item-performance">%<\/span>',i+='<span class="item-performance sv_extract_money_2">'+(a||0)+"<\/span>",i+='<span class="item-performance2 item-performance">\u5143<\/span>',i+="<\/p>");i+='<span class="item-performance showPerformanceShare">\u624b\u5de5\u8d39<\/span>';i+='<input type="text" class="form-control item-select sv_mnual_value showPerformanceShare item-select3" data-value="'+d+'" value="'+k+'" />';i+='<span class="item-performance2 item-performance showPerformanceShare">\u5143<\/span>';i+='<button type="button" class="btn icon-plus add"><\/button>';i+="<\/div>"}else if(e[o].sv_consume_type==0){if(i+='<div class="item">',i+='<input type="checkbox" data-sv_config_id="'+e[o].sv_config_id+'" data-sv_extractpattern_type="1" name="designation"  data-type="2" class="selectcheckbox checkinput sv_pattern_type item-check" value="2" />',i+='<span class="item-name">\u9879\u76ee\u63d0\u6210<\/span>',i+="<select "+nt+' class="form-control specifiedSelect item-select0 item-select item-select2">',i+='<option value="2">\u975e\u6307\u5b9a<\/option>',i+='<option value="1">\u6307\u5b9a<\/option>',i+="<\/select>",i+='<select data-groupingList="'+tt+'" class="form-control sv_grouping_name item-select item-select2">',n&&n.length>0)for(c=0;c<n.length;c++)i+=n[c].sp_grouping_id==e[o].sv_grouping_id?'<option data-sv_configtype="'+(e[o].sv_configtype||0)+'" value="'+e[o].sv_grouping_id+'" selected>'+e[o].sv_grouping_name+"<\/option>":'<option data-sv_configtype="'+(n[c].sv_configtype||0)+'" value="'+n[c].sp_grouping_id+'">'+n[c].sp_grouping_name+"<\/option>";if(i+="<\/select>",i+='<select class="form-control sv_employee_name item-select item-select2">',h=e[o].employeelist,h&&h.length>0)for(s=0;s<h.length;s++)i+='<option data-sp_grouping_id="'+h[s].sp_grouping_id+'" value="'+h[s].sv_employee_id+'">'+h[s].sv_employee_name+"<\/option>";i+="<\/select>";i+='<span class="item-performance">\u4e1a\u7ee9<\/span>';i+="<input "+nt+' data-type="2" type="text" class="form-control sv_achievement_money item-select item-select3" value="'+v+'" />';i+='<span class="item-performance2 item-performance">\u5143<\/span>';i+='<span class="item-performance showPerformanceShare">\u63d0\u6210<\/span>';i+='<select class="form-control item-select showPerformanceShare commissionSelect">';p==1?(i+='<option value="1" selected>\u56fa\u5b9a<\/option>',i+='<option value="2">\u6bd4\u4f8b<\/option>'):(i+='<option value="1">\u56fa\u5b9a<\/option>',i+='<option value="2" selected>\u6bd4\u4f8b<\/option>');i+="<\/select>";p==1?(i+='<p class="commissionStyle_1" style="display: inline-block;">',i+='<input type="text" class="form-control item-select item-select4 sv_extract_money_1" data-value1="'+w+'" data-value2="'+a+'" value="'+(a||0)+'" /> ',i+='<span class="item-performance2 item-performance">\u5143<\/span>',i+="<\/p>",i+='<p class="commissionStyle_2" style="display: none;">',i+='<input type="text" class="form-control sv_proportions item-select item-select3" data-proportions1="'+b+'" data-proportions2="'+y+'" value="'+(y||0)+'" />',i+='<span class="item-performance2 item-performance">%<\/span>',i+='<span class="item-performance sv_extract_money_2">'+(a||0)+"<\/span>",i+='<span class="item-performance2 item-performance">\u5143<\/span>',i+="<\/p>"):(i+='<p class="commissionStyle_1" style="display: none;">',i+='<input type="text" class="form-control item-select item-select4 sv_extract_money_1" data-value1="'+w+'" data-value2="'+a+'" value="'+(a||0)+'" /> ',i+='<span class="item-performance2 item-performance">\u5143<\/span>',i+="<\/p>",i+='<p class="commissionStyle_2" style="display: inline-block;">',i+='<input type="text" class="form-control sv_proportions item-select item-select3" data-proportions1="'+b+'" data-proportions2="'+y+'" value="'+(y||0)+'" />',i+='<span class="item-performance2 item-performance">%<\/span>',i+='<span class="item-performance sv_extract_money_2">'+(a||0)+"<\/span>",i+='<span class="item-performance2 item-performance">\u5143<\/span>',i+="<\/p>");i+='<span class="item-performance showPerformanceShare">\u624b\u5de5\u8d39<\/span>';i+='<input type="text" class="form-control item-select sv_mnual_value item-select3 showPerformanceShare" data-value="'+d+'" value="'+k+'" />';i+='<span class="item-performance2 item-performance showPerformanceShare">\u5143<\/span>';i+='<button type="button" class="btn icon-plus add"><\/button>';i+="<\/div>"}if(u[r].setup.project_config_value&&u[r].setup.project_config_value>0){if(i+='<div class="item">',i+='<input type="checkbox" data-sv_extractpattern_type="3" name="designation" data-type="3" class="checkinput sv_pattern_type isChoose item-check" value="2" />',i+='<span class="item-name">\u62d3\u5ba2<\/span>',i+='<i class="item-select item-select2 item-select0"><input type="hidden" class="specifiedSelect" value="3"/><\/i>',i+='<select class="form-control sv_grouping_name item-select item-select2">',n&&n.length>0)for(c=0;c<n.length;c++)i+=n[c].sp_grouping_id==u[r].sv_grouping_id?'<option value="'+u[r].sv_grouping_id+'" selected>'+u[r].sv_grouping_name+"<\/option>":'<option value="'+n[c].sp_grouping_id+'">'+n[c].sp_grouping_name+"<\/option>";if(i+="<\/select>",i+='<select class="form-control sv_employee_name item-select item-select2">',h=u[r].employeelist,h&&h.length>0)for(s=0;s<h.length;s++)i+='<option data-sp_grouping_id="'+h[s].sp_grouping_id+'" value="'+h[s].sv_employee_id+'">'+h[s].sv_employee_name+"<\/option>";i+="<\/select>";i+='<span class="item-performance">\u4e1a\u7ee9<\/span>';i+='<input data-sv_achievement_type="'+u[r].setup.project_config_type+'" data-sv_extract_type="'+u[r].setup.project_config_type+'" data-type="'+u[r].setup.project_config_type+'" data-value="'+u[r].setup.project_config_value+'" type="text" class="form-control sv_achievement_money item-select item-select3" value="'+f.product_total+'" />';i+='<span class="item-performance2 item-performance">\u5143<\/span>';i+='<span class="item-performance">\u63d0\u6210<\/span>';i+='<select disabled class="form-control item-select commissionSelect">';u[r].setup.project_config_type==1?(i+='<option value="1" selected>\u56fa\u5b9a<\/option>',i+='<option value="2">\u6bd4\u4f8b<\/option>'):(i+='<option value="1">\u56fa\u5b9a<\/option>',i+='<option value="2" selected>\u6bd4\u4f8b<\/option>');i+="<\/select>";u[r].setup.project_config_type==1?(i+='<input type="text" class="form-control item-select sv_extract_money_1 item-select4" value="'+u[r].setup.project_config_value+'" /> ',i+='<span class="item-performance2 item-performance">\u5143<\/span>'):(i+='<input type="text" class="form-control item-select sv_proportions item-select3" value="'+u[r].setup.project_config_value+'" />',i+='<span class="item-performance2 item-performance">%<\/span>',i+='<span class="item-performance sv_extract_money_2">'+parseFloat(u[r].setup.project_config_value/100*f.product_total||0).toFixed(2)+"<\/span>",i+='<span class="item-performance2 item-performance">\u5143<\/span>');i+='<span class="item-performance" style="visibility: hidden;">\u624b\u5de5\u8d39<\/span>';i+='<input style="visibility: hidden;" type="text" class="form-control sv_mnual_value item-select item-select3" value="0" />';i+='<span style="visibility: hidden;" class="item-performance2 item-performance">\u5143<\/span>';i+='<button type="button" class="btn icon-plus add"><\/button>';i+="<\/div>"}i+="<\/td>";i+="<\/tr> "}});$("#commissionCollectList").append(i);f(b)}else f();else f()})}}else f()},u=function(){getmenberprotArr=[];var n="",t="";$("#commissionCollectList").empty();$.each(productlistJsonList,function(i,r){r.product_id>0&&(n+=r.product_id+",",e[r.product_id]=r.product_name,r.userecord_id&&(t+=(r.userecord_id||"")+","))});$("#huiyuan_id").attr("data-id")?$.get("/ajaxdata/GetSettlementSetmealCharge/",{memberid:$("#huiyuan_id").attr("data-id")||0,productid:n.substr(0,n.length-1),userecordid:t.substr(0,t.length-1)||"",page:-1,pagesize:-1},function(n){var t,r;if(n&&n.dataList&&n.dataList.length>0)for(r=null,t=0;t<n.dataList.length;t++)getmenberprot[n.dataList[t].product_id]=n.dataList[t].product_id,r={product_id:n.dataList[t].product_id,sv_mcc_leftcount:n.dataList[t].sv_mcc_leftcount,sv_serialnumber:n.dataList[t].sv_serialnumber||"",sv_charge_type:n.dataList[t].sv_charge_type,userecord_id:n.dataList[t].userecord_id,validity_date:n.dataList[t].validity_date},getmenberprotArr.push(r);getmenberprotArr.length>0&&!Is_open_commission?i():getmenberprotArr.length==0?i():Is_open_commission&&i()}):i()},f=function(i){var r="",y,u,p,o,f;if((i==undefined||i==null)&&Judgingindustry()){for(y=parseFloat($("#jieshuajie2").text()),u=0,member_surplus_total=0,p=0,f=0;f<getmenberprotArr.length;f++){var e=getmenberprotArr[f].sv_mcc_leftcount,h=getmenberprotArr[f].sv_charge_type,c=getmenberprotArr[f].sv_serialnumber,l=getmenberprotArr[f].userecord_id,a=getmenberprotArr[f].validity_date,s=e,v=GetorigProductValue(getmenberprotArr[f].product_id);v!=null&&v.length>0&&$.each(v,function(n,t){var o=t,i,f,r;if(t.product_num<=e&&s>0&&!Getguidarr(t.sv_order_guid)&&!t.leftcountfaltype&&!t.type)t.cnum=e,e=e-t.product_num,s=s-t.product_num,u+=parseFloat(t.product_total),r=parseFloat(t.product_total),productlistJsonListCombination(t,h,c,l,t.product_num,a),u=parseFloat(t.product_total)==0?u:u-parseFloat(r);else if(t.product_num>e&&s>0&&!t.leftcountfaltype&&!t.type){i={};for(f in o)f=="sv_order_guid",i[f]=o[f];t.cnum=e;i=productConversion(i,t.sv_order_guid);i.product_num=i.product_num-e;i.product_total=t.product_unitprice*i.product_num;productlistJsonListCombination(i,h,c,l,"",a);t.product_num=e;r=t.product_unitprice*t.product_num;productlistJsonListCombination(t,h,c,l,e,a);u+=r;u=parseFloat(t.product_total)==0?u:u-parseFloat(r);s=s-e}})}u.toFixed(2)>0?(o=parseFloat($("#jieshuajie2").text()),$("#jieshuajie2").text((o-u).toFixed(2)),$("#yinshou").val(parseFloat(o-u).toFixed(2)),$("#xianjin").val((o-u).toFixed(2)),CalculateGiving(),IntegralToNow(),EditOrderMoneyUpdateProductDetailedMoney(parseFloat($("#user_descount").text()||100)/100,!1,!0),automaticChangeMoney(!1)):(o=parseFloat($("#jieshuajie2").text()),$("#jieshuajie2").text((o-u).toFixed(2)),$("#yinshou").val(parseFloat(o-u).toFixed(2)),$("#xianjin").val((o-u).toFixed(2)),CalculateGiving(),IntegralToNow(),EditOrderMoneyUpdateProductDetailedMoney(parseFloat($("#user_descount").text()||100)/100,!1,!0),automaticChangeMoney())}if(Is_open_commission)i&&i.length>0?productlistJsonList&&productlistJsonList.length>0&&$.each(productlistJsonList,function(u,f){for(var o,h,u,e,c=!0,s=0;s<i.length;s++)if(f.product_id==i[s]){c=!1;break}if(c){for(o=0,h=2,n&&n.length>0&&(o=(n[0].sv_configtype||0).toString(),h=o.indexOf("1")>-1||o=="0"||o=="7"?1:2),r+="<tr>",r+="<td>",r+='<input type="hidden" class="sv_achievement_type" value="" />',r+='<input data-sv_order_guid="'+f.sv_order_guid+'" data-checktype="all" data-sv_is_monthly_performance="'+f.sv_is_monthly_performance+'" type="checkbox" data-sv_product_money="'+f.product_total+'" data-type="3" data-id="'+f.product_id+'"  class="selectcheckbox checkinput isChoose checkBox" value="" />',r+="<\/td>",r+="<td>",r+='<div class="list-item">',r+='<span class="cell-name">'+f.product_name+"<\/span>",r+='<span class="cell-money">\u5355\u4ef7\uff1a\u00a5 '+f.product_unitprice+"<\/span>",r+='<span class="cell-number">X'+f.product_num+"<\/span>",r+='<span class="cell-discount">\u6298\u6263\uff1a'+f.product_discount*100+"%<\/span>",r+='<span class="cell-money totalPrice">\u00a5'+f.product_total+"<\/span>",u=0;u<getmenberprotArr.length;u++)if(getmenberprotArr[u].product_id==f.product_id&&!f.leftcountfaltype&&f.type){r+='<span style="width: 82px;height: 82px;display: inline-block;position: absolute;z-index: 999;"><img src="/images/defutionp.png"><i data-sv_serialnumber="'+f.sv_serialnumber+'" data-guid="'+f.sv_order_guid+'" data-id="'+f.product_id+'" data-userecord_id="'+f.userecord_id+'" data-leftcount="'+f.product_num+'" style="position: absolute; top:-10px; right:-10px; font-size: 17px;color: #999;cursor: pointer;" class="icon-remove-sign clean prodeduction"><\/i><\/span>';break}if(r+="<\/div>",r+='<div class="item">',r+='<input data-sv_extractpattern_type="'+h+'" type="checkbox"  name="designation" data-type="2" class="selectcheckbox checkinput sv_pattern_type item-check" value="2" />',r+='<span class="item-name">\u9879\u76ee\u63d0\u6210<\/span>',r+='<select class="form-control specifiedSelect item-select0 item-select item-select2">',r+='<option value="2">\u975e\u6307\u5b9a<\/option>',r+='<option value="1">\u6307\u5b9a<\/option>',r+="<\/select>",r+='<select class="form-control sv_grouping_name item-select item-select2">',n&&n.length>0)for(e=0;e<n.length;e++)r+='<option data-sv_configtype="'+(n[e].sv_configtype||0)+'" value="'+n[e].sp_grouping_id+'">'+n[e].sp_grouping_name+"<\/option>";if(r+="<\/select>",r+='<select class="form-control sv_employee_name item-select item-select2">',t&&t.length>0)for(e=0;e<t.length;e++)r+='<option data-sp_grouping_id="'+t[e].sp_grouping_id+'" value="'+t[e].sv_employee_id+'">'+t[e].sv_employee_name+"<\/option>";if(r+="<\/select>",r+='<span class="item-performance">\u4e1a\u7ee9<\/span>',r+='<input data-sv_extractpattern_type="2" type="text" data-sv_achievement_type="1" class="form-control sv_achievement_money item-select item-select3" value="'+f.product_total+'" />',r+='<span class="item-performance2 item-performance">\u5143<\/span>',o.toString().indexOf("1")>-1||o=="0"||o=="7"?(r+='<span class="item-performance showPerformanceShare">\u63d0\u6210<\/span>',r+='<select class="form-control item-select showPerformanceShare commissionSelect">',r+='<option value="1">\u56fa\u5b9a<\/option>',r+='<option value="2">\u6bd4\u4f8b<\/option>',r+="<\/select>",r+='<p class="commissionStyle_1" style="display: inline-block;">',r+='<input type="text" class="form-control item-select item-select4 sv_extract_money_1" data-value1="0" data-value2="0" value="0" /> ',r+='<span class="item-performance2 item-performance">\u5143<\/span>',r+="<\/p>",r+='<p class="commissionStyle_2" style="display: none;">',r+='<input type="text" class="form-control sv_proportions item-select item-select3" data-proportions1="0" data-proportions2="0" value="0" />',r+='<span class="item-performance2 item-performance">%<\/span>',r+='<span class="item-performance sv_extract_money_2">0<\/span>',r+='<span class="item-performance2 item-performance">\u5143<\/span>',r+="<\/p>",r+='<span class="item-performance showPerformanceShare">\u624b\u5de5\u8d39<\/span>',r+='<input type="text" class="form-control showPerformanceShare item-select sv_mnual_value item-select3" data-value="0" value="0" />',r+='<span class="item-performance2 item-performance showPerformanceShare">\u5143<\/span>'):(r+='<span class="item-performance showPerformanceShare" style="display:none;">\u63d0\u6210<\/span>',r+='<select class="form-control item-select showPerformanceShare commissionSelect" style="display:none;">',r+='<option value="1">\u56fa\u5b9a<\/option>',r+='<option value="2">\u6bd4\u4f8b<\/option>',r+="<\/select>",r+='<p class="commissionStyle_1" style="display:none;">',r+='<input type="text" class="form-control item-select item-select4 sv_extract_money_1" data-value1="0" data-value2="0" value="0" /> ',r+='<span class="item-performance2 item-performance">\u5143<\/span>',r+="<\/p>",r+='<p class="commissionStyle_2" style="display: none;">',r+='<input type="text" class="form-control sv_proportions item-select item-select3" data-proportions1="0" data-proportions2="0" value="0" />',r+='<span class="item-performance2 item-performance">%<\/span>',r+='<span class="item-performance sv_extract_money_2">0<\/span>',r+='<span class="item-performance2 item-performance">\u5143<\/span>',r+="<\/p>",r+='<span class="item-performance showPerformanceShare" style="display:none;">\u624b\u5de5\u8d39<\/span>',r+='<input type="text" style="display:none;" class="form-control showPerformanceShare item-select sv_mnual_value item-select3" data-value="0" value="0" />',r+='<span class="item-performance2 item-performance showPerformanceShare" style="display:none;">\u5143<\/span>'),r+='<button type="button" class="btn icon-plus add"><\/button>',r+="<\/div>",f.project_config_value&&f.project_config_value>0){if(r+='<div class="item">',r+='<input type="checkbox" data-sv_extractpattern_type="3" name="designation" data-type="3" class="checkinput sv_pattern_type isChoose item-check" value="2" />',r+='<span class="item-name">\u62d3\u5ba2<\/span>',r+='<i class="item-select item-select2 item-select0"><input type="hidden" class="specifiedSelect" value="3"/><\/i>',r+='<select class="form-control sv_grouping_name item-select item-select2">',n&&n.length>0)for(e=0;e<n.length;e++)r+='<option value="'+n[e].sp_grouping_id+'">'+n[e].sp_grouping_name+"<\/option>";if(r+="<\/select>",r+='<select class="form-control sv_employee_name item-select item-select2">',t&&t.length>0)for(e=0;e<t.length;e++)r+='<option data-sp_grouping_id="'+t[e].sp_grouping_id+'" value="'+t[e].sv_employee_id+'">'+t[e].sv_employee_name+"<\/option>";r+="<\/select>";r+='<span class="item-performance">\u4e1a\u7ee9<\/span>';r+='<input data-sv_achievement_type="'+f.project_config_type+'" data-sv_extract_type="'+f.project_config_type+'" data-type="'+f.project_config_type+'" data-value="'+f.project_config_value+'" type="text" class="form-control sv_achievement_money item-select item-select3" value="'+f.product_total+'" />';r+='<span class="item-performance2 item-performance">\u5143<\/span>';r+='<span class="item-performance">\u63d0\u6210<\/span>';r+='<select disabled class="form-control item-select commissionSelect">';f.project_config_type==1?(r+='<option value="1" selected>\u56fa\u5b9a<\/option>',r+='<option value="2">\u6bd4\u4f8b<\/option>'):(r+='<option value="1">\u56fa\u5b9a<\/option>',r+='<option value="2" selected>\u6bd4\u4f8b<\/option>');r+="<\/select>";f.project_config_type==1?(r+='<input type="text" class="form-control item-select sv_extract_money_1 item-select4" value="'+f.project_config_value+'" /> ',r+='<span class="item-performance2 item-performance">\u5143<\/span>'):(r+='<input type="text" class="form-control item-select sv_proportions item-select3" value="'+f.project_config_value+'" />',r+='<span class="item-performance2 item-performance">%<\/span>',r+='<span class="item-performance sv_extract_money_2">'+parseFloat(f.project_config_value/100*f.product_total||0).toFixed(2)+"<\/span>",r+='<span class="item-performance2 item-performance">\u5143<\/span>');r+='<span class="item-performance" style="visibility: hidden;">\u624b\u5de5\u8d39<\/span>';r+='<input style="visibility: hidden;" type="text" class="form-control sv_mnual_value item-select item-select3" value="0" />';r+='<span style="visibility: hidden;" class="item-performance2 item-performance">\u5143<\/span>';r+='<button type="button" class="btn icon-plus add"><\/button>';r+="<\/div>"}r+="<\/td>";r+="<\/tr> "}}):$.each(productlistJsonList,function(i,u){var e=0,o=2,i,f;for(n&&n.length>0&&(e=(n[0].sv_configtype||0).toString(),o=e.indexOf("1")>-1||e=="0"||e=="7"?1:2),r+="<tr>",r+="<td>",r+='<input type="hidden" class="sv_achievement_type" value="" />',r+='<input data-sv_order_guid="'+u.sv_order_guid+'" data-checktype="all" data-sv_is_monthly_performance="'+u.sv_is_monthly_performance+'" type="checkbox" data-sv_product_money="'+u.product_total+'" data-type="3" data-id="'+u.product_id+'"  class="selectcheckbox checkinput isChoose checkBox" value="" />',r+="<\/td>",r+="<td>",r+='<div class="list-item">',r+='<span class="cell-name">'+u.product_name+"<\/span>",r+='<span class="cell-money">\u5355\u4ef7\uff1a\u00a5 '+u.product_unitprice+"<\/span>",r+='<span class="cell-number">X'+u.product_num+"<\/span>",r+='<span class="cell-discount">\u6298\u6263\uff1a'+u.product_discount*100+"%<\/span>",r+='<span class="cell-money totalPrice">\u00a5'+u.product_total+"<\/span>",i=0;i<getmenberprotArr.length;i++)if(getmenberprotArr[i].product_id==u.product_id&&!u.leftcountfaltype&&u.type){r+='<span style="width: 82px;height: 82px;display: inline-block;position: absolute;z-index: 999;"><img src="/images/defutionp.png"><i data-sv_serialnumber="'+u.sv_serialnumber+'" data-guid="'+u.sv_order_guid+'" data-id="'+u.product_id+'" data-userecord_id="'+u.userecord_id+'" data-leftcount="'+u.product_num+'" style="position: absolute; top:-10px; right:-10px; font-size: 17px;color: #999;cursor: pointer;" class="icon-remove-sign clean prodeduction"><\/i><\/span>';break}if(r+="<\/div>",r+='<div class="item">',r+='<input data-sv_extractpattern_type="'+o+'" type="checkbox"  name="designation" data-type="2" class="selectcheckbox checkinput sv_pattern_type item-check" value="2" />',r+='<span class="item-name">\u9879\u76ee\u63d0\u6210<\/span>',r+='<select class="form-control specifiedSelect item-select0 item-select item-select2">',r+='<option value="2">\u975e\u6307\u5b9a<\/option>',r+='<option value="1">\u6307\u5b9a<\/option>',r+="<\/select>",r+='<select class="form-control item-select sv_grouping_name item-select2">',n&&n.length>0)for(f=0;f<n.length;f++)r+='<option data-sv_configtype="'+(n[f].sv_configtype||0)+'" value="'+n[f].sp_grouping_id+'">'+n[f].sp_grouping_name+"<\/option>";if(r+="<\/select>",r+='<select class="form-control sv_employee_name item-select item-select2">',t&&t.length>0)for(f=0;f<t.length;f++)r+='<option data-sp_grouping_id="'+t[f].sp_grouping_id+'" value="'+t[f].sv_employee_id+'">'+t[f].sv_employee_name+"<\/option>";if(r+="<\/select>",r+='<span class="item-performance">\u4e1a\u7ee9<\/span>',r+='<input type="text" data-sv_achievement_type="1" class="form-control sv_achievement_money item-select item-select3" value="'+u.product_total+'" />',r+='<span class="item-performance2 item-performance">\u5143<\/span>',e.toString().indexOf("1")>-1||e=="0"||e=="7"?(r+='<span class="item-performance showPerformanceShare">\u63d0\u6210<\/span>',r+='<select class="form-control item-select showPerformanceShare commissionSelect">',r+='<option value="1">\u56fa\u5b9a<\/option>',r+='<option value="2">\u6bd4\u4f8b<\/option>',r+="<\/select>",r+='<p class="commissionStyle_1" style="display: inline-block;">',r+='<input type="text" class="form-control item-select item-select4 sv_extract_money_1" data-value1="0" data-value2="0" value="0" /> ',r+='<span class="item-performance2 item-performance">\u5143<\/span>',r+="<\/p>",r+='<p class="commissionStyle_2" style="display: none;">',r+='<input type="text" class="form-control sv_proportions item-select item-select3" data-proportions1="0" data-proportions2="0" value="0" />',r+='<span class="item-performance2 item-performance">%<\/span>',r+='<span class="item-performance sv_extract_money_2">0<\/span>',r+='<span class="item-performance2 item-performance">\u5143<\/span>',r+="<\/p>",r+='<span class="item-performance showPerformanceShare">\u624b\u5de5\u8d39<\/span>',r+='<input type="text" class="form-control showPerformanceShare item-select sv_mnual_value item-select3" data-value="0" value="0" />',r+='<span class="item-performance2 item-performance showPerformanceShare">\u5143<\/span>'):(r+='<span class="item-performance showPerformanceShare" style="display:none;">\u63d0\u6210<\/span>',r+='<select class="form-control item-select showPerformanceShare commissionSelect" style="display:none;">',r+='<option value="1">\u56fa\u5b9a<\/option>',r+='<option value="2">\u6bd4\u4f8b<\/option>',r+="<\/select>",r+='<p class="commissionStyle_1" style="display:none;">',r+='<input type="text" class="form-control item-select item-select4 sv_extract_money_1" data-value1="0" data-value2="0" value="0" /> ',r+='<span class="item-performance2 item-performance">\u5143<\/span>',r+="<\/p>",r+='<p class="commissionStyle_2" style="display: none;">',r+='<input type="text" class="form-control sv_proportions item-select item-select3" data-proportions1="0" data-proportions2="0" value="0" />',r+='<span class="item-performance2 item-performance">%<\/span>',r+='<span class="item-performance sv_extract_money_2">0<\/span>',r+='<span class="item-performance2 item-performance">\u5143<\/span>',r+="<\/p>",r+='<span class="item-performance showPerformanceShare" style="display:none;">\u624b\u5de5\u8d39<\/span>',r+='<input type="text" style="display:none;" class="form-control showPerformanceShare item-select sv_mnual_value item-select3" data-value="0" value="0" />',r+='<span class="item-performance2 item-performance showPerformanceShare" style="display:none;">\u5143<\/span>'),r+='<button type="button" class="btn icon-plus add"><\/button>',r+="<\/div>",u.project_config_value&&u.project_config_value>0){if(r+='<div class="item">',r+='<input type="checkbox" data-sv_extractpattern_type="3" name="designation" data-type="3" class="checkinput sv_pattern_type isChoose item-check" value="2" />',r+='<span class="item-name">\u62d3\u5ba2<\/span>',r+='<i class="item-select item-select2 item-select0"><input type="hidden" class="specifiedSelect" value="3"/><\/i>',r+='<select class="form-control sv_grouping_name item-select item-select2">',n&&n.length>0)for(f=0;f<n.length;f++)r+='<option value="'+n[f].sp_grouping_id+'">'+n[f].sp_grouping_name+"<\/option>";if(r+="<\/select>",r+='<select class="form-control sv_employee_name item-select item-select2">',t&&t.length>0)for(f=0;f<t.length;f++)r+='<option data-sp_grouping_id="'+t[f].sp_grouping_id+'" value="'+t[f].sv_employee_id+'">'+t[f].sv_employee_name+"<\/option>";r+="<\/select>";r+='<span class="item-performance">\u4e1a\u7ee9<\/span>';r+='<input data-sv_achievement_type="'+u.project_config_type+'" data-sv_extract_type="'+u.project_config_type+'" data-type="'+u.project_config_type+'" data-value="'+u.project_config_value+'" type="text" class="form-control sv_achievement_money item-select item-select3" value="'+u.product_total+'" />';r+='<span class="item-performance2 item-performance">\u5143<\/span>';r+='<span class="item-performance">\u63d0\u6210<\/span>';r+='<select disabled class="form-control item-select commissionSelect">';u.project_config_type==1?(r+='<option value="1" selected>\u56fa\u5b9a<\/option>',r+='<option value="2">\u6bd4\u4f8b<\/option>'):(r+='<option value="1">\u56fa\u5b9a<\/option>',r+='<option value="2" selected>\u6bd4\u4f8b<\/option>');r+="<\/select>";u.project_config_type==1?(r+='<input type="text" class="form-control item-select sv_extract_money_1 item-select4" value="'+u.project_config_value+'" /> ',r+='<span class="item-performance2 item-performance">\u5143<\/span>'):(r+='<input type="text" class="form-control item-select sv_proportions item-select3" value="'+u.project_config_value+'" />',r+='<span class="item-performance2 item-performance">%<\/span>',r+='<span class="item-performance sv_extract_money_2">'+parseFloat(u.project_config_value/100*u.product_total||0).toFixed(2)+"<\/span>",r+='<span class="item-performance2 item-performance">\u5143<\/span>');r+='<span class="item-performance" style="visibility: hidden;">\u624b\u5de5\u8d39<\/span>';r+='<input style="visibility: hidden;" type="text" class="form-control sv_mnual_value item-select item-select3" value="0" />';r+='<span style="visibility: hidden;" class="item-performance2 item-performance">\u5143<\/span>';r+='<button type="button" class="btn icon-plus add"><\/button>';r+="<\/div>"}r+="<\/td>";r+="<\/tr> "});else if(i&&i.length>0){for(r+='<tr style="height:50px;line-height=50px;">',r+='<td style="width:23%;">'+d.product_name+"<\/td>",r+='<td style="width:20%;">\u5355\u4ef7\uff1a\u00a5 '+d.product_unitprice+"<\/td>",r+='<td style="width:20%;">\u6570\u91cf'+d.product_num+"<\/td>",r+='<td style="width:20%;">\u6298\u6263\uff1a'+d.product_discount*100+"%<\/td>",r+='<td style="width:30%;">\u5355\u5546\u54c1\u91d1\u989d\uff1a\u00a5'+d.product_total+"<\/td>",r+="<td>",r+='<div class="list-item" style="position: relative;width:80px;">',f=0;f<getmenberprotArr.length;f++)if(getmenberprotArr[f].product_id==d.product_id&&!d.leftcountfaltype&&d.type){r+='<span style="width: 60px;height: 60px;display: inline-block;position: absolute;z-index: 999;top:-23px;"><img style="width:100%;" src="/images/defutionp.png"><i data-sv_serialnumber="'+d.sv_serialnumber+'" data-guid="'+d.sv_order_guid+'" data-id="'+d.product_id+'" data-userecord_id="'+d.userecord_id+'" data-leftcount="'+d.product_num+'" style="position: absolute;;font-size: 17px;color: #999;cursor: pointer;" class="icon-remove-sign clean prodeduction"><\/i><\/span>';break}r+="<\/div><\/td>";r+="<\/tr>"}else $.each(productlistJsonList,function(n,t){r+='<tr style="height:50px;line-height:50px;">';r+='<td style="width:23%;">'+t.product_name+"<\/td>";r+='<td style="width:20%;">\u5355\u4ef7\uff1a\u00a5 '+t.product_unitprice+"<\/td>";r+='<td style="width:20%;">\u6570\u91cf'+t.product_num+"<\/td>";r+='<td style="width:20%;">\u6298\u6263\uff1a'+t.product_discount*100+"%<\/td>";r+='<td style="width:30%;">\u5355\u5546\u54c1\u91d1\u989d\uff1a\u00a5'+t.product_total+"<\/td>";r+="<td>";r+='<div class="list-item" style="position: relative;width:80px;">';for(var n=0;n<getmenberprotArr.length;n++)if(getmenberprotArr[n].product_id==t.product_id&&!t.leftcountfaltype&&t.type){r+='<span style="width: 60px;height: 60px;display: inline-block;position: absolute;z-index: 999;top:-3px;"><img style="width:100%;" src="/images/defutionp.png"><i data-sv_serialnumber="'+t.sv_serialnumber+'" data-guid="'+t.sv_order_guid+'" data-id="'+t.product_id+'"  data-userecord_id="'+t.userecord_id+'" data-leftcount="'+t.product_num+'" style="position: absolute;;font-size: 17px;color: #999;cursor: pointer;" class="icon-remove-sign clean prodeduction"><\/i><\/span>';break}r+="<\/div><\/td>";r+="<\/tr>"});$("#commissionCollectList").append(r);Is_open_commission||$("#commissionCollectList").parent().css("margin-top","50px")},o,s;$(document).unbind("click","#commissionCollectList .prodeduction").on("click","#commissionCollectList .prodeduction",function(){var n;$("#jiFenDiXian").is(":checked")&&$("#jiFenDiXian").trigger("click");zhonger("",!1);var t=$(this).data("id"),i=$(this).data("guid"),r=$(this).data("sv_serialnumber"),f={guid:i,id:t,sv_serialnumber:r,userecord_id:$(this).data("userecord_id"),leftcount:$(this).data("leftcount")};for(guidarr.push({guid:i,id:t,sv_serialnumber:r,userecord_id:$(this).data("userecord_id"),leftcount:$(this).data("leftcount")}),guidarrcansle=[],n=0;n<guidarr.length;n++)guidarrcansle.push({guid:guidarr[n].guid,id:guidarr[n].id,sv_serialnumber:guidarr[n].sv_serialnumber,userecord_id:guidarr[n].userecord_id,leftcount:guidarr[n].leftcount});u(t,guidarr)});$(document).unbind("click","#commissionCollectList .selectcheckbox[data-checktype='all']").on("click","#commissionCollectList .selectcheckbox[data-checktype='all']",function(){var n=$(this).is(":checked");n?$(this).parent().siblings("td").find("div.item .selectcheckbox").prop("checked",!0):$(this).parent().siblings("td").find("div.item .selectcheckbox").prop("checked",!1)});$(document).unbind("click","#commissionCollectList input.sv_pattern_type[name='designation']").on("click","#commissionCollectList input.sv_pattern_type[name='designation']",function(){var n=$(this).parent().parent().find("input.sv_pattern_type[name='designation']:checked").length;n>0?$(this).parent().parent().siblings("td").find(".isChoose").prop("checked",!0):$(this).parent().parent().siblings("td").find(".isChoose").prop("checked",!1)});$(document).unbind("change","#commissionCollectList select.sv_grouping_name").on("change","#commissionCollectList select.sv_grouping_name",function(){var t=$(this).val(),u=$(this),i,n,r;t&&t>0&&$.get("/Employee/GetEmployeeList",{sv_grouping_id:t},function(n){var i,t;if(n&&n.length>0){for(i="",t=0;t<n.length;t++)i+='<option data-sp_grouping_id="'+n[t].sp_grouping_id+'" value="'+n[t].sv_employee_id+'">'+n[t].sv_employee_name+"<\/option>";u.siblings(".sv_employee_name").html(i)}else u.siblings(".sv_employee_name").html("")});i=$(this).siblings(".sv_pattern_type").attr("data-sv_extractpattern_type");(i=="1"||i=="2")&&(n=$(this).find("option:selected").data("sv_configtype").toString(),r=$(this).siblings(".commissionSelect").val(),n.indexOf("1")>-1||n=="0"||n=="7"?($(this).siblings(".sv_pattern_type").attr("data-sv_extractpattern_type","1"),$(this).siblings(".showPerformanceShare").show(0),$(this).siblings(".commissionStyle_"+r).css("display","inline-table")):($(this).siblings(".sv_pattern_type").attr("data-sv_extractpattern_type","2"),$(this).siblings(".showPerformanceShare").hide(0),$(this).siblings(".commissionStyle_"+r).hide(0)))});$(document).unbind("change","#commissionCollectList select.commissionSelect").on("change","#commissionCollectList select.commissionSelect",function(){var n=$(this).val();n==1?($(this).siblings(".commissionStyle_2").hide(0),$(this).siblings(".commissionStyle_1").css("display","inline-table")):($(this).siblings(".commissionStyle_1").hide(0),$(this).siblings(".commissionStyle_2").css("display","inline-table"))});$(document).unbind("keyup","#commissionCollectList input.sv_achievement_money").on("keyup","#commissionCollectList input.sv_achievement_money",function(){var t=$(this).siblings(".commissionSelect").val(),i=$(this).siblings(".commissionStyle_2").find(".sv_proportions").val(),r=$(this).siblings(".sv_mnual_value").attr("data-value"),n=$(this).val();t==2&&($(this).parent().find(".sv_extract_money_2").text(parseFloat(n*(i/100)||0).toFixed(2)),$(this).siblings(".sv_mnual_value").val(parseFloat(n*(r/100)||0).toFixed(2)))});$(document).unbind("change","#commissionCollectList select.specifiedSelect").on("change","#commissionCollectList select.specifiedSelect",function(){var e=$(this).val(),o=$(this).data("sv_extract_type"),r=$(this).siblings(".commissionSelect").val(),u,t,f,i,n;e==1?r==1?(u=$(this).parent().find(".sv_extract_money_1").data("value1"),$(this).parent().find(".sv_extract_money_1").val(u)):(t=$(this).siblings(".commissionStyle_2").find(".sv_proportions").data("proportions1"),n=$(this).parent().find(".sv_achievement_money").val(),$(this).siblings(".commissionStyle_2").find(".sv_proportions").val(t),$(this).parent().find(".sv_extract_money_2").text(parseFloat(n*(t/100)||0).toFixed(2))):r==1?(f=$(this).parent().find(".sv_extract_money_1").data("value2"),$(this).parent().find(".sv_extract_money_1").val(f)):(i=$(this).siblings(".commissionStyle_2").find(".sv_proportions").data("proportions2"),n=$(this).parent().find(".sv_achievement_money").val(),$(this).siblings(".commissionStyle_2").find(".sv_proportions").val(i),$(this).parent().find(".sv_extract_money_2").text(parseFloat(n*(i/100)||0).toFixed(2)))});$(document).unbind("keyup","#commissionCollectList input.sv_proportions").on("keyup","#commissionCollectList input.sv_proportions",function(){var n=$(this).siblings(".commissionSelect").val()||$(this).parent().siblings(".commissionSelect").val()||0,t=$(this).parent().find(".sv_achievement_money").val()||$(this).parent().siblings(".sv_achievement_money").val()||0,i=$(this).val();n==2&&$(this).siblings(".sv_extract_money_2").text(parseFloat(t*(i/100)).toFixed(2))});$(document).unbind("keyup","#commissionCollectList input.sv_achievement_money").on("keyup","#commissionCollectList input.sv_achievement_money",function(){var n=$(this).siblings(".commissionSelect").val()||$(this).parent().siblings(".commissionSelect").val()||0,t=$(this).parent().find(".sv_proportions").val(),i=$(this).val();n==2&&$(this).siblings(".sv_extract_money_2").text(parseFloat(i*(t/100)).toFixed(2))});$(document).unbind("click","#commissionCollectList button.add").on("click","#commissionCollectList  button.add",function(){var n=$(this).parent(),t=n.clone(!0),i=n.find(".sv_employee_name option").first().attr("data-sp_grouping_id");t.find(".sv_grouping_name option[value="+i+"]").attr("selected",!0);n.find("button.add").remove();n.append('<button type="button" class="btn icon-minus cut"><\/button>');n.before(t)});$(document).unbind("click","#commissionCollectList button.cut").on("click","#commissionCollectList  button.cut",function(){var n=$(this).parent().remove()});return o=function(n){for(var t,r,f,o={},i=[],u=0;u<n.length;u++)if(t=n[u],o[t.sv_product_id]){for(r=0;r<i.length;r++)if(f=i[r],f.sv_product_id==t.sv_product_id){f.list.push(t);break}}else i.push({sv_product_id:t.sv_product_id,sv_grouping_id:t.sv_grouping_id,sv_grouping_name:t.sv_grouping_name,product_name:e[t.sv_product_id],employeelist:t.employeelist,setup:t.setup,list:[t]}),o[t.sv_product_id]=t;return i},s=function(){collectSwitch=!0;var i=$("#commissionCollectList tr"),n=[],t=!0;return i.each(function(){var i=$(this).find(".isChoose").is(":checked");if(i){var r=$(this).find(".isChoose").data("sv_order_guid"),u=$(this).find(".isChoose").data("id"),f=$(this).find(".isChoose").data("sv_product_money"),e=$(this).find("div.item"),o=$(this).find(".isChoose").data("sv_is_monthly_performance")||!1;e.each(function(){var y=$(this).find("input.sv_pattern_type[name='designation']").is(":checked"),v;if(y){var i=$(this).find(".sv_pattern_type").data("sv_extractpattern_type"),p=$(this).find(".sv_grouping_name").val(),h=$(this).find(".sv_employee_name").val()||0,w=$(this).find(".specifiedSelect").val(),b=$(this).find(".sv_achievement_money").data("sv_achievement_type"),k=$(this).find(".sv_achievement_money").val(),e=1,c=100,l=0,s=0,a=0,d=parseInt($("#huiyuan_id").attr("data-id")||0)>0?"1":"2";if((i==1||i==3)&&(e=$(this).find(".commissionSelect").val(),l=$(this).find(".sv_pattern_type").data("sv_config_id")||0,a=$(this).find(".sv_mnual_value").val(),e==1?s=$(this).find(".sv_extract_money_1").val():(c=$(this).find(".sv_proportions").val(),s=$(this).find(".sv_extract_money_2").text())),h<=0){t=!1;layer.msg("\u6570\u636e\u6709\u8bef,\u8bf7\u68c0\u67e5\u63d0\u6210\u6570\u636e\uff0c\u63d0\u6210\u5458\u5de5\u4e0d\u80fd\u4e3a\u7a7a\uff01");collectSwitch=!1;return}v={sv_extractpattern_type:i,sv_product_id:u,sv_product_money:f||0,sv_grouping_id:p||0,sv_employee_id:h||0,sv_pattern_type:w||-1,sv_achievement_type:b,sv_achievement_money:k,sv_extract_type:e||1,sv_proportions:c||100,sv_extract_money:s||0,sv_mnual_value:a||0,sv_consume_type:d,sv_member_id:$("#huiyuan_id").attr("data-id")||0,sv_is_monthly_performance:o,sv_config_id:l||0,sv_order_guid:r};n.push(v)}})}}),t||(n=[]),console.log(n),n},r.GetSettlementSetmealCharge=u,r.getCommissionSetUp=i,r.groupingList=h,r.productPercentageModel=s,r}();var printData=null,isDebug=!0,g_android_print_config=null,custormTracePrintSwitch=!1;_g_languangeJson="";laguangeText();languangeJson="";